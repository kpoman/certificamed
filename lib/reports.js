const a0_0x1061=['check\x20var:\x20\x22','display:none;','base64',',top=0,left=600','<canvas/>','toDataURL','toast','signature','copy','/upload/drive/v3/files/','result:','name','carbon:document-pdf','media','drawImage','length','identification','pdf_exported','/upload/drive/v3/files','black','matched\x20var:\x20','Content-Type:\x20application/json\x0d\x0a\x0d\x0a','raw_signature','getting\x20dados\x20CEP','raw_data','alert','batchUpdate','Soluti\x20BirdID','center','preenchendo\x20os\x20dados\x20automáticamente','O\x20documento\x20deve\x20ser\x20editado\x20antes\x20de\x20poder\x20gerar\x20uma\x20previsualização.','target\x20of\x20substitution:','font','fillRect','create:','debug','getProfile','Safeweb\x20SafeID','append','then','error\x20building','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','&report=','\x0d\x0a\x0d\x0a','fillStyle','content','pdf','error\x20updating\x20template\x20variables:','_qrcode','no\x20match\x20for:\x20','Content-Type:\x20','setFile','qrcode_url:','gerando\x20relatório\x20','getUser','mediaDir','atob','pdf_signed','abrindo\x20o\x20relatório','result','filename','function','mdi:qrcode','POST','safewebsign\x20data:','added\x20qrcode\x20to\x20pdf:','ant-design:safety-certificate-outlined','getCurrentEvent','rounded','error','width','file_id','/Empatizo/Drafts','base','PDFDocument','signDocument:','buildQRCode','updateInfoDict','error\x20exporting\x20to\x20pdf:','cloud','\x0d\x0a--','exportReport\x20requested:','Profissional\x20da\x20Medicina:\x20','open','pdf_qrcode','iconify\x20min-icon','width=','gerando\x20PDF\x20de\x20','signed','previewDoc:','height','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','replace','signings','keys','https://drive.google.com/uc?export=download&id=','getInfoDict','bytes','btoa','textRun','format','application/pdf','<div/>','pdf_base','-------314159265358979323846','tags','.pdf','folders',',height=','drive','\x20a\x20partir\x20de\x20modelo\x20próprio','white','draft','getHeight','metadata','docs','getContext','host','editions','object','files(id,\x20name,\x20mimeType,\x20parents)','shit\x20happened:','requested','load','\x20=>\x20','PATCH','create','multipart','/Empatizo/Templates','buildReport\x20','https://docs.google.com/document/d/','?view=','no\x20certificate\x20to\x20use\x20for\x20signing\x20...','signDoc\x20','files','localidade','public_url','Médico\x20Clínico','<span/>','concat','list','push','report','PDFString','log','publish:','extenso','\x0d\x0aContent-Transfer-Encoding:\x20','isValid','world','professional_id','embedPng','error\x20in\x20saveasbase64:','processor','calendar_id','data','profession_family','split','qrcode','uploadPdf\x20final:','14px\x20Arial','failed\x20signing:','guest','client','body','previews','PDFName','exec','sign\x20with\x20SoluTI','need\x20to\x20build\x20','multipart/related;\x20boundary=\x22','empatizoReportWindow_','buildDoc\x20','png','saveAsBase64','published_file_id','error\x20in\x20step\x20','stringify','error\x20in\x20safewebSignPdf:','get','mdi:cloud-upload-outline','request','Masculino','join','provider','YYYYMMDDHHmmss'];(function(_0x331a86,_0x1061ad){const _0x4d2c73=function(_0x46d225){while(--_0x46d225){_0x331a86['push'](_0x331a86['shift']());}};_0x4d2c73(++_0x1061ad);}(a0_0x1061,0x13a));const a0_0x4d2c=function(_0x331a86,_0x1061ad){_0x331a86=_0x331a86-0x0;let _0x4d2c73=a0_0x1061[_0x331a86];return _0x4d2c73;};var buildSequence=[{'name':a0_0x4d2c('0xb0'),'processor':buildDoc},{'name':a0_0x4d2c('0x25'),'processor':previewDoc},{'name':a0_0x4d2c('0x97'),'processor':signDoc}];function getDescendantProp(_0x2be4ae,_0x4a364f){var _0x105883=_0x4a364f[a0_0x4d2c('0x1d')]('.');while(_0x105883[a0_0x4d2c('0x49')]&&(_0x2be4ae=_0x2be4ae[_0x105883['shift']()]));return _0x2be4ae||'';}function getReport(_0x2de14a,_0x171bcf,_0x1e7f73){console[a0_0x4d2c('0x5d')]('asking\x20for\x20report\x20'+_0x2de14a+'\x20'+_0x171bcf+'\x20'+_0x1e7f73);if(_0x2de14a in reports){if(_0x1e7f73 in reports[_0x2de14a]){if(_0x171bcf in reports[_0x2de14a][_0x1e7f73])return reports[_0x2de14a][_0x1e7f73][_0x171bcf];}}return null;}function buildDoc(_0x4c6c3c){return new Promise(function(_0x32af91,_0x3539ca){console[a0_0x4d2c('0x10')](a0_0x4d2c('0x2c')+_0x4c6c3c),hideLoading(),_0x3539ca(a0_0x4d2c('0x58'));});}function signDocument(_0x2f0b01){return new Promise(function(_0x5cc178,_0x579362){if(certificate_session[a0_0x4d2c('0x38')]==a0_0x4d2c('0x5f'))safewebSignPdf(_0x2f0b01)[a0_0x4d2c('0x61')](function(_0x276eda){console['log'](a0_0x4d2c('0x7a'),_0x276eda),_0x5cc178({'metadata':{'provider':certificate_session[a0_0x4d2c('0x38')],'identification':certificate_session['identification'],'requested':certificate_session[a0_0x4d2c('0xb4')]},'raw_data':window[a0_0x4d2c('0x72')](_0x276eda[a0_0x4d2c('0x41')][a0_0x4d2c('0x50')])});},function(_0x5b429c){console[a0_0x4d2c('0x7f')](_0x5b429c),_0x579362(_0x5b429c);});else certificate_session[a0_0x4d2c('0x38')]==a0_0x4d2c('0x55')?(console[a0_0x4d2c('0x10')](a0_0x4d2c('0x28')),solutiSignPdf(_0x2f0b01)[a0_0x4d2c('0x61')](function(_0x16dc29){console[a0_0x4d2c('0x10')]('soluti\x20data:',_0x16dc29),_0x5cc178({'metadata':{'provider':certificate_session[a0_0x4d2c('0x38')],'identification':certificate_session[a0_0x4d2c('0x4a')],'requested':certificate_session[a0_0x4d2c('0xb4')]},'raw_data':_0x16dc29});},_0x3974c9=>console[a0_0x4d2c('0x7f')](_0x3974c9))):_0x579362(a0_0x4d2c('0x4'));});}function signDoc(_0x13de36,_0x55c91a){return new Promise(function(_0x57f3c5,_0x82f972){console[a0_0x4d2c('0x10')](a0_0x4d2c('0x5')+_0x13de36),x=files_data[_0x13de36],console['log'](x['length']);if(certificate_session['provider']=='Safeweb\x20SafeID')safewebSignPdf(x)['then'](function(_0x2ce613){console[a0_0x4d2c('0x10')]('signing\x20result:'),console[a0_0x4d2c('0x10')](_0x2ce613),uploadPdf(_0x55c91a,phrFolderManager['folders']['/Empatizo/Drafts'],_0x2ce613[a0_0x4d2c('0x41')]['raw_signature'])[a0_0x4d2c('0x61')](function(_0xe12657){_0x57f3c5({'id':_0xe12657[a0_0x4d2c('0x81')],'data':_0x2ce613[a0_0x4d2c('0x41')]});},function(_0x488ada){console[a0_0x4d2c('0x7f')](_0x488ada),_0x82f972(_0x488ada);});},function(_0x395d5f){console[a0_0x4d2c('0x7f')](a0_0x4d2c('0x32')),console['error'](_0x395d5f);});else certificate_session['provider']==a0_0x4d2c('0x55')&&$['alert']('A\x20assinatura\x20de\x20PDF\x20pela\x20SoluTI\x20está\x20sendo\x20integrada.\x20Tente\x20em\x20breve\x20!');});}function uploadPdf(_0x372fa7,_0x3ec134,_0x1d06ce){return data_base64=window['btoa'](_0x1d06ce),new Promise(function(_0x540082,_0xa7453c){let _0x19298a=a0_0x4d2c('0xa2'),_0x48533c=a0_0x4d2c('0x8a')+_0x19298a+'\x0d\x0a',_0x25fb63=a0_0x4d2c('0x8a')+_0x19298a+'--',_0x764f6d=a0_0x4d2c('0x9f'),_0x41e3d2=a0_0x4d2c('0x3c'),_0x4b7f3c={'name':_0x372fa7+'.pdf','mimeType':_0x764f6d,'parents':[_0x3ec134],'properties':{'hello':a0_0x4d2c('0x15'),'empatizo':'contigo'}},_0x129919=_0x48533c+a0_0x4d2c('0x4f')+JSON[a0_0x4d2c('0x31')](_0x4b7f3c)+_0x48533c+a0_0x4d2c('0x6c')+_0x764f6d+'\x0d\x0aContent-Transfer-Encoding:\x20'+_0x41e3d2+a0_0x4d2c('0x65')+data_base64+_0x25fb63,_0x1f467a={'path':a0_0x4d2c('0x4c'),'method':a0_0x4d2c('0x79'),'params':{'uploadType':a0_0x4d2c('0xb9'),'fields':'id'},'headers':{'Content-Type':a0_0x4d2c('0x2a')+_0x19298a+'\x22'},'body':_0x129919};gapi[a0_0x4d2c('0x23')]['request'](_0x1f467a)[a0_0x4d2c('0x61')](function(_0x568d18){upload={'file_id':_0x568d18[a0_0x4d2c('0x75')]['id'],'file_name':_0x372fa7,'parent_id':_0x3ec134},console[a0_0x4d2c('0x10')]('uploadPdf:',upload),_0x540082({'metadata':upload,'raw_data':_0x1d06ce});},function(_0x22bca8){console[a0_0x4d2c('0x7f')]('error\x20in\x20upload\x20multipart:'),console['error'](_0x22bca8);});});}function patchPdf(_0x25addb,_0x1496f7){return new Promise(function(_0x40b706,_0x1c89c3){pdf_data=window[a0_0x4d2c('0x9c')](_0x25addb)[a0_0x4d2c('0x96')]('\x0a',''),PDFLib[a0_0x4d2c('0x84')][a0_0x4d2c('0xb5')](pdf_data)[a0_0x4d2c('0x61')](function(_0x206e54){keys=Object[a0_0x4d2c('0x98')](_0x1496f7);for(i in keys){_0x206e54[a0_0x4d2c('0x9a')]()['set'](PDFLib[a0_0x4d2c('0x26')]['of'](keys[i]),PDFLib[a0_0x4d2c('0xf')]['of'](_0x1496f7[keys[i]]));}_0x206e54[a0_0x4d2c('0x87')](),_0x206e54[a0_0x4d2c('0x2e')]()[a0_0x4d2c('0x61')](function(_0x3d2b6e){_0x40b706(window['atob'](_0x3d2b6e));},function(_0x2058bc){console[a0_0x4d2c('0x7f')](a0_0x4d2c('0x18')),console[a0_0x4d2c('0x7f')](_0x2058bc);});},function(_0x151287){console[a0_0x4d2c('0x7f')](_0x151287),_0x1c89c3(_0x151287);});});}function buildMonkeyPatch(){evt=dashContext[a0_0x4d2c('0x7d')](),patch={},profile=dashContext[a0_0x4d2c('0x5e')]();if(a0_0x4d2c('0x1c')in profile&&profile[a0_0x4d2c('0x1c')]!=''){professions=profile['profession_family'][a0_0x4d2c('0x1d')](',');if(findOne(br_medicina,professions))return console[a0_0x4d2c('0x10')](a0_0x4d2c('0x8c')+professions),creds=profile[a0_0x4d2c('0x16')][a0_0x4d2c('0x1d')]('\x20'),crm_number='',crm_uf='',crm_speciality=a0_0x4d2c('0x9'),creds[a0_0x4d2c('0x49')]>=0x2&&(crm_number=creds[0x0],crm_uf=creds[0x1]),{'CreationDate':'D:'+moment()[a0_0x4d2c('0x9e')](a0_0x4d2c('0x39'))+'Z','MonkeyPatch':'Patinho-v0','Keywords':'{\x22eventId\x22:\x22${evt.id}\x22,\x22guestEmail\x22:\x22${evt.guest.email}\x22,\x22hostEmail\x22:\x22${evt.host.email}\x22,\x22platform\x22:\x22${customer}\x22,\x22date\x22:\x22${evt.start.dateTime}\x22}','2.16.76.1.4.2.2.1':crm_number,'2.16.76.1.4.2.2.2':crm_uf,'2.16.76.1.4.2.2.3':crm_speciality,'2.16.76.1.12.1.1':'','2.16.76.1.4.2.3.1':'','2.16.76.1.4.2.3.2':'','2.16.76.1.4.2.3.3':''};}return patch,console['log'](evt);}function previewDoc(_0x39ccbc,_0x28751){return new Promise(function(_0x3bbe51,_0x32bc9e){gapi[a0_0x4d2c('0x23')]['drive']['files']['export']({'fileId':_0x39ccbc,'mimeType':a0_0x4d2c('0x9f')})[a0_0x4d2c('0x61')](function(_0xf42fa6){let _0x20242c=buildMonkeyPatch();patchPdf(_0xf42fa6[a0_0x4d2c('0x24')],_0x20242c)['then'](function(_0x47af6c){uploadPdf(_0x28751,phrFolderManager[a0_0x4d2c('0xa5')][a0_0x4d2c('0x82')],_0x47af6c)[a0_0x4d2c('0x61')](function(_0x33feae){console[a0_0x4d2c('0x10')](a0_0x4d2c('0x44'),_0x33feae),_0x3bbe51(_0x33feae);},function(_0x3d924d){console['log'](a0_0x4d2c('0xb3')),console['log'](_0x3d924d),_0x32bc9e(_0x3d924d);});},function(_0x2f2ac9){console[a0_0x4d2c('0x7f')]('error\x20in\x20patchPdf:'),console[a0_0x4d2c('0x7f')](_0x2f2ac9);});},function(_0x2fe88a){console['error'](a0_0x4d2c('0x88')),console['error'](_0x2fe88a);});});}function buildQRCode(_0xae0be6,_0x359e5a,_0x123897){tgt_width=0x12c,tgt_height=0x12c,ori_width=0x100,ori_height=0x100,dif_width=tgt_width-ori_width,dif_height=tgt_height-ori_height,qrcode=$(a0_0x4d2c('0xa0'),{'id':a0_0x4d2c('0x1e'),'style':a0_0x4d2c('0x3b')}),$(a0_0x4d2c('0x24'))[a0_0x4d2c('0x60')](qrcode),qrcode[a0_0x4d2c('0x1e')](_0xae0be6),qrcode_canvas=$('#qrcode\x20>\x20canvas')[0x0],buffer_canvas=$(a0_0x4d2c('0x3e')),ctx=buffer_canvas[0x0][a0_0x4d2c('0xae')]('2d'),buffer_canvas[0x0][a0_0x4d2c('0x80')]=tgt_width,buffer_canvas[0x0][a0_0x4d2c('0x94')]=tgt_height,ctx[a0_0x4d2c('0x80')]=tgt_width,ctx['height']=tgt_height,ctx[a0_0x4d2c('0x66')]=a0_0x4d2c('0xa9'),ctx[a0_0x4d2c('0x5b')](0x0,0x0,ctx[a0_0x4d2c('0x80')],ctx[a0_0x4d2c('0x94')]),ctx['drawImage'](qrcode_canvas,dif_width/0x2,dif_height/0x2);!_0x359e5a&&(_0x359e5a='');ctx[a0_0x4d2c('0x5a')]=a0_0x4d2c('0x20'),ctx['textAlign']=a0_0x4d2c('0x56'),ctx[a0_0x4d2c('0x66')]=a0_0x4d2c('0x4d'),ctx['fillText'](_0x359e5a,tgt_width/0x2,ori_height+dif_height/0x2+0x12),s=buffer_canvas[0x0][a0_0x4d2c('0x3f')](),qrcode['remove']();if(_0x123897)return x=s['split'](','),window[a0_0x4d2c('0x72')](x[0x1]);return s;}function addQRCode(_0x16305c,_0x1b66d9,_0x480adc){let _0x9da8d1=window['btoa'](_0x16305c)['replace']('\x0a',''),_0x3d78bd=buildQRCode(_0x1b66d9,_0x480adc,![]);return new Promise(function(_0x41248c,_0x1b3625){PDFLib[a0_0x4d2c('0x84')][a0_0x4d2c('0xb5')](_0x9da8d1)[a0_0x4d2c('0x61')](function(_0x3a57db){_0x3a57db[a0_0x4d2c('0x17')](_0x3d78bd)[a0_0x4d2c('0x61')](function(_0x228ea1){let _0xcd6c32=_0x3a57db['getPage'](0x0),_0x54813c=_0xcd6c32[a0_0x4d2c('0xab')](),_0x397af5=_0xcd6c32['getWidth']();_0xcd6c32[a0_0x4d2c('0x48')](_0x228ea1,{'x':0x28,'y':0x28,'width':0x50,'height':0x50}),_0x3a57db[a0_0x4d2c('0x2e')]()['then'](function(_0x2463f2){console[a0_0x4d2c('0x10')](a0_0x4d2c('0x7b')),console[a0_0x4d2c('0x10')](_0x2463f2[a0_0x4d2c('0x49')],a0_0x4d2c('0x9b')),_0x41248c({'metadata':{'function':a0_0x4d2c('0x86'),'params':[_0x1b66d9,_0x480adc,![]]},'raw_data':window[a0_0x4d2c('0x72')](_0x2463f2),'png':_0x3d78bd});},function(_0x3c6626){console[a0_0x4d2c('0x7f')](a0_0x4d2c('0x18')),console[a0_0x4d2c('0x7f')](_0x3c6626);});});},function(_0x3b3a04){console[a0_0x4d2c('0x7f')]('shit\x20happens\x20...'),console['error'](_0x3b3a04);});});}function buildUpdateRequest(_0x3bc924,_0x104b55){let _0x370082='-------314159265358979323846',_0x5ca2f9=a0_0x4d2c('0x8a')+_0x370082+'\x0d\x0a',_0x162441=a0_0x4d2c('0x8a')+_0x370082+'--',_0x49f510=a0_0x4d2c('0x9f'),_0x5d4a87=a0_0x4d2c('0x3c'),_0x3ba868={'mimeType':_0x49f510},_0x2af094=_0x5ca2f9+a0_0x4d2c('0x4f')+JSON[a0_0x4d2c('0x31')](_0x3ba868)+_0x5ca2f9+a0_0x4d2c('0x6c')+_0x49f510+a0_0x4d2c('0x13')+_0x5d4a87+a0_0x4d2c('0x65')+window[a0_0x4d2c('0x9c')](_0x104b55)+_0x162441,_0x32fc68={'path':a0_0x4d2c('0x43')+_0x3bc924,'method':a0_0x4d2c('0xb7'),'params':{'uploadType':a0_0x4d2c('0xb9'),'fields':'id'},'headers':{'Content-Type':'multipart/related;\x20boundary=\x22'+_0x370082+'\x22'},'body':_0x2af094};return _0x32fc68;}function exportReport(_0x3e2721,_0x33c87a,_0x36210e,_0x3dbde5){console[a0_0x4d2c('0x10')](a0_0x4d2c('0x8b')),console[a0_0x4d2c('0x10')](_0x33c87a,_0x3e2721,_0x36210e,_0x3dbde5);let _0x33b89b,_0x4083b6=phrFolderManager['folders'][a0_0x4d2c('0x82')];_0x36210e?_0x33b89b=_0x36210e:_0x33b89b=_0x4083b6;let _0x35ecb3={'owner':dashContext[a0_0x4d2c('0x70')](),'calendar_event':_0x3e2721,'report':_0x33c87a,'filename':reports[_0x33c87a][a0_0x4d2c('0x76')],'tags':[],'raw_data':{}};return new Promise(function(_0x3e225c,_0x3e5d46){let _0x44abe=reports[_0x33c87a]['editions'][_0x3e2721],_0x20aaed=_0x3e2721+'_'+_0x33c87a+'_'+'_base',_0x2820ed=_0x3e2721+'_'+_0x33c87a+'_'+a0_0x4d2c('0x6a'),_0x52bca1=_0x3e2721+'_'+_0x33c87a+'_'+'_qrcode_signed';_0x35ecb3[a0_0x4d2c('0xaa')]=_0x44abe,gapi['client'][a0_0x4d2c('0xa7')]['files'][a0_0x4d2c('0xb8')]({'uploadType':'media','name':_0x35ecb3[a0_0x4d2c('0x76')]+a0_0x4d2c('0xa4'),'parents':[_0x33b89b],'body':{'mimeType':a0_0x4d2c('0x9f')}})[a0_0x4d2c('0x61')](function(_0x4963f6){console['debug'](a0_0x4d2c('0x5c'),_0x4963f6),_0x35ecb3[a0_0x4d2c('0x2f')]=_0x4963f6[a0_0x4d2c('0x75')]['id'];let _0x2c07a8=a0_0x4d2c('0x99')+_0x35ecb3['published_file_id'],_0x474462=base_url+a0_0x4d2c('0x3')+_0x3e2721+a0_0x4d2c('0x64')+_0x33c87a;console[a0_0x4d2c('0x10')](a0_0x4d2c('0x6e'),_0x474462),console['log']('file_url:',_0x2c07a8),previewDoc(_0x44abe,_0x20aaed)[a0_0x4d2c('0x61')](function(_0x191218){console[a0_0x4d2c('0x5d')](a0_0x4d2c('0x93'),_0x191218),_0x35ecb3['tags']['push'](a0_0x4d2c('0x68')),_0x35ecb3[a0_0x4d2c('0xa1')]=_0x191218[a0_0x4d2c('0xac')],_0x35ecb3[a0_0x4d2c('0x52')][a0_0x4d2c('0x83')]=_0x191218[a0_0x4d2c('0x52')];if(_0x3dbde5)_0x3dbde5[a0_0x4d2c('0x60')]($(a0_0x4d2c('0xa'),{'class':a0_0x4d2c('0x8f'),'data-icon':a0_0x4d2c('0x46')}));addQRCode(_0x191218[a0_0x4d2c('0x52')],_0x474462,_0x35ecb3['filename'])[a0_0x4d2c('0x61')](function(_0x36e0c2){console[a0_0x4d2c('0x5d')]('addQRCode:',_0x36e0c2),_0x35ecb3[a0_0x4d2c('0xa3')][a0_0x4d2c('0xd')](a0_0x4d2c('0x1e'));if(_0x3dbde5)_0x3dbde5[a0_0x4d2c('0x60')]($('<span/>',{'class':'iconify\x20min-icon','data-icon':a0_0x4d2c('0x78')}));_0x35ecb3[a0_0x4d2c('0x8e')]=_0x36e0c2[a0_0x4d2c('0xac')],_0x35ecb3[a0_0x4d2c('0x8')]=_0x2c07a8,_0x35ecb3['raw_data']['png_qrcode']=_0x36e0c2[a0_0x4d2c('0x2d')],_0x35ecb3[a0_0x4d2c('0x52')][a0_0x4d2c('0x8e')]=_0x36e0c2[a0_0x4d2c('0x52')],signDocument(_0x36e0c2['raw_data'])['then'](function(_0x4745c6){console[a0_0x4d2c('0x5d')](a0_0x4d2c('0x85'),_0x4745c6);if(_0x3dbde5)_0x3dbde5['append']($(a0_0x4d2c('0xa'),{'class':'iconify\x20min-icon','data-icon':a0_0x4d2c('0x7c')}));_0x35ecb3[a0_0x4d2c('0x73')]=_0x4745c6[a0_0x4d2c('0xac')],_0x35ecb3[a0_0x4d2c('0x52')]['pdf_exported']=_0x4745c6['raw_data'],_0x35ecb3['tags'][a0_0x4d2c('0xd')](a0_0x4d2c('0x92')),uploadPdf(_0x52bca1,_0x4083b6,_0x4745c6[a0_0x4d2c('0x52')])['then'](function(_0x31fbab){console['debug'](a0_0x4d2c('0x1f'),_0x31fbab);let _0xd5b7c9=buildUpdateRequest(_0x35ecb3[a0_0x4d2c('0x2f')],_0x4745c6[a0_0x4d2c('0x52')]);gapi[a0_0x4d2c('0x23')][a0_0x4d2c('0x35')](_0xd5b7c9)[a0_0x4d2c('0x61')](function(_0x34a372){console[a0_0x4d2c('0x5d')](a0_0x4d2c('0x11'),_0x34a372),_0x35ecb3[a0_0x4d2c('0xa3')][a0_0x4d2c('0xd')]('cloud');if(_0x3dbde5)_0x3dbde5[a0_0x4d2c('0x60')]($(a0_0x4d2c('0xa'),{'class':a0_0x4d2c('0x8f'),'data-icon':a0_0x4d2c('0x34')}));_0x35ecb3[a0_0x4d2c('0x4b')]=_0x31fbab[a0_0x4d2c('0xac')],_0x3e225c(_0x35ecb3);},_0x2d3681=>{console[a0_0x4d2c('0x7f')](_0x2d3681),_0x3e5d46(_0x2d3681);});},_0x424b6e=>{console[a0_0x4d2c('0x7f')](_0x424b6e),_0x3e5d46(_0x424b6e);});},function(_0x2cf782){console['debug'](a0_0x4d2c('0x21'),_0x2cf782),_0x35ecb3[a0_0x4d2c('0x52')][a0_0x4d2c('0x4b')]=_0x36e0c2['raw_data'],uploadPdf(_0x2820ed,_0x4083b6,_0x36e0c2['raw_data'])['then'](function(_0x4fff74){console[a0_0x4d2c('0x5d')]('uploadPdf\x20final:',_0x4fff74);let _0x22aef4=buildUpdateRequest(_0x35ecb3['published_file_id'],_0x36e0c2[a0_0x4d2c('0x52')]);gapi[a0_0x4d2c('0x23')][a0_0x4d2c('0x35')](_0x22aef4)[a0_0x4d2c('0x61')](function(_0x13a58c){console['debug'](a0_0x4d2c('0x11'),_0x13a58c),_0x35ecb3[a0_0x4d2c('0xa3')][a0_0x4d2c('0xd')](a0_0x4d2c('0x89'));if(_0x3dbde5)_0x3dbde5[a0_0x4d2c('0x60')]($('<span/>',{'class':'iconify\x20min-icon','data-icon':a0_0x4d2c('0x34')}));_0x35ecb3['pdf_exported']=_0x4fff74['metadata'],_0x3e225c(_0x35ecb3);},_0x435240=>{console[a0_0x4d2c('0x7f')](_0x435240),_0x3e5d46(_0x435240);});},_0x1f16f9=>{console[a0_0x4d2c('0x7f')](_0x1f16f9),_0x3e5d46(_0x1f16f9);});});},_0x57ae69=>{console[a0_0x4d2c('0x7f')](_0x57ae69);});},_0x11b919=>{console[a0_0x4d2c('0x7f')](a0_0x4d2c('0x62'),_0x20aaed);});},_0x4e6a39=>{console[a0_0x4d2c('0x7f')](_0x4e6a39);});});}function buildReport(_0x3a0f73,_0x58bc33,_0x3eb8e5,_0x730002){showLoading(),console[a0_0x4d2c('0x10')](a0_0x4d2c('0x1')+_0x3a0f73+',\x20'+_0x58bc33+',\x20'+_0x3eb8e5+',\x20'+_0x730002),prev_report=null;for(i in buildSequence){rep=getReport(_0x3a0f73,_0x58bc33,buildSequence[i][a0_0x4d2c('0x45')]);if(!rep){_0x3eb8e5==buildSequence[i][a0_0x4d2c('0x45')]&&M['toast']({'html':a0_0x4d2c('0x91')+reports[_0x3a0f73][a0_0x4d2c('0x76')],'classes':'rounded'});console[a0_0x4d2c('0x10')](a0_0x4d2c('0x29')+buildSequence[i][a0_0x4d2c('0x45')]);var _0x49c134=_0x58bc33+'_'+_0x3a0f73+'_'+'_'+buildSequence[i][a0_0x4d2c('0x45')];buildSequence[i][a0_0x4d2c('0x19')](prev_report,_0x49c134)[a0_0x4d2c('0x61')](function(_0x42c0ca){reports[_0x3a0f73][_0x3eb8e5][_0x58bc33]=_0x42c0ca['id'],files_data[_0x42c0ca['id']]=_0x42c0ca[a0_0x4d2c('0x1b')],buildReport(_0x3a0f73,_0x58bc33,_0x3eb8e5,_0x730002);},function(_0x5d7df1){console[a0_0x4d2c('0x7f')](a0_0x4d2c('0x30')+buildSequence[i][a0_0x4d2c('0x45')]+':'),console['error'](_0x5d7df1),$[a0_0x4d2c('0x53')](_0x5d7df1);});break;}else{prev_report=rep,console[a0_0x4d2c('0x10')](buildSequence[i][a0_0x4d2c('0x45')]+':\x20'+rep);if(buildSequence[i][a0_0x4d2c('0x45')]==_0x3eb8e5){_0x730002(rep);break;}}}}function ensureReport(_0x25f315){return new Promise(function(_0x8c9a08,_0x5be420){evt=dashContext[a0_0x4d2c('0x7d')](),templates_dir=phrFolderManager[a0_0x4d2c('0xa5')][a0_0x4d2c('0x0')],drafts_dir=phrFolderManager[a0_0x4d2c('0xa5')][a0_0x4d2c('0x82')];var _0x2e534d={'pageSize':0x1,'fields':a0_0x4d2c('0xb2'),'q':'\x27'+drafts_dir+a0_0x4d2c('0x63')+evt[a0_0x4d2c('0x1a')]+'_'+_0x25f315+'\x27'};showLoading();var _0x504527=gapi[a0_0x4d2c('0x23')][a0_0x4d2c('0xa7')][a0_0x4d2c('0x6')]['list'](_0x2e534d)['then'](function(_0x3ff2df){if(_0x3ff2df['result'][a0_0x4d2c('0x6')][a0_0x4d2c('0x49')]==0x0)var _0x20460e={'pageSize':0x1,'fields':a0_0x4d2c('0xb2'),'q':'\x27'+templates_dir+a0_0x4d2c('0x95')+reports[_0x25f315]['filename']+'\x27'},_0x43cb86=gapi['client'][a0_0x4d2c('0xa7')][a0_0x4d2c('0x6')][a0_0x4d2c('0xc')](_0x20460e)[a0_0x4d2c('0x61')](function(_0x615057){if(_0x615057[a0_0x4d2c('0x75')][a0_0x4d2c('0x6')][a0_0x4d2c('0x49')]==0x1)M[a0_0x4d2c('0x40')]({'html':a0_0x4d2c('0x6f')+_0x25f315+a0_0x4d2c('0xa8'),'classes':a0_0x4d2c('0x7e')}),original=_0x615057[a0_0x4d2c('0x75')][a0_0x4d2c('0x6')][0x0]['id'];else _0x615057[a0_0x4d2c('0x75')][a0_0x4d2c('0x6')][a0_0x4d2c('0x49')]==0x0&&(original=reports[_0x25f315]['default_id'],M[a0_0x4d2c('0x40')]({'html':a0_0x4d2c('0x6f')+_0x25f315+'\x20a\x20partir\x20de\x20modelo\x20da\x20Empatizo','classes':'rounded'}));copy_data={'fileId':original,'name':evt['calendar_id']+'_'+_0x25f315,'supportsAllDrives':!![],'parents':[drafts_dir]};var _0x3fb2c9=gapi[a0_0x4d2c('0x23')][a0_0x4d2c('0xa7')]['files'][a0_0x4d2c('0x42')](copy_data)[a0_0x4d2c('0x61')](function(_0x33f8f7){gapi[a0_0x4d2c('0x23')][a0_0x4d2c('0xad')]['documents'][a0_0x4d2c('0x33')]({'documentId':_0x33f8f7[a0_0x4d2c('0x75')]['id']})[a0_0x4d2c('0x61')](function(_0x6ced53){texts=getKeys(_0x6ced53,a0_0x4d2c('0x9d')),M['toast']({'html':a0_0x4d2c('0x57'),'classes':'rounded'});var _0x4d8971=[];for(i in texts){t=texts[i],content=t[a0_0x4d2c('0x67')],matchs=String(content)['match'](/(\{\{[a-zA-Z\. \|_\-]+\}\})+/g),matchs&&(_0x4d8971=_0x4d8971[a0_0x4d2c('0xb')](matchs));}replaces=getReplaces(_0x4d8971),requests=[],keys=Object[a0_0x4d2c('0x98')](replaces);for(i in keys){stuff=keys[i],requests[a0_0x4d2c('0xd')]({'replaceAllText':{'containsText':{'text':stuff,'matchCase':!![]},'replaceText':String(replaces[keys[i]])}});}gapi[a0_0x4d2c('0x23')][a0_0x4d2c('0xad')]['documents'][a0_0x4d2c('0x54')]({'documentId':_0x33f8f7[a0_0x4d2c('0x75')]['id'],'resource':{'requests':requests}})['then'](function(_0x551030){dashContext[a0_0x4d2c('0x6d')](_0x551030[a0_0x4d2c('0x75')]['id'],a0_0x4d2c('0xe')),evt_id=dashContext['getCurrentEvent']()['id'],reports[_0x25f315][a0_0x4d2c('0xb0')][evt_id]=_0x33f8f7[a0_0x4d2c('0x75')]['id'],_0x8c9a08(_0x33f8f7[a0_0x4d2c('0x75')]['id']);},function(_0x1619e4){console['log'](a0_0x4d2c('0x69')),console[a0_0x4d2c('0x7f')](_0x1619e4),_0x5be420(_0x1619e4);},this);},function(_0x5cff21){console[a0_0x4d2c('0x7f')]('error\x20editing\x20report\x20template:'),console[a0_0x4d2c('0x7f')](_0x5cff21);});},function(_0x3cad2c){console['log'](_0x3cad2c);},this);},function(_0x12d728){console[a0_0x4d2c('0x7f')](_0x12d728);},this);else M[a0_0x4d2c('0x40')]({'html':'recuperando\x20relatório\x20editado\x20préviamente','classes':a0_0x4d2c('0x7e')}),dashContext[a0_0x4d2c('0x6d')](_0x3ff2df[a0_0x4d2c('0x75')][a0_0x4d2c('0x6')][0x0]['id'],a0_0x4d2c('0xe')),evt_id=dashContext[a0_0x4d2c('0x7d')]()['id'],reports[_0x25f315][a0_0x4d2c('0xb0')][evt_id]=_0x3ff2df[a0_0x4d2c('0x75')][a0_0x4d2c('0x6')][0x0]['id'],_0x8c9a08(_0x3ff2df[a0_0x4d2c('0x75')][a0_0x4d2c('0x6')][0x0]['id']);},function(_0x319ae5){console['log'](_0x319ae5),_0x5be420(_0x319ae5);},this);hideLoading();});}function openReport(_0x1cac6c){ensureReport(_0x1cac6c)[a0_0x4d2c('0x61')](function(_0x261999){var _0x2685a5=null,_0x3f6453=screen['width']-0x258,_0x4ce1b5=screen['height'];M['toast']({'html':a0_0x4d2c('0x74'),'classes':a0_0x4d2c('0x7e')}),reportWindow=window[a0_0x4d2c('0x8d')](a0_0x4d2c('0x2')+_0x261999,a0_0x4d2c('0x2b')+_0x1cac6c,a0_0x4d2c('0x90')+_0x3f6453+a0_0x4d2c('0xa6')+_0x4ce1b5+a0_0x4d2c('0x3d'));},function(_0x3914f0){console[a0_0x4d2c('0x7f')](_0x3914f0);});}function getKeys(_0x49ff8e,_0x391776){var _0x58ba47=[],_0x1ecb56=Object[a0_0x4d2c('0x98')](_0x49ff8e);for(var _0x3c9b0a in _0x1ecb56){if(_0x1ecb56[_0x3c9b0a]==_0x391776)_0x58ba47[a0_0x4d2c('0xd')](_0x49ff8e[_0x1ecb56[_0x3c9b0a]]);else typeof _0x49ff8e[_0x1ecb56[_0x3c9b0a]]===a0_0x4d2c('0xb1')&&_0x49ff8e[_0x1ecb56[_0x3c9b0a]]!==null&&(res=getKeys(_0x49ff8e[_0x1ecb56[_0x3c9b0a]],_0x391776),res[a0_0x4d2c('0x49')]>0x0&&(_0x58ba47=_0x58ba47['concat'](res)));}return _0x58ba47;}function getReplaces(_0x27cd40){var _0xd9ad91=/\{\{\s?(.+)\s?\}\}/g,_0x5c2166=/([^.]+)\.([^|]+)\|?(.*)/g,_0x4fed70={};for(i in _0x27cd40){var _0x55d647=new RegExp(_0xd9ad91),_0x2fb7a9=new RegExp(_0x5c2166),_0x12421b='',_0x7b9f61='',_0xbcedc0='',_0x59d810=_0x55d647['exec'](String(_0x27cd40[i])),_0x1dd5f4='';console[a0_0x4d2c('0x5d')](a0_0x4d2c('0x3a')+_0x27cd40[i]+'\x22');if(_0x59d810){console['debug'](a0_0x4d2c('0x4e')+_0x59d810);var _0x20556d=_0x2fb7a9[a0_0x4d2c('0x27')](String(_0x59d810[0x1]));if(_0x20556d){_0x12421b=_0x20556d[0x1],_0x7b9f61=_0x20556d[0x2],_0xbcedc0=_0x20556d[0x3],evt=dashContext['getCurrentEvent']();if(_0x12421b=='host')tgt=evt[a0_0x4d2c('0xaf')];else{if(_0x12421b==a0_0x4d2c('0x22'))tgt=evt[a0_0x4d2c('0x22')];else{if(_0x12421b=='consultation')tgt=evt;else _0x12421b==a0_0x4d2c('0x47')&&(tgt=phrFolderManager[a0_0x4d2c('0x71')]());}}console[a0_0x4d2c('0x5d')](a0_0x4d2c('0x59')),console[a0_0x4d2c('0x5d')](tgt+a0_0x4d2c('0xb6')+_0x7b9f61),elm=getDescendantProp(tgt,_0x7b9f61),console[a0_0x4d2c('0x5d')](elm),_0x1dd5f4=elm;if(_0xbcedc0&&_0xbcedc0!=''){var _0x4fb57a=_0xbcedc0[a0_0x4d2c('0x1d')]('.'),_0x33c25b=window['filter_'+_0x4fb57a[0x0]];typeof _0x33c25b==a0_0x4d2c('0x77')&&(_0x4fb57a['length']>0x1?_0x1dd5f4=_0x33c25b(elm,_0x4fb57a[0x1]):_0x1dd5f4=_0x33c25b(elm)),console[a0_0x4d2c('0x10')](res);}console[a0_0x4d2c('0x10')](_0x12421b+'\x20=>\x20'+_0x7b9f61+':\x20'+elm);}}else console[a0_0x4d2c('0x10')](a0_0x4d2c('0x6b')+_0x59d810);_0x4fed70[_0x27cd40[i]]=_0x1dd5f4;}return _0x4fed70;}function filter_format_date(_0x38f638,_0x51c484){!_0x51c484&&(_0x51c484='LLL');m=moment(_0x38f638);if(m[a0_0x4d2c('0x14')]())return console['log'](m),m[a0_0x4d2c('0x9e')](_0x51c484);return'-';}function filter_format_sex(_0xabd26){switch(_0xabd26){case'1':case'M':ret=a0_0x4d2c('0x36');break;case'2':case'F':ret='Feminino';break;default:ret=ret='';break;}return ret;}function filter_format_value(_0xba936f,_0x4f5369){if(_0x4f5369){if(_0x4f5369==a0_0x4d2c('0x12'))return porExtenso(_0xba936f,!![]);}return _0xba936f;}function filter_endereco_cep(_0x1fdd66,_0x1fcd45){console[a0_0x4d2c('0x10')](a0_0x4d2c('0x51'),_0x1fdd66),cep=_0x1fdd66[a0_0x4d2c('0x96')](/\D/g,'');let _0x387d4d='CEP\x20'+_0x1fdd66,_0x171dde=get_cep_data(cep);return _0x171dde&&(_0x1fcd45?_0x387d4d=_0x171dde[_0x1fcd45]:_0x387d4d=[_0x171dde['logradouro'],_0x171dde['bairro'],_0x171dde[a0_0x4d2c('0x7')],_0x171dde['uf']][a0_0x4d2c('0x37')](',\x20')),_0x387d4d;}