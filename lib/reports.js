const a0_0x1f4b=['logradouro','pdf','addQRCode:','folders','center','object','error\x20editing\x20report\x20template:','shit\x20happens\x20...','signings','#qrcode\x20>\x20canvas','calendar_id','14px\x20Arial','\x20a\x20partir\x20de\x20modelo\x20próprio','fillStyle','name','textRun','failed\x20signing:','raw_data','filter_','getPage','list','O\x20documento\x20deve\x20ser\x20editado\x20antes\x20de\x20poder\x20gerar\x20uma\x20previsualização.','Médico\x20Clínico','bairro','cep\x20is\x20valid,\x20getting\x20information','remove','pdf_signed','<span/>','metadata','drawImage','requested','signed','height','\x20=>\x20','then','base64','shift','join','rounded','guest','bytes','display:none;','keys','public_url','_base','Safeweb\x20SafeID','mdi:qrcode','safewebsign\x20data:','empatizoReportWindow_','body','/upload/drive/v3/files/','debug','extenso','published_file_id','get','CEP\x20','function','getProfile','publish:','atob','multipart/related;\x20boundary=\x22','A\x20assinatura\x20de\x20PDF\x20pela\x20SoluTI\x20está\x20sendo\x20integrada.\x20Tente\x20em\x20breve\x20!','\x0d\x0aContent-Transfer-Encoding:\x20','identification','error','<canvas/>','replace','Masculino','btoa','previewDoc:','\x20a\x20partir\x20de\x20modelo\x20da\x20Empatizo','error\x20in\x20step\x20','iconify\x20min-icon','ajaxSetup','qrcode','previews','fillRect','fillText','error\x20in\x20saveasbase64:','files(id,\x20name,\x20mimeType,\x20parents)','_qrcode_signed','&report=','data',',top=0,left=600','tags','\x0d\x0a\x0d\x0a','{\x22eventId\x22:\x22${evt.id}\x22,\x22guestEmail\x22:\x22${evt.guest.email}\x22,\x22hostEmail\x22:\x22${evt.host.email}\x22,\x22platform\x22:\x22${customer}\x22,\x22date\x22:\x22${evt.start.dateTime}\x22}','mediaDir','https://drive.google.com/uc?export=download&id=','error\x20in\x20safewebSignPdf:','match','concat','PDFString','length','raw_signature','Patinho-v0','exportReport\x20requested:','filename','carbon:document-pdf','gerando\x20relatório\x20','shit\x20happened:','matched\x20var:\x20','PDFName','log','/json/','contigo','docs','png','error\x20updating\x20template\x20variables:','signing\x20result:','setFile','sign\x20with\x20SoluTI','multipart','Profissional\x20da\x20Medicina:\x20','file_id','exec','pdf_exported','media','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','asking\x20for\x20report\x20','white','provider','https://viacep.com.br/ws/','result','signature','stringify','width','push','localidade','/Empatizo/Drafts','Content-Type:\x20','format','gerando\x20PDF\x20de\x20','.pdf','PDFDocument','result:','getWidth','append','toDataURL','no\x20match\x20for:\x20','base','client','check\x20var:\x20\x22','processor','world','drive','png_qrcode','-------314159265358979323846','saveAsBase64',',height=','copy','pdf_qrcode','Soluti\x20BirdID','getInfoDict','YYYYMMDDHHmmss','create','alert','split','load','cloud','consultation','profession_family','request','POST','default_id','getContext','getCurrentEvent','/upload/drive/v3/files','editions','application/pdf','toast','\x0d\x0a--','test','host','need\x20to\x20build\x20','error\x20in\x20upload\x20multipart:','documents','uploadPdf\x20final:','buildQRCode','uploadPdf:','files','create:'];(function(_0x32f872,_0x1f4bae){const _0x3b05ee=function(_0x112a35){while(--_0x112a35){_0x32f872['push'](_0x32f872['shift']());}};_0x3b05ee(++_0x1f4bae);}(a0_0x1f4b,0x13a));const a0_0x3b05=function(_0x32f872,_0x1f4bae){_0x32f872=_0x32f872-0x0;let _0x3b05ee=a0_0x1f4b[_0x32f872];return _0x3b05ee;};var buildSequence=[{'name':a0_0x3b05('0x24'),'processor':buildDoc},{'name':a0_0x3b05('0x7d'),'processor':previewDoc},{'name':a0_0x3b05('0x3a'),'processor':signDoc}];function getDescendantProp(_0x4fb125,_0x7e5273){var _0x31dfdd=_0x7e5273[a0_0x3b05('0x19')]('.');while(_0x31dfdd[a0_0x3b05('0x8f')]&&(_0x4fb125=_0x4fb125[_0x31dfdd[a0_0x3b05('0x56')]()]));return _0x4fb125||'';}function getReport(_0x3e7172,_0x1e132a,_0x107e94){console['debug'](a0_0x3b05('0xa9')+_0x3e7172+'\x20'+_0x1e132a+'\x20'+_0x107e94);if(_0x3e7172 in reports){if(_0x107e94 in reports[_0x3e7172]){if(_0x1e132a in reports[_0x3e7172][_0x107e94])return reports[_0x3e7172][_0x107e94][_0x1e132a];}}return null;}function buildDoc(_0x3d2207){return new Promise(function(_0x140797,_0x335ee7){console[a0_0x3b05('0x99')]('buildDoc\x20'+_0x3d2207),hideLoading(),_0x335ee7(a0_0x3b05('0x47'));});}function signDocument(_0x14e8e7){return new Promise(function(_0x5c7de7,_0x22cfe0){if(certificate_session[a0_0x3b05('0xab')]==a0_0x3b05('0x5f'))safewebSignPdf(_0x14e8e7)['then'](function(_0x5dfff5){console['log'](a0_0x3b05('0x61'),_0x5dfff5),_0x5c7de7({'metadata':{'provider':certificate_session['provider'],'identification':certificate_session[a0_0x3b05('0x71')],'requested':certificate_session[a0_0x3b05('0x50')]},'raw_data':window[a0_0x3b05('0x6d')](_0x5dfff5[a0_0x3b05('0xae')][a0_0x3b05('0x90')])});},function(_0x9151ab){console[a0_0x3b05('0x72')](_0x9151ab),_0x22cfe0(_0x9151ab);});else certificate_session['provider']==a0_0x3b05('0x14')?(console[a0_0x3b05('0x99')](a0_0x3b05('0xa1')),solutiSignPdf(_0x14e8e7)[a0_0x3b05('0x54')](function(_0x41d82b){console[a0_0x3b05('0x99')]('soluti\x20data:',_0x41d82b),_0x5c7de7({'metadata':{'provider':certificate_session[a0_0x3b05('0xab')],'identification':certificate_session['identification'],'requested':certificate_session[a0_0x3b05('0x50')]},'raw_data':_0x41d82b});},_0x2b9f1a=>console[a0_0x3b05('0x72')](_0x2b9f1a))):_0x22cfe0('no\x20certificate\x20to\x20use\x20for\x20signing\x20...');});}function signDoc(_0xbb9659,_0x5be1fc){return new Promise(function(_0x4ab66f,_0x2f3825){console[a0_0x3b05('0x99')]('signDoc\x20'+_0xbb9659),x=files_data[_0xbb9659],console['log'](x[a0_0x3b05('0x8f')]);if(certificate_session[a0_0x3b05('0xab')]==a0_0x3b05('0x5f'))safewebSignPdf(x)[a0_0x3b05('0x54')](function(_0x3f3521){console[a0_0x3b05('0x99')](a0_0x3b05('0x9f')),console['log'](_0x3f3521),uploadPdf(_0x5be1fc,phrFolderManager['folders'][a0_0x3b05('0xb3')],_0x3f3521[a0_0x3b05('0xae')][a0_0x3b05('0x90')])[a0_0x3b05('0x54')](function(_0x4a9dff){_0x4ab66f({'id':_0x4a9dff[a0_0x3b05('0xa4')],'data':_0x3f3521[a0_0x3b05('0xae')]});},function(_0x428be8){console[a0_0x3b05('0x72')](_0x428be8),_0x2f3825(_0x428be8);});},function(_0x287de4){console[a0_0x3b05('0x72')](a0_0x3b05('0x8b')),console['error'](_0x287de4);});else certificate_session['provider']==a0_0x3b05('0x14')&&$[a0_0x3b05('0x18')](a0_0x3b05('0x6f'));});}function uploadPdf(_0x1ab1d6,_0x5eb22d,_0x41355b){return data_base64=window[a0_0x3b05('0x76')](_0x41355b),new Promise(function(_0x4e07b9,_0x56fbdd){let _0x558e72=a0_0x3b05('0xf'),_0x1bac30='\x0d\x0a--'+_0x558e72+'\x0d\x0a',_0x19d3ac=a0_0x3b05('0x27')+_0x558e72+'--',_0x47cc18=a0_0x3b05('0x25'),_0x20ce57=a0_0x3b05('0x55'),_0x2ba4ba={'name':_0x1ab1d6+a0_0x3b05('0x1'),'mimeType':_0x47cc18,'parents':[_0x5eb22d],'properties':{'hello':a0_0x3b05('0xc'),'empatizo':a0_0x3b05('0x9b')}},_0x3f5985=_0x1bac30+'Content-Type:\x20application/json\x0d\x0a\x0d\x0a'+JSON[a0_0x3b05('0xaf')](_0x2ba4ba)+_0x1bac30+a0_0x3b05('0xb4')+_0x47cc18+a0_0x3b05('0x70')+_0x20ce57+a0_0x3b05('0x87')+data_base64+_0x19d3ac,_0x243b67={'path':a0_0x3b05('0x23'),'method':a0_0x3b05('0x1f'),'params':{'uploadType':a0_0x3b05('0xa2'),'fields':'id'},'headers':{'Content-Type':a0_0x3b05('0x6e')+_0x558e72+'\x22'},'body':_0x3f5985};gapi[a0_0x3b05('0x9')][a0_0x3b05('0x1e')](_0x243b67)[a0_0x3b05('0x54')](function(_0x3a7b1a){upload={'file_id':_0x3a7b1a[a0_0x3b05('0xad')]['id'],'file_name':_0x1ab1d6,'parent_id':_0x5eb22d},console[a0_0x3b05('0x99')](a0_0x3b05('0x2f'),upload),_0x4e07b9({'metadata':upload,'raw_data':_0x41355b});},function(_0x5b958e){console[a0_0x3b05('0x72')](a0_0x3b05('0x2b')),console[a0_0x3b05('0x72')](_0x5b958e);});});}function patchPdf(_0x3771ec,_0x58c893){return new Promise(function(_0x14c5ae,_0x1891ad){pdf_data=window[a0_0x3b05('0x76')](_0x3771ec)['replace']('\x0a',''),PDFLib[a0_0x3b05('0x2')][a0_0x3b05('0x1a')](pdf_data)[a0_0x3b05('0x54')](function(_0x57da62){keys=Object[a0_0x3b05('0x5c')](_0x58c893);for(i in keys){_0x57da62[a0_0x3b05('0x15')]()['set'](PDFLib[a0_0x3b05('0x98')]['of'](keys[i]),PDFLib[a0_0x3b05('0x8e')]['of'](_0x58c893[keys[i]]));}_0x57da62['updateInfoDict'](),_0x57da62[a0_0x3b05('0x10')]()[a0_0x3b05('0x54')](function(_0x429e19){_0x14c5ae(window['atob'](_0x429e19));},function(_0x2e14dd){console[a0_0x3b05('0x72')]('error\x20in\x20saveasbase64:'),console[a0_0x3b05('0x72')](_0x2e14dd);});},function(_0x54a887){console[a0_0x3b05('0x72')](_0x54a887),_0x1891ad(_0x54a887);});});}function buildMonkeyPatch(){evt=dashContext[a0_0x3b05('0x22')](),patch={},profile=dashContext[a0_0x3b05('0x6b')]();if(a0_0x3b05('0x1d')in profile&&profile[a0_0x3b05('0x1d')]!=''){professions=profile[a0_0x3b05('0x1d')][a0_0x3b05('0x19')](',');if(findOne(br_medicina,professions))return console['log'](a0_0x3b05('0xa3')+professions),creds=profile['professional_id']['split']('\x20'),crm_number='',crm_uf='',crm_speciality=a0_0x3b05('0x48'),creds[a0_0x3b05('0x8f')]>=0x2&&(crm_number=creds[0x0],crm_uf=creds[0x1]),{'CreationDate':'D:'+moment()[a0_0x3b05('0xb5')](a0_0x3b05('0x16'))+'Z','MonkeyPatch':a0_0x3b05('0x91'),'Keywords':a0_0x3b05('0x88'),'2.16.76.1.4.2.2.1':crm_number,'2.16.76.1.4.2.2.2':crm_uf,'2.16.76.1.4.2.2.3':crm_speciality,'2.16.76.1.12.1.1':'','2.16.76.1.4.2.3.1':'','2.16.76.1.4.2.3.2':'','2.16.76.1.4.2.3.3':''};}return patch,console[a0_0x3b05('0x99')](evt);}function previewDoc(_0x4bc4d8,_0x6b492e){return new Promise(function(_0x112732,_0x1f97bb){gapi[a0_0x3b05('0x9')]['drive'][a0_0x3b05('0x30')]['export']({'fileId':_0x4bc4d8,'mimeType':a0_0x3b05('0x25')})[a0_0x3b05('0x54')](function(_0x2425d2){let _0x18fc5f=buildMonkeyPatch();patchPdf(_0x2425d2['body'],_0x18fc5f)[a0_0x3b05('0x54')](function(_0x4d2d3f){uploadPdf(_0x6b492e,phrFolderManager[a0_0x3b05('0x35')][a0_0x3b05('0xb3')],_0x4d2d3f)[a0_0x3b05('0x54')](function(_0x24f223){console[a0_0x3b05('0x99')](a0_0x3b05('0x3'),_0x24f223),_0x112732(_0x24f223);},function(_0x3a6e4a){console[a0_0x3b05('0x99')](a0_0x3b05('0x96')),console['log'](_0x3a6e4a),_0x1f97bb(_0x3a6e4a);});},function(_0x3f1021){console[a0_0x3b05('0x72')]('error\x20in\x20patchPdf:'),console['error'](_0x3f1021);});},function(_0x187c18){console['error']('error\x20exporting\x20to\x20pdf:'),console[a0_0x3b05('0x72')](_0x187c18);});});}function buildQRCode(_0x13629f,_0x5cadac,_0x5b82c1){tgt_width=0x12c,tgt_height=0x12c,ori_width=0x100,ori_height=0x100,dif_width=tgt_width-ori_width,dif_height=tgt_height-ori_height,qrcode=$('<div/>',{'id':'qrcode','style':a0_0x3b05('0x5b')}),$(a0_0x3b05('0x63'))[a0_0x3b05('0x5')](qrcode),qrcode[a0_0x3b05('0x7c')](_0x13629f),qrcode_canvas=$(a0_0x3b05('0x3b'))[0x0],buffer_canvas=$(a0_0x3b05('0x73')),ctx=buffer_canvas[0x0][a0_0x3b05('0x21')]('2d'),buffer_canvas[0x0][a0_0x3b05('0xb0')]=tgt_width,buffer_canvas[0x0][a0_0x3b05('0x52')]=tgt_height,ctx[a0_0x3b05('0xb0')]=tgt_width,ctx[a0_0x3b05('0x52')]=tgt_height,ctx[a0_0x3b05('0x3f')]=a0_0x3b05('0xaa'),ctx[a0_0x3b05('0x7e')](0x0,0x0,ctx[a0_0x3b05('0xb0')],ctx[a0_0x3b05('0x52')]),ctx[a0_0x3b05('0x4f')](qrcode_canvas,dif_width/0x2,dif_height/0x2);!_0x5cadac&&(_0x5cadac='');ctx['font']=a0_0x3b05('0x3d'),ctx['textAlign']=a0_0x3b05('0x36'),ctx[a0_0x3b05('0x3f')]='black',ctx[a0_0x3b05('0x7f')](_0x5cadac,tgt_width/0x2,ori_height+dif_height/0x2+0x12),s=buffer_canvas[0x0][a0_0x3b05('0x6')](),qrcode[a0_0x3b05('0x4b')]();if(_0x5b82c1)return x=s[a0_0x3b05('0x19')](','),window[a0_0x3b05('0x6d')](x[0x1]);return s;}function addQRCode(_0x3f7381,_0x55685c,_0x3d1e80){let _0xc23c2b=window[a0_0x3b05('0x76')](_0x3f7381)[a0_0x3b05('0x74')]('\x0a',''),_0x1b028c=buildQRCode(_0x55685c,_0x3d1e80,![]);return new Promise(function(_0x12224f,_0x374905){PDFLib['PDFDocument']['load'](_0xc23c2b)[a0_0x3b05('0x54')](function(_0x5b7ff1){_0x5b7ff1['embedPng'](_0x1b028c)[a0_0x3b05('0x54')](function(_0x508412){let _0x56ff26=_0x5b7ff1[a0_0x3b05('0x45')](0x0),_0x581956=_0x56ff26['getHeight'](),_0x5ddaff=_0x56ff26[a0_0x3b05('0x4')]();_0x56ff26['drawImage'](_0x508412,{'x':0x28,'y':0x28,'width':0x50,'height':0x50}),_0x5b7ff1[a0_0x3b05('0x10')]()[a0_0x3b05('0x54')](function(_0x2f51b2){console[a0_0x3b05('0x99')]('added\x20qrcode\x20to\x20pdf:'),console[a0_0x3b05('0x99')](_0x2f51b2[a0_0x3b05('0x8f')],a0_0x3b05('0x5a')),_0x12224f({'metadata':{'function':a0_0x3b05('0x2e'),'params':[_0x55685c,_0x3d1e80,![]]},'raw_data':window['atob'](_0x2f51b2),'png':_0x1b028c});},function(_0x3517b0){console[a0_0x3b05('0x72')](a0_0x3b05('0x80')),console[a0_0x3b05('0x72')](_0x3517b0);});});},function(_0xd38df1){console[a0_0x3b05('0x72')](a0_0x3b05('0x39')),console['error'](_0xd38df1);});});}function buildUpdateRequest(_0x401bb7,_0x4e4567){let _0x12eb3f=a0_0x3b05('0xf'),_0x676899=a0_0x3b05('0x27')+_0x12eb3f+'\x0d\x0a',_0x481fc1=a0_0x3b05('0x27')+_0x12eb3f+'--',_0x5e19c0=a0_0x3b05('0x25'),_0x226daa=a0_0x3b05('0x55'),_0x58c38d={'mimeType':_0x5e19c0},_0x49d4c1=_0x676899+'Content-Type:\x20application/json\x0d\x0a\x0d\x0a'+JSON[a0_0x3b05('0xaf')](_0x58c38d)+_0x676899+a0_0x3b05('0xb4')+_0x5e19c0+a0_0x3b05('0x70')+_0x226daa+a0_0x3b05('0x87')+window[a0_0x3b05('0x76')](_0x4e4567)+_0x481fc1,_0x296d61={'path':a0_0x3b05('0x64')+_0x401bb7,'method':'PATCH','params':{'uploadType':'multipart','fields':'id'},'headers':{'Content-Type':a0_0x3b05('0x6e')+_0x12eb3f+'\x22'},'body':_0x49d4c1};return _0x296d61;}function exportReport(_0x346eca,_0x56b5d7,_0xfc0cbb,_0x49ed0f){console[a0_0x3b05('0x99')](a0_0x3b05('0x92')),console[a0_0x3b05('0x99')](_0x56b5d7,_0x346eca,_0xfc0cbb,_0x49ed0f);let _0x27b9b3,_0xe558a3=phrFolderManager[a0_0x3b05('0x35')][a0_0x3b05('0xb3')];_0xfc0cbb?_0x27b9b3=_0xfc0cbb:_0x27b9b3=_0xe558a3;let _0x5bfc26={'owner':dashContext['getUser'](),'calendar_event':_0x346eca,'report':_0x56b5d7,'filename':reports[_0x56b5d7]['filename'],'tags':[],'raw_data':{}};return new Promise(function(_0x595cab,_0x5d0f59){let _0x5527ec=reports[_0x56b5d7][a0_0x3b05('0x24')][_0x346eca],_0x253fd3=_0x346eca+'_'+_0x56b5d7+'_'+a0_0x3b05('0x5e'),_0x5d7eaa=_0x346eca+'_'+_0x56b5d7+'_'+'_qrcode',_0x14b8c3=_0x346eca+'_'+_0x56b5d7+'_'+a0_0x3b05('0x82');_0x5bfc26['draft']=_0x5527ec,gapi[a0_0x3b05('0x9')][a0_0x3b05('0xd')][a0_0x3b05('0x30')][a0_0x3b05('0x17')]({'uploadType':a0_0x3b05('0xa7'),'name':_0x5bfc26['filename']+a0_0x3b05('0x1'),'parents':[_0x27b9b3],'body':{'mimeType':a0_0x3b05('0x25')}})[a0_0x3b05('0x54')](function(_0x2a9b5d){console[a0_0x3b05('0x65')](a0_0x3b05('0x31'),_0x2a9b5d),_0x5bfc26[a0_0x3b05('0x67')]=_0x2a9b5d[a0_0x3b05('0xad')]['id'];let _0x372d04=a0_0x3b05('0x8a')+_0x5bfc26[a0_0x3b05('0x67')],_0x15b1bc=base_url+'?view='+_0x346eca+a0_0x3b05('0x83')+_0x56b5d7;console[a0_0x3b05('0x99')]('qrcode_url:',_0x15b1bc),console['log']('file_url:',_0x372d04),previewDoc(_0x5527ec,_0x253fd3)['then'](function(_0xa04215){console['debug'](a0_0x3b05('0x77'),_0xa04215),_0x5bfc26['tags'][a0_0x3b05('0xb1')](a0_0x3b05('0x33')),_0x5bfc26['pdf_base']=_0xa04215[a0_0x3b05('0x4e')],_0x5bfc26['raw_data'][a0_0x3b05('0x8')]=_0xa04215[a0_0x3b05('0x43')];if(_0x49ed0f)_0x49ed0f[a0_0x3b05('0x5')]($(a0_0x3b05('0x4d'),{'class':a0_0x3b05('0x7a'),'data-icon':a0_0x3b05('0x94')}));addQRCode(_0xa04215[a0_0x3b05('0x43')],_0x15b1bc,_0x5bfc26[a0_0x3b05('0x93')])[a0_0x3b05('0x54')](function(_0x3ea3ee){console[a0_0x3b05('0x65')](a0_0x3b05('0x34'),_0x3ea3ee),_0x5bfc26['tags'][a0_0x3b05('0xb1')](a0_0x3b05('0x7c'));if(_0x49ed0f)_0x49ed0f[a0_0x3b05('0x5')]($(a0_0x3b05('0x4d'),{'class':a0_0x3b05('0x7a'),'data-icon':a0_0x3b05('0x60')}));_0x5bfc26[a0_0x3b05('0x13')]=_0x3ea3ee[a0_0x3b05('0x4e')],_0x5bfc26[a0_0x3b05('0x5d')]=_0x372d04,_0x5bfc26[a0_0x3b05('0x43')][a0_0x3b05('0xe')]=_0x3ea3ee[a0_0x3b05('0x9d')],_0x5bfc26['raw_data'][a0_0x3b05('0x13')]=_0x3ea3ee[a0_0x3b05('0x43')],signDocument(_0x3ea3ee['raw_data'])[a0_0x3b05('0x54')](function(_0xe6e750){console[a0_0x3b05('0x65')]('signDocument:',_0xe6e750);if(_0x49ed0f)_0x49ed0f[a0_0x3b05('0x5')]($(a0_0x3b05('0x4d'),{'class':a0_0x3b05('0x7a'),'data-icon':'ant-design:safety-certificate-outlined'}));_0x5bfc26[a0_0x3b05('0x4c')]=_0xe6e750['metadata'],_0x5bfc26[a0_0x3b05('0x43')][a0_0x3b05('0xa6')]=_0xe6e750[a0_0x3b05('0x43')],_0x5bfc26[a0_0x3b05('0x86')][a0_0x3b05('0xb1')](a0_0x3b05('0x51')),uploadPdf(_0x14b8c3,_0xe558a3,_0xe6e750['raw_data'])[a0_0x3b05('0x54')](function(_0x238f20){console[a0_0x3b05('0x65')](a0_0x3b05('0x2d'),_0x238f20);let _0x32dfda=buildUpdateRequest(_0x5bfc26[a0_0x3b05('0x67')],_0xe6e750[a0_0x3b05('0x43')]);gapi[a0_0x3b05('0x9')][a0_0x3b05('0x1e')](_0x32dfda)[a0_0x3b05('0x54')](function(_0x2a8b5d){console['debug']('publish:',_0x2a8b5d),_0x5bfc26[a0_0x3b05('0x86')][a0_0x3b05('0xb1')]('cloud');if(_0x49ed0f)_0x49ed0f[a0_0x3b05('0x5')]($(a0_0x3b05('0x4d'),{'class':a0_0x3b05('0x7a'),'data-icon':'mdi:cloud-upload-outline'}));_0x5bfc26['pdf_exported']=_0x238f20[a0_0x3b05('0x4e')],_0x595cab(_0x5bfc26);},_0xf74447=>{console[a0_0x3b05('0x72')](_0xf74447),_0x5d0f59(_0xf74447);});},_0x2201f1=>{console['error'](_0x2201f1),_0x5d0f59(_0x2201f1);});},function(_0x544552){console['debug'](a0_0x3b05('0x42'),_0x544552),_0x5bfc26['raw_data'][a0_0x3b05('0xa6')]=_0x3ea3ee[a0_0x3b05('0x43')],uploadPdf(_0x5d7eaa,_0xe558a3,_0x3ea3ee[a0_0x3b05('0x43')])[a0_0x3b05('0x54')](function(_0x5021b3){console[a0_0x3b05('0x65')](a0_0x3b05('0x2d'),_0x5021b3);let _0x7ca5e6=buildUpdateRequest(_0x5bfc26[a0_0x3b05('0x67')],_0x3ea3ee[a0_0x3b05('0x43')]);gapi[a0_0x3b05('0x9')][a0_0x3b05('0x1e')](_0x7ca5e6)[a0_0x3b05('0x54')](function(_0x569284){console['debug'](a0_0x3b05('0x6c'),_0x569284),_0x5bfc26[a0_0x3b05('0x86')][a0_0x3b05('0xb1')](a0_0x3b05('0x1b'));if(_0x49ed0f)_0x49ed0f[a0_0x3b05('0x5')]($('<span/>',{'class':a0_0x3b05('0x7a'),'data-icon':'mdi:cloud-upload-outline'}));_0x5bfc26[a0_0x3b05('0xa6')]=_0x5021b3[a0_0x3b05('0x4e')],_0x595cab(_0x5bfc26);},_0x41b405=>{console['error'](_0x41b405),_0x5d0f59(_0x41b405);});},_0x1adf9b=>{console['error'](_0x1adf9b),_0x5d0f59(_0x1adf9b);});});},_0x7ea7fe=>{console[a0_0x3b05('0x72')](_0x7ea7fe);});},_0x5deb49=>{console[a0_0x3b05('0x72')]('error\x20building',_0x253fd3);});},_0x4f04be=>{console['error'](_0x4f04be);});});}function buildReport(_0x1ae4a2,_0x450c69,_0x3d756e,_0x523f41){showLoading(),console[a0_0x3b05('0x99')]('buildReport\x20'+_0x1ae4a2+',\x20'+_0x450c69+',\x20'+_0x3d756e+',\x20'+_0x523f41),prev_report=null;for(i in buildSequence){rep=getReport(_0x1ae4a2,_0x450c69,buildSequence[i][a0_0x3b05('0x40')]);if(!rep){_0x3d756e==buildSequence[i][a0_0x3b05('0x40')]&&M[a0_0x3b05('0x26')]({'html':a0_0x3b05('0x0')+reports[_0x1ae4a2][a0_0x3b05('0x93')],'classes':a0_0x3b05('0x58')});console[a0_0x3b05('0x99')](a0_0x3b05('0x2a')+buildSequence[i][a0_0x3b05('0x40')]);var _0x4fbf73=_0x450c69+'_'+_0x1ae4a2+'_'+'_'+buildSequence[i][a0_0x3b05('0x40')];buildSequence[i][a0_0x3b05('0xb')](prev_report,_0x4fbf73)['then'](function(_0x324d3b){reports[_0x1ae4a2][_0x3d756e][_0x450c69]=_0x324d3b['id'],files_data[_0x324d3b['id']]=_0x324d3b[a0_0x3b05('0x84')],buildReport(_0x1ae4a2,_0x450c69,_0x3d756e,_0x523f41);},function(_0x1a7fdb){console[a0_0x3b05('0x72')](a0_0x3b05('0x79')+buildSequence[i][a0_0x3b05('0x40')]+':'),console['error'](_0x1a7fdb),$['alert'](_0x1a7fdb);});break;}else{prev_report=rep,console[a0_0x3b05('0x99')](buildSequence[i][a0_0x3b05('0x40')]+':\x20'+rep);if(buildSequence[i][a0_0x3b05('0x40')]==_0x3d756e){_0x523f41(rep);break;}}}}function ensureReport(_0x3f7d61){return new Promise(function(_0x2be071,_0x113662){evt=dashContext[a0_0x3b05('0x22')](),templates_dir=phrFolderManager['folders']['/Empatizo/Templates'],drafts_dir=phrFolderManager[a0_0x3b05('0x35')][a0_0x3b05('0xb3')];var _0x289e1d={'pageSize':0x1,'fields':a0_0x3b05('0x81'),'q':'\x27'+drafts_dir+a0_0x3b05('0xa8')+evt['calendar_id']+'_'+_0x3f7d61+'\x27'};showLoading();var _0x3f6ca7=gapi[a0_0x3b05('0x9')][a0_0x3b05('0xd')][a0_0x3b05('0x30')][a0_0x3b05('0x46')](_0x289e1d)[a0_0x3b05('0x54')](function(_0x480b90){if(_0x480b90[a0_0x3b05('0xad')][a0_0x3b05('0x30')][a0_0x3b05('0x8f')]==0x0)var _0x1dc37c={'pageSize':0x1,'fields':'files(id,\x20name,\x20mimeType,\x20parents)','q':'\x27'+templates_dir+'\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27'+reports[_0x3f7d61][a0_0x3b05('0x93')]+'\x27'},_0x2f18db=gapi[a0_0x3b05('0x9')][a0_0x3b05('0xd')][a0_0x3b05('0x30')][a0_0x3b05('0x46')](_0x1dc37c)[a0_0x3b05('0x54')](function(_0x3debe3){if(_0x3debe3[a0_0x3b05('0xad')][a0_0x3b05('0x30')][a0_0x3b05('0x8f')]==0x1)M[a0_0x3b05('0x26')]({'html':a0_0x3b05('0x95')+_0x3f7d61+a0_0x3b05('0x3e'),'classes':'rounded'}),original=_0x3debe3[a0_0x3b05('0xad')]['files'][0x0]['id'];else _0x3debe3[a0_0x3b05('0xad')][a0_0x3b05('0x30')][a0_0x3b05('0x8f')]==0x0&&(original=reports[_0x3f7d61][a0_0x3b05('0x20')],M[a0_0x3b05('0x26')]({'html':a0_0x3b05('0x95')+_0x3f7d61+a0_0x3b05('0x78'),'classes':a0_0x3b05('0x58')}));copy_data={'fileId':original,'name':evt[a0_0x3b05('0x3c')]+'_'+_0x3f7d61,'supportsAllDrives':!![],'parents':[drafts_dir]};var _0x46a797=gapi[a0_0x3b05('0x9')][a0_0x3b05('0xd')][a0_0x3b05('0x30')][a0_0x3b05('0x12')](copy_data)[a0_0x3b05('0x54')](function(_0x3582dc){gapi['client'][a0_0x3b05('0x9c')][a0_0x3b05('0x2c')][a0_0x3b05('0x68')]({'documentId':_0x3582dc[a0_0x3b05('0xad')]['id']})[a0_0x3b05('0x54')](function(_0x19150a){texts=getKeys(_0x19150a,a0_0x3b05('0x41')),M[a0_0x3b05('0x26')]({'html':'preenchendo\x20os\x20dados\x20automáticamente','classes':a0_0x3b05('0x58')});var _0x50ae57=[];for(i in texts){t=texts[i],content=t['content'],matchs=String(content)[a0_0x3b05('0x8c')](/(\{\{[a-zA-Z\. \|_\-]+\}\})+/g),matchs&&(_0x50ae57=_0x50ae57['concat'](matchs));}replaces=getReplaces(_0x50ae57),requests=[],keys=Object[a0_0x3b05('0x5c')](replaces);for(i in keys){stuff=keys[i],requests[a0_0x3b05('0xb1')]({'replaceAllText':{'containsText':{'text':stuff,'matchCase':!![]},'replaceText':String(replaces[keys[i]])}});}gapi[a0_0x3b05('0x9')][a0_0x3b05('0x9c')][a0_0x3b05('0x2c')]['batchUpdate']({'documentId':_0x3582dc[a0_0x3b05('0xad')]['id'],'resource':{'requests':requests}})[a0_0x3b05('0x54')](function(_0x11b1be){dashContext[a0_0x3b05('0xa0')](_0x11b1be[a0_0x3b05('0xad')]['id'],'report'),evt_id=dashContext[a0_0x3b05('0x22')]()['id'],reports[_0x3f7d61][a0_0x3b05('0x24')][evt_id]=_0x3582dc[a0_0x3b05('0xad')]['id'],_0x2be071(_0x3582dc['result']['id']);},function(_0x6b7a3){console['log'](a0_0x3b05('0x9e')),console[a0_0x3b05('0x72')](_0x6b7a3),_0x113662(_0x6b7a3);},this);},function(_0x4eb4df){console['error'](a0_0x3b05('0x38')),console[a0_0x3b05('0x72')](_0x4eb4df);});},function(_0xf89f61){console[a0_0x3b05('0x99')](_0xf89f61);},this);},function(_0x313844){console[a0_0x3b05('0x72')](_0x313844);},this);else M[a0_0x3b05('0x26')]({'html':'recuperando\x20relatório\x20editado\x20préviamente','classes':a0_0x3b05('0x58')}),dashContext[a0_0x3b05('0xa0')](_0x480b90[a0_0x3b05('0xad')][a0_0x3b05('0x30')][0x0]['id'],'report'),evt_id=dashContext[a0_0x3b05('0x22')]()['id'],reports[_0x3f7d61][a0_0x3b05('0x24')][evt_id]=_0x480b90['result'][a0_0x3b05('0x30')][0x0]['id'],_0x2be071(_0x480b90[a0_0x3b05('0xad')]['files'][0x0]['id']);},function(_0x485a6c){console[a0_0x3b05('0x99')](_0x485a6c),_0x113662(_0x485a6c);},this);hideLoading();});}function openReport(_0x403cc9){ensureReport(_0x403cc9)[a0_0x3b05('0x54')](function(_0x263df8){var _0x5c34b1=null,_0x817dfc=screen[a0_0x3b05('0xb0')]-0x258,_0x39196b=screen['height'];M[a0_0x3b05('0x26')]({'html':'abrindo\x20o\x20relatório','classes':a0_0x3b05('0x58')}),reportWindow=window['open']('https://docs.google.com/document/d/'+_0x263df8,a0_0x3b05('0x62')+_0x403cc9,'width='+_0x817dfc+a0_0x3b05('0x11')+_0x39196b+a0_0x3b05('0x85'));},function(_0x8d88c6){console[a0_0x3b05('0x72')](_0x8d88c6);});}function getKeys(_0x38f708,_0x65bb8d){var _0x305f6e=[],_0x404ac9=Object['keys'](_0x38f708);for(var _0x11ceac in _0x404ac9){if(_0x404ac9[_0x11ceac]==_0x65bb8d)_0x305f6e[a0_0x3b05('0xb1')](_0x38f708[_0x404ac9[_0x11ceac]]);else typeof _0x38f708[_0x404ac9[_0x11ceac]]===a0_0x3b05('0x37')&&_0x38f708[_0x404ac9[_0x11ceac]]!==null&&(res=getKeys(_0x38f708[_0x404ac9[_0x11ceac]],_0x65bb8d),res[a0_0x3b05('0x8f')]>0x0&&(_0x305f6e=_0x305f6e[a0_0x3b05('0x8d')](res)));}return _0x305f6e;}function getReplaces(_0x370609){var _0x433b6d=/\{\{\s?(.+)\s?\}\}/g,_0x147daa=/([^.]+)\.([^|]+)\|?(.*)/g,_0x270d0c={};for(i in _0x370609){var _0x4267a8=new RegExp(_0x433b6d),_0x46cad5=new RegExp(_0x147daa),_0x384da8='',_0x2ee9df='',_0x177f63='',_0x2d96be=_0x4267a8[a0_0x3b05('0xa5')](String(_0x370609[i])),_0x5c6024='';console[a0_0x3b05('0x65')](a0_0x3b05('0xa')+_0x370609[i]+'\x22');if(_0x2d96be){console[a0_0x3b05('0x65')](a0_0x3b05('0x97')+_0x2d96be);var _0x2e5a3c=_0x46cad5[a0_0x3b05('0xa5')](String(_0x2d96be[0x1]));if(_0x2e5a3c){_0x384da8=_0x2e5a3c[0x1],_0x2ee9df=_0x2e5a3c[0x2],_0x177f63=_0x2e5a3c[0x3],evt=dashContext['getCurrentEvent']();if(_0x384da8==a0_0x3b05('0x29'))tgt=evt[a0_0x3b05('0x29')];else{if(_0x384da8==a0_0x3b05('0x59'))tgt=evt[a0_0x3b05('0x59')];else{if(_0x384da8==a0_0x3b05('0x1c'))tgt=evt;else _0x384da8=='media'&&(tgt=phrFolderManager[a0_0x3b05('0x89')]());}}console[a0_0x3b05('0x65')]('target\x20of\x20substitution:'),console[a0_0x3b05('0x65')](tgt+a0_0x3b05('0x53')+_0x2ee9df),elm=getDescendantProp(tgt,_0x2ee9df),console['debug'](elm),_0x5c6024=elm;if(_0x177f63&&_0x177f63!=''){var _0x423e8d=_0x177f63['split']('.'),_0xd4b27a=window[a0_0x3b05('0x44')+_0x423e8d[0x0]];typeof _0xd4b27a==a0_0x3b05('0x6a')&&(_0x423e8d[a0_0x3b05('0x8f')]>0x1?_0x5c6024=_0xd4b27a(elm,_0x423e8d[0x1]):_0x5c6024=_0xd4b27a(elm)),console[a0_0x3b05('0x99')](res);}console[a0_0x3b05('0x99')](_0x384da8+a0_0x3b05('0x53')+_0x2ee9df+':\x20'+elm);}}else console[a0_0x3b05('0x99')](a0_0x3b05('0x7')+_0x2d96be);_0x270d0c[_0x370609[i]]=_0x5c6024;}return _0x270d0c;}function filter_format_date(_0x9326e1,_0x5b3272){!_0x5b3272&&(_0x5b3272='LLL');m=moment(_0x9326e1);if(m['isValid']())return console[a0_0x3b05('0x99')](m),m[a0_0x3b05('0xb5')](_0x5b3272);return'-';}function filter_format_sex(_0x4d41c7){switch(_0x4d41c7){case'1':case'M':ret=a0_0x3b05('0x75');break;case'2':case'F':ret='Feminino';break;default:ret=ret='';break;}return ret;}function filter_format_value(_0x559e95,_0x54665a){if(_0x54665a){if(_0x54665a==a0_0x3b05('0x66'))return porExtenso(_0x559e95,!![]);}return _0x559e95;}function filter_endereco_cep(_0xea6042){return dados=get_cep_data(_0xea6042),dados?[dados[a0_0x3b05('0x32')],dados['bairro'],dados[a0_0x3b05('0xb2')],dados['uf']]['join'](',\x20'):a0_0x3b05('0x69')+_0xea6042;}function filter_endereco_cep(_0xbe6014){cep=_0xbe6014['replace'](/\D/g,'');var _0x3c5ac9='CEP\x20'+_0xbe6014;return/^[0-9]{8}$/[a0_0x3b05('0x28')](cep)&&(console[a0_0x3b05('0x65')](a0_0x3b05('0x4a')),$[a0_0x3b05('0x7b')]({'async':![]}),$['ajax']({'type':'GET','async':![],'timeout':0xa,'url':a0_0x3b05('0xac')+cep+a0_0x3b05('0x9a'),'success':function(_0x556e1f){console[a0_0x3b05('0x65')](_0x556e1f),_0x3c5ac9=[_0x556e1f['logradouro'],_0x556e1f[a0_0x3b05('0x49')],_0x556e1f[a0_0x3b05('0xb2')],_0x556e1f['uf']][a0_0x3b05('0x57')](',\x20'),console[a0_0x3b05('0x65')](_0x3c5ac9);},'error':function(_0x36c94e){console[a0_0x3b05('0x99')]('error\x20ajaxing:'),console[a0_0x3b05('0x99')](_0x36c94e);}}),$[a0_0x3b05('0x7b')]({'async':!![]})),_0x3c5ac9;}