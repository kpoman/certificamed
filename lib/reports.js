const a0_0x1d8b=['draft','PDFDocument','split','asking\x20for\x20report\x20','qrcode','error\x20in\x20step\x20','profession_family','getContext','drawImage','calendar_id','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','buildReport\x20','{\x22eventId\x22:\x22${evt.id}\x22,\x22guestEmail\x22:\x22${evt.guest.email}\x22,\x22hostEmail\x22:\x22${evt.host.email}\x22,\x22platform\x22:\x22${customer}\x22,\x22date\x22:\x22${evt.start.dateTime}\x22}','A\x20assinatura\x20de\x20PDF\x20pela\x20SoluTI\x20está\x20sendo\x20integrada.\x20Tente\x20em\x20breve\x20!','media','CEP\x20','consultation','target\x20of\x20substitution:','signing\x20result:','_qrcode','embedPng','atob','processor','file_id','drive','result','alert','batchUpdate','concat','signDocument:','Content-Type:\x20application/json\x0d\x0a\x0d\x0a','application/pdf','bytes','content','width=','getHeight','bairro','\x20=>\x20','.pdf','\x0d\x0aContent-Transfer-Encoding:\x20','error\x20updating\x20template\x20variables:','guest','file_url:','Profissional\x20da\x20Medicina:\x20','stringify','ant-design:safety-certificate-outlined','default_id','fillRect','\x0d\x0a\x0d\x0a','_base','textAlign','previewDoc:','#qrcode\x20>\x20canvas','provider','getCurrentEvent','?v=','error\x20in\x20safewebSignPdf:','identification','error','signDoc\x20','publish:','signed','requested','buildQRCode','preenchendo\x20os\x20dados\x20automáticamente','report','\x20a\x20partir\x20de\x20modelo\x20próprio','saveAsBase64','pdf_exported',',top=0,left=600','\x0d\x0a--','PDFString','https://drive.google.com/uc?export=download&id=','error\x20in\x20patchPdf:','14px\x20Arial','get','png_qrcode','files','data','documents','/upload/drive/v3/files/','metadata','then','gerando\x20relatório\x20','setFile','tags','Content-Type:\x20','host','replace','https://docs.google.com/document/d/','height','length','error\x20in\x20upload\x20multipart:','toast','Soluti\x20BirdID','function','width','signings','black','O\x20documento\x20deve\x20ser\x20editado\x20antes\x20de\x20poder\x20gerar\x20uma\x20previsualização.','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','signature','getProfile','Patinho-v0','center','debug','safewebsign\x20data:','pdf_base','<span/>','push','updateInfoDict','no\x20match\x20for:\x20','base','PDFName','copy','uploadPdf\x20final:','qrcode_url:','/upload/drive/v3/files','localidade','btoa','create','LLL','font','extenso','request','files(id,\x20name,\x20mimeType,\x20parents)','result:','recuperando\x20relatório\x20editado\x20préviamente','base64','name','/Empatizo/Drafts','error\x20editing\x20report\x20template:','-------314159265358979323846','no\x20certificate\x20to\x20use\x20for\x20signing\x20...','Médico\x20Clínico','YYYYMMDDHHmmss','uploadPdf:','professional_id','mdi:cloud-upload-outline','\x20a\x20partir\x20de\x20modelo\x20da\x20Empatizo','iconify\x20min-icon','append','public_url','sign\x20with\x20SoluTI','rounded','raw_data','shift','carbon:document-pdf',',height=','added\x20qrcode\x20to\x20pdf:','match','published_file_id','format','mediaDir','filename','docs','<div/>','getPage','pdf_qrcode','empatizoReportWindow_','body','multipart/related;\x20boundary=\x22','exec','client','load','white','list','check\x20var:\x20\x22','editions','Masculino','shit\x20happened:','log','open','getWidth','getting\x20dados\x20CEP','export','cloud','multipart','folders','previews','Safeweb\x20SafeID','isValid','contigo','error\x20in\x20saveasbase64:','fillStyle','remove','need\x20to\x20build\x20'];(function(_0x53d284,_0x1d8be0){const _0x2e4f50=function(_0x4ada18){while(--_0x4ada18){_0x53d284['push'](_0x53d284['shift']());}};_0x2e4f50(++_0x1d8be0);}(a0_0x1d8b,0x1c4));const a0_0x2e4f=function(_0x53d284,_0x1d8be0){_0x53d284=_0x53d284-0x0;let _0x2e4f50=a0_0x1d8b[_0x53d284];return _0x2e4f50;};var buildSequence=[{'name':'editions','processor':buildDoc},{'name':a0_0x2e4f('0x65'),'processor':previewDoc},{'name':a0_0x2e4f('0x13'),'processor':signDoc}];function getDescendantProp(_0x1807b7,_0x5dfea0){var _0x246358=_0x5dfea0[a0_0x2e4f('0x6f')]('.');while(_0x246358[a0_0x2e4f('0xd')]&&(_0x1807b7=_0x1807b7[_0x246358[a0_0x2e4f('0x44')]()]));return _0x1807b7||'';}function getReport(_0x211e56,_0x4a9556,_0x1cba9d){console['debug'](a0_0x2e4f('0x70')+_0x211e56+'\x20'+_0x4a9556+'\x20'+_0x1cba9d);if(_0x211e56 in reports){if(_0x1cba9d in reports[_0x211e56]){if(_0x4a9556 in reports[_0x211e56][_0x1cba9d])return reports[_0x211e56][_0x1cba9d][_0x4a9556];}}return null;}function buildDoc(_0x301325){return new Promise(function(_0x38ce33,_0x5b18d9){console[a0_0x2e4f('0x5d')]('buildDoc\x20'+_0x301325),hideLoading(),_0x5b18d9(a0_0x2e4f('0x15'));});}function signDocument(_0x124e9f){return new Promise(function(_0x526962,_0x32415e){if(certificate_session[a0_0x2e4f('0xa2')]==a0_0x2e4f('0x66'))safewebSignPdf(_0x124e9f)[a0_0x2e4f('0x4')](function(_0x121868){console['log'](a0_0x2e4f('0x1c'),_0x121868),_0x526962({'metadata':{'provider':certificate_session[a0_0x2e4f('0xa2')],'identification':certificate_session[a0_0x2e4f('0xa6')],'requested':certificate_session[a0_0x2e4f('0xab')]},'raw_data':window[a0_0x2e4f('0x82')](_0x121868['signature']['raw_signature'])});},function(_0x48fada){console[a0_0x2e4f('0xa7')](_0x48fada),_0x32415e(_0x48fada);});else certificate_session[a0_0x2e4f('0xa2')]==a0_0x2e4f('0x10')?(console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x41')),solutiSignPdf(_0x124e9f)['then'](function(_0x59569c){console[a0_0x2e4f('0x5d')]('soluti\x20data:',_0x59569c),_0x526962({'metadata':{'provider':certificate_session[a0_0x2e4f('0xa2')],'identification':certificate_session[a0_0x2e4f('0xa6')],'requested':certificate_session['requested']},'raw_data':_0x59569c});},_0x815874=>console[a0_0x2e4f('0xa7')](_0x815874))):_0x32415e(a0_0x2e4f('0x37'));});}function signDoc(_0x1ef991,_0xbd318d){return new Promise(function(_0x400f68,_0x21342d){console[a0_0x2e4f('0x5d')](a0_0x2e4f('0xa8')+_0x1ef991),x=files_data[_0x1ef991],console[a0_0x2e4f('0x5d')](x[a0_0x2e4f('0xd')]);if(certificate_session[a0_0x2e4f('0xa2')]==a0_0x2e4f('0x66'))safewebSignPdf(x)[a0_0x2e4f('0x4')](function(_0x5e10f0){console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x7f')),console[a0_0x2e4f('0x5d')](_0x5e10f0),uploadPdf(_0xbd318d,phrFolderManager[a0_0x2e4f('0x64')][a0_0x2e4f('0x34')],_0x5e10f0[a0_0x2e4f('0x17')]['raw_signature'])[a0_0x2e4f('0x4')](function(_0x266c84){_0x400f68({'id':_0x266c84[a0_0x2e4f('0x84')],'data':_0x5e10f0[a0_0x2e4f('0x17')]});},function(_0x265982){console[a0_0x2e4f('0xa7')](_0x265982),_0x21342d(_0x265982);});},function(_0x486605){console['error'](a0_0x2e4f('0xa5')),console[a0_0x2e4f('0xa7')](_0x486605);});else certificate_session[a0_0x2e4f('0xa2')]==a0_0x2e4f('0x10')&&$['alert'](a0_0x2e4f('0x7a'));});}function uploadPdf(_0x4b3341,_0x5983bd,_0x166b74){return data_base64=window[a0_0x2e4f('0x29')](_0x166b74),new Promise(function(_0x5a54d5,_0x5ea8d0){let _0x283166='-------314159265358979323846',_0x18df24=a0_0x2e4f('0xb3')+_0x283166+'\x0d\x0a',_0x16a82c=a0_0x2e4f('0xb3')+_0x283166+'--',_0x4fad26='application/pdf',_0x4a71cc=a0_0x2e4f('0x32'),_0x7e8821={'name':_0x4b3341+a0_0x2e4f('0x93'),'mimeType':_0x4fad26,'parents':[_0x5983bd],'properties':{'hello':'world','empatizo':a0_0x2e4f('0x68')}},_0x346c0b=_0x18df24+a0_0x2e4f('0x8b')+JSON[a0_0x2e4f('0x99')](_0x7e8821)+_0x18df24+a0_0x2e4f('0x8')+_0x4fad26+'\x0d\x0aContent-Transfer-Encoding:\x20'+_0x4a71cc+'\x0d\x0a\x0d\x0a'+data_base64+_0x16a82c,_0x2d6b25={'path':a0_0x2e4f('0x27'),'method':'POST','params':{'uploadType':a0_0x2e4f('0x63'),'fields':'id'},'headers':{'Content-Type':a0_0x2e4f('0x53')+_0x283166+'\x22'},'body':_0x346c0b};gapi['client'][a0_0x2e4f('0x2e')](_0x2d6b25)[a0_0x2e4f('0x4')](function(_0x461906){upload={'file_id':_0x461906[a0_0x2e4f('0x86')]['id'],'file_name':_0x4b3341,'parent_id':_0x5983bd},console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x3a'),upload),_0x5a54d5({'metadata':upload,'raw_data':_0x166b74});},function(_0x2f148b){console[a0_0x2e4f('0xa7')](a0_0x2e4f('0xe')),console[a0_0x2e4f('0xa7')](_0x2f148b);});});}function patchPdf(_0x51aeab,_0x507d93){return new Promise(function(_0x42f6ee,_0x13ccd1){pdf_data=window['btoa'](_0x51aeab)['replace']('\x0a',''),PDFLib[a0_0x2e4f('0x6e')][a0_0x2e4f('0x56')](pdf_data)[a0_0x2e4f('0x4')](function(_0xb0ca4e){keys=Object['keys'](_0x507d93);for(i in keys){_0xb0ca4e['getInfoDict']()['set'](PDFLib[a0_0x2e4f('0x23')]['of'](keys[i]),PDFLib[a0_0x2e4f('0xb4')]['of'](_0x507d93[keys[i]]));}_0xb0ca4e[a0_0x2e4f('0x20')](),_0xb0ca4e[a0_0x2e4f('0xb0')]()['then'](function(_0x4871eb){_0x42f6ee(window[a0_0x2e4f('0x82')](_0x4871eb));},function(_0x412626){console['error']('error\x20in\x20saveasbase64:'),console[a0_0x2e4f('0xa7')](_0x412626);});},function(_0x3ad1ca){console[a0_0x2e4f('0xa7')](_0x3ad1ca),_0x13ccd1(_0x3ad1ca);});});}function buildMonkeyPatch(){evt=dashContext['getCurrentEvent'](),patch={},profile=dashContext[a0_0x2e4f('0x18')]();if(a0_0x2e4f('0x73')in profile&&profile['profession_family']!=''){professions=profile['profession_family']['split'](',');if(findOne(br_medicina,professions))return console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x98')+professions),creds=profile[a0_0x2e4f('0x3b')][a0_0x2e4f('0x6f')]('\x20'),crm_number='',crm_uf='',crm_speciality=a0_0x2e4f('0x38'),creds[a0_0x2e4f('0xd')]>=0x2&&(crm_number=creds[0x0],crm_uf=creds[0x1]),{'CreationDate':'D:'+moment()[a0_0x2e4f('0x4a')](a0_0x2e4f('0x39'))+'Z','MonkeyPatch':a0_0x2e4f('0x19'),'Keywords':a0_0x2e4f('0x79'),'2.16.76.1.4.2.2.1':crm_number,'2.16.76.1.4.2.2.2':crm_uf,'2.16.76.1.4.2.2.3':crm_speciality,'2.16.76.1.12.1.1':'','2.16.76.1.4.2.3.1':'','2.16.76.1.4.2.3.2':'','2.16.76.1.4.2.3.3':''};}return patch,console[a0_0x2e4f('0x5d')](evt);}function previewDoc(_0x1fef6d,_0x3d4059){return new Promise(function(_0x57fd0e,_0x3a9bb8){gapi[a0_0x2e4f('0x55')][a0_0x2e4f('0x85')][a0_0x2e4f('0xba')][a0_0x2e4f('0x61')]({'fileId':_0x1fef6d,'mimeType':a0_0x2e4f('0x8c')})[a0_0x2e4f('0x4')](function(_0x1bb24c){let _0x1966c6=buildMonkeyPatch();patchPdf(_0x1bb24c[a0_0x2e4f('0x52')],_0x1966c6)[a0_0x2e4f('0x4')](function(_0x550a48){uploadPdf(_0x3d4059,phrFolderManager['folders'][a0_0x2e4f('0x34')],_0x550a48)[a0_0x2e4f('0x4')](function(_0x3e04e7){console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x30'),_0x3e04e7),_0x57fd0e(_0x3e04e7);},function(_0x165803){console['log'](a0_0x2e4f('0x5c')),console[a0_0x2e4f('0x5d')](_0x165803),_0x3a9bb8(_0x165803);});},function(_0x48a566){console[a0_0x2e4f('0xa7')](a0_0x2e4f('0xb6')),console[a0_0x2e4f('0xa7')](_0x48a566);});},function(_0x2ad9e6){console[a0_0x2e4f('0xa7')]('error\x20exporting\x20to\x20pdf:'),console[a0_0x2e4f('0xa7')](_0x2ad9e6);});});}function buildQRCode(_0x48c1f5,_0x1da1b9,_0xdf1a25){tgt_width=0x12c,tgt_height=0x12c,ori_width=0x100,ori_height=0x100,dif_width=tgt_width-ori_width,dif_height=tgt_height-ori_height,qrcode=$(a0_0x2e4f('0x4e'),{'id':a0_0x2e4f('0x71'),'style':'display:none;'}),$('body')['append'](qrcode),qrcode[a0_0x2e4f('0x71')](_0x48c1f5),qrcode_canvas=$(a0_0x2e4f('0xa1'))[0x0],buffer_canvas=$('<canvas/>'),ctx=buffer_canvas[0x0][a0_0x2e4f('0x74')]('2d'),buffer_canvas[0x0][a0_0x2e4f('0x12')]=tgt_width,buffer_canvas[0x0]['height']=tgt_height,ctx[a0_0x2e4f('0x12')]=tgt_width,ctx['height']=tgt_height,ctx[a0_0x2e4f('0x6a')]=a0_0x2e4f('0x57'),ctx[a0_0x2e4f('0x9c')](0x0,0x0,ctx[a0_0x2e4f('0x12')],ctx['height']),ctx['drawImage'](qrcode_canvas,dif_width/0x2,dif_height/0x2);!_0x1da1b9&&(_0x1da1b9='');ctx[a0_0x2e4f('0x2c')]=a0_0x2e4f('0xb7'),ctx[a0_0x2e4f('0x9f')]=a0_0x2e4f('0x1a'),ctx[a0_0x2e4f('0x6a')]=a0_0x2e4f('0x14'),ctx['fillText'](_0x1da1b9,tgt_width/0x2,ori_height+dif_height/0x2+0x12),s=buffer_canvas[0x0]['toDataURL'](),qrcode[a0_0x2e4f('0x6b')]();if(_0xdf1a25)return x=s['split'](','),window[a0_0x2e4f('0x82')](x[0x1]);return s;}function addQRCode(_0x37cbf0,_0x4ad9ed,_0x5dbf95){let _0x506923=window[a0_0x2e4f('0x29')](_0x37cbf0)[a0_0x2e4f('0xa')]('\x0a',''),_0x1ca7f2=buildQRCode(_0x4ad9ed,_0x5dbf95,![]);return new Promise(function(_0x56d6ef,_0x32ff7a){PDFLib[a0_0x2e4f('0x6e')][a0_0x2e4f('0x56')](_0x506923)[a0_0x2e4f('0x4')](function(_0x2e8bdc){_0x2e8bdc[a0_0x2e4f('0x81')](_0x1ca7f2)[a0_0x2e4f('0x4')](function(_0x14c158){let _0x3e9440=_0x2e8bdc[a0_0x2e4f('0x4f')](0x0),_0x330276=_0x3e9440[a0_0x2e4f('0x90')](),_0x47c112=_0x3e9440[a0_0x2e4f('0x5f')]();_0x3e9440[a0_0x2e4f('0x75')](_0x14c158,{'x':0x28,'y':0x28,'width':0x50,'height':0x50}),_0x2e8bdc[a0_0x2e4f('0xb0')]()['then'](function(_0x17bb5c){console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x47')),console[a0_0x2e4f('0x5d')](_0x17bb5c[a0_0x2e4f('0xd')],a0_0x2e4f('0x8d')),_0x56d6ef({'metadata':{'function':a0_0x2e4f('0xac'),'params':[_0x4ad9ed,_0x5dbf95,![]]},'raw_data':window[a0_0x2e4f('0x82')](_0x17bb5c),'png':_0x1ca7f2});},function(_0x44f354){console[a0_0x2e4f('0xa7')](a0_0x2e4f('0x69')),console['error'](_0x44f354);});});},function(_0x3bfa55){console[a0_0x2e4f('0xa7')]('shit\x20happens\x20...'),console['error'](_0x3bfa55);});});}function buildUpdateRequest(_0x4a8ef4,_0x1e5622){let _0x505a61=a0_0x2e4f('0x36'),_0x7dcfb8=a0_0x2e4f('0xb3')+_0x505a61+'\x0d\x0a',_0x8753dc=a0_0x2e4f('0xb3')+_0x505a61+'--',_0x566d84='application/pdf',_0xaaafe8=a0_0x2e4f('0x32'),_0x31f13={'mimeType':_0x566d84},_0x30ca35=_0x7dcfb8+a0_0x2e4f('0x8b')+JSON[a0_0x2e4f('0x99')](_0x31f13)+_0x7dcfb8+a0_0x2e4f('0x8')+_0x566d84+a0_0x2e4f('0x94')+_0xaaafe8+a0_0x2e4f('0x9d')+window[a0_0x2e4f('0x29')](_0x1e5622)+_0x8753dc,_0x2d4474={'path':a0_0x2e4f('0x2')+_0x4a8ef4,'method':'PATCH','params':{'uploadType':'multipart','fields':'id'},'headers':{'Content-Type':a0_0x2e4f('0x53')+_0x505a61+'\x22'},'body':_0x30ca35};return _0x2d4474;}function exportReport(_0x2a4fc9,_0x53216d,_0x47599c,_0x308328){console[a0_0x2e4f('0x5d')]('exportReport\x20requested:'),console[a0_0x2e4f('0x5d')](_0x53216d,_0x2a4fc9,_0x47599c,_0x308328);let _0x2cc7ae,_0x4bbdba=phrFolderManager[a0_0x2e4f('0x64')][a0_0x2e4f('0x34')];_0x47599c?_0x2cc7ae=_0x47599c:_0x2cc7ae=_0x4bbdba;let _0x291f0e={'owner':dashContext['getUser'](),'calendar_event':_0x2a4fc9,'report':_0x53216d,'filename':reports[_0x53216d][a0_0x2e4f('0x4c')],'tags':[],'raw_data':{}};return new Promise(function(_0x3821b4,_0x11e6aa){let _0x468cb1=reports[_0x53216d]['editions'][_0x2a4fc9],_0x101dbc=_0x2a4fc9+'_'+_0x53216d+'_'+a0_0x2e4f('0x9e'),_0x318f3c=_0x2a4fc9+'_'+_0x53216d+'_'+a0_0x2e4f('0x80'),_0x57fce8=_0x2a4fc9+'_'+_0x53216d+'_'+'_qrcode_signed';_0x291f0e[a0_0x2e4f('0x6d')]=_0x468cb1,gapi[a0_0x2e4f('0x55')][a0_0x2e4f('0x85')][a0_0x2e4f('0xba')][a0_0x2e4f('0x2a')]({'uploadType':'media','name':_0x291f0e['filename']+a0_0x2e4f('0x93'),'parents':[_0x2cc7ae],'body':{'mimeType':a0_0x2e4f('0x8c')}})[a0_0x2e4f('0x4')](function(_0x2df245){console[a0_0x2e4f('0x1b')]('create:',_0x2df245),_0x291f0e[a0_0x2e4f('0x49')]=_0x2df245[a0_0x2e4f('0x86')]['id'];let _0xaada61=a0_0x2e4f('0xb5')+_0x291f0e[a0_0x2e4f('0x49')],_0x44f42f=app_endpoint+a0_0x2e4f('0xa4')+_0x2a4fc9+'&id='+_0x53216d;console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x26'),_0x44f42f),console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x97'),_0xaada61),previewDoc(_0x468cb1,_0x101dbc)[a0_0x2e4f('0x4')](function(_0x12ed2e){console[a0_0x2e4f('0x1b')](a0_0x2e4f('0xa0'),_0x12ed2e),_0x291f0e[a0_0x2e4f('0x7')][a0_0x2e4f('0x1f')]('pdf'),_0x291f0e[a0_0x2e4f('0x1d')]=_0x12ed2e[a0_0x2e4f('0x3')],_0x291f0e[a0_0x2e4f('0x43')][a0_0x2e4f('0x22')]=_0x12ed2e[a0_0x2e4f('0x43')];if(_0x308328)_0x308328[a0_0x2e4f('0x3f')]($(a0_0x2e4f('0x1e'),{'class':a0_0x2e4f('0x3e'),'data-icon':a0_0x2e4f('0x45')}));addQRCode(_0x12ed2e[a0_0x2e4f('0x43')],_0x44f42f,_0x291f0e[a0_0x2e4f('0x4c')])[a0_0x2e4f('0x4')](function(_0x1ebe38){console[a0_0x2e4f('0x1b')]('addQRCode:',_0x1ebe38),_0x291f0e['tags'][a0_0x2e4f('0x1f')](a0_0x2e4f('0x71'));if(_0x308328)_0x308328[a0_0x2e4f('0x3f')]($('<span/>',{'class':a0_0x2e4f('0x3e'),'data-icon':'mdi:qrcode'}));_0x291f0e[a0_0x2e4f('0x50')]=_0x1ebe38[a0_0x2e4f('0x3')],_0x291f0e[a0_0x2e4f('0x40')]=_0xaada61,_0x291f0e[a0_0x2e4f('0x43')][a0_0x2e4f('0xb9')]=_0x1ebe38['png'],_0x291f0e[a0_0x2e4f('0x43')][a0_0x2e4f('0x50')]=_0x1ebe38[a0_0x2e4f('0x43')],signDocument(_0x1ebe38['raw_data'])[a0_0x2e4f('0x4')](function(_0x11fecd){console[a0_0x2e4f('0x1b')](a0_0x2e4f('0x8a'),_0x11fecd);if(_0x308328)_0x308328['append']($(a0_0x2e4f('0x1e'),{'class':a0_0x2e4f('0x3e'),'data-icon':a0_0x2e4f('0x9a')}));_0x291f0e['pdf_signed']=_0x11fecd[a0_0x2e4f('0x3')],_0x291f0e['raw_data'][a0_0x2e4f('0xb1')]=_0x11fecd['raw_data'],_0x291f0e[a0_0x2e4f('0x7')]['push'](a0_0x2e4f('0xaa')),uploadPdf(_0x57fce8,_0x4bbdba,_0x11fecd[a0_0x2e4f('0x43')])[a0_0x2e4f('0x4')](function(_0x45d287){console[a0_0x2e4f('0x1b')](a0_0x2e4f('0x25'),_0x45d287);let _0x4378aa=buildUpdateRequest(_0x291f0e[a0_0x2e4f('0x49')],_0x11fecd['raw_data']);gapi[a0_0x2e4f('0x55')][a0_0x2e4f('0x2e')](_0x4378aa)[a0_0x2e4f('0x4')](function(_0x16bebb){console['debug']('publish:',_0x16bebb),_0x291f0e[a0_0x2e4f('0x7')][a0_0x2e4f('0x1f')](a0_0x2e4f('0x62'));if(_0x308328)_0x308328['append']($(a0_0x2e4f('0x1e'),{'class':a0_0x2e4f('0x3e'),'data-icon':a0_0x2e4f('0x3c')}));_0x291f0e['pdf_exported']=_0x45d287[a0_0x2e4f('0x3')],_0x3821b4(_0x291f0e);},_0x19656f=>{console[a0_0x2e4f('0xa7')](_0x19656f),_0x11e6aa(_0x19656f);});},_0x448fe1=>{console[a0_0x2e4f('0xa7')](_0x448fe1),_0x11e6aa(_0x448fe1);});},function(_0x2d28e5){console[a0_0x2e4f('0x1b')]('failed\x20signing:',_0x2d28e5),_0x291f0e[a0_0x2e4f('0x43')][a0_0x2e4f('0xb1')]=_0x1ebe38[a0_0x2e4f('0x43')],uploadPdf(_0x318f3c,_0x4bbdba,_0x1ebe38['raw_data'])[a0_0x2e4f('0x4')](function(_0x57da59){console[a0_0x2e4f('0x1b')](a0_0x2e4f('0x25'),_0x57da59);let _0x5b0c47=buildUpdateRequest(_0x291f0e['published_file_id'],_0x1ebe38[a0_0x2e4f('0x43')]);gapi[a0_0x2e4f('0x55')][a0_0x2e4f('0x2e')](_0x5b0c47)[a0_0x2e4f('0x4')](function(_0x5a138e){console[a0_0x2e4f('0x1b')](a0_0x2e4f('0xa9'),_0x5a138e),_0x291f0e[a0_0x2e4f('0x7')][a0_0x2e4f('0x1f')](a0_0x2e4f('0x62'));if(_0x308328)_0x308328[a0_0x2e4f('0x3f')]($(a0_0x2e4f('0x1e'),{'class':a0_0x2e4f('0x3e'),'data-icon':'mdi:cloud-upload-outline'}));_0x291f0e[a0_0x2e4f('0xb1')]=_0x57da59[a0_0x2e4f('0x3')],_0x3821b4(_0x291f0e);},_0x5e2306=>{console[a0_0x2e4f('0xa7')](_0x5e2306),_0x11e6aa(_0x5e2306);});},_0x10575e=>{console['error'](_0x10575e),_0x11e6aa(_0x10575e);});});},_0x590b81=>{console[a0_0x2e4f('0xa7')](_0x590b81);});},_0x436ae1=>{console[a0_0x2e4f('0xa7')]('error\x20building',_0x101dbc);});},_0x50509f=>{console[a0_0x2e4f('0xa7')](_0x50509f);});});}function buildReport(_0x587f34,_0x5c0b0a,_0x5656fd,_0xa0c033){showLoading(),console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x78')+_0x587f34+',\x20'+_0x5c0b0a+',\x20'+_0x5656fd+',\x20'+_0xa0c033),prev_report=null;for(i in buildSequence){rep=getReport(_0x587f34,_0x5c0b0a,buildSequence[i][a0_0x2e4f('0x33')]);if(!rep){_0x5656fd==buildSequence[i][a0_0x2e4f('0x33')]&&M['toast']({'html':'gerando\x20PDF\x20de\x20'+reports[_0x587f34]['filename'],'classes':a0_0x2e4f('0x42')});console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x6c')+buildSequence[i]['name']);var _0x1c80ed=_0x5c0b0a+'_'+_0x587f34+'_'+'_'+buildSequence[i][a0_0x2e4f('0x33')];buildSequence[i][a0_0x2e4f('0x83')](prev_report,_0x1c80ed)[a0_0x2e4f('0x4')](function(_0x298227){reports[_0x587f34][_0x5656fd][_0x5c0b0a]=_0x298227['id'],files_data[_0x298227['id']]=_0x298227[a0_0x2e4f('0x0')],buildReport(_0x587f34,_0x5c0b0a,_0x5656fd,_0xa0c033);},function(_0x55f353){console[a0_0x2e4f('0xa7')](a0_0x2e4f('0x72')+buildSequence[i][a0_0x2e4f('0x33')]+':'),console[a0_0x2e4f('0xa7')](_0x55f353),$[a0_0x2e4f('0x87')](_0x55f353);});break;}else{prev_report=rep,console[a0_0x2e4f('0x5d')](buildSequence[i]['name']+':\x20'+rep);if(buildSequence[i][a0_0x2e4f('0x33')]==_0x5656fd){_0xa0c033(rep);break;}}}}function ensureReport(_0x43e655){return new Promise(function(_0xfd6497,_0x5422e0){evt=dashContext[a0_0x2e4f('0xa3')](),templates_dir=phrFolderManager[a0_0x2e4f('0x64')]['/Empatizo/Templates'],drafts_dir=phrFolderManager[a0_0x2e4f('0x64')]['/Empatizo/Drafts'];var _0x218e07={'pageSize':0x1,'fields':'files(id,\x20name,\x20mimeType,\x20parents)','q':'\x27'+drafts_dir+a0_0x2e4f('0x16')+evt['calendar_id']+'_'+_0x43e655+'\x27'};showLoading();var _0x4fdede=gapi[a0_0x2e4f('0x55')]['drive'][a0_0x2e4f('0xba')][a0_0x2e4f('0x58')](_0x218e07)[a0_0x2e4f('0x4')](function(_0x1372d9){if(_0x1372d9[a0_0x2e4f('0x86')][a0_0x2e4f('0xba')]['length']==0x0)var _0x20f718={'pageSize':0x1,'fields':a0_0x2e4f('0x2f'),'q':'\x27'+templates_dir+a0_0x2e4f('0x77')+reports[_0x43e655][a0_0x2e4f('0x4c')]+'\x27'},_0x1c638b=gapi['client']['drive'][a0_0x2e4f('0xba')][a0_0x2e4f('0x58')](_0x20f718)[a0_0x2e4f('0x4')](function(_0x219d02){if(_0x219d02['result']['files'][a0_0x2e4f('0xd')]==0x1)M[a0_0x2e4f('0xf')]({'html':a0_0x2e4f('0x5')+_0x43e655+a0_0x2e4f('0xaf'),'classes':a0_0x2e4f('0x42')}),original=_0x219d02[a0_0x2e4f('0x86')]['files'][0x0]['id'];else _0x219d02[a0_0x2e4f('0x86')][a0_0x2e4f('0xba')]['length']==0x0&&(original=reports[_0x43e655][a0_0x2e4f('0x9b')],M[a0_0x2e4f('0xf')]({'html':a0_0x2e4f('0x5')+_0x43e655+a0_0x2e4f('0x3d'),'classes':a0_0x2e4f('0x42')}));copy_data={'fileId':original,'name':evt[a0_0x2e4f('0x76')]+'_'+_0x43e655,'supportsAllDrives':!![],'parents':[drafts_dir]};var _0x2e1607=gapi[a0_0x2e4f('0x55')]['drive']['files'][a0_0x2e4f('0x24')](copy_data)[a0_0x2e4f('0x4')](function(_0x1c670b){gapi['client'][a0_0x2e4f('0x4d')][a0_0x2e4f('0x1')][a0_0x2e4f('0xb8')]({'documentId':_0x1c670b[a0_0x2e4f('0x86')]['id']})[a0_0x2e4f('0x4')](function(_0x2f8e09){texts=getKeys(_0x2f8e09,'textRun'),M[a0_0x2e4f('0xf')]({'html':a0_0x2e4f('0xad'),'classes':a0_0x2e4f('0x42')});var _0x52e154=[];for(i in texts){t=texts[i],content=t[a0_0x2e4f('0x8e')],matchs=String(content)[a0_0x2e4f('0x48')](/(\{\{[a-zA-Z\. \|_\-]+\}\})+/g),matchs&&(_0x52e154=_0x52e154[a0_0x2e4f('0x89')](matchs));}replaces=getReplaces(_0x52e154),requests=[],keys=Object['keys'](replaces);for(i in keys){stuff=keys[i],requests[a0_0x2e4f('0x1f')]({'replaceAllText':{'containsText':{'text':stuff,'matchCase':!![]},'replaceText':String(replaces[keys[i]])}});}gapi[a0_0x2e4f('0x55')][a0_0x2e4f('0x4d')][a0_0x2e4f('0x1')][a0_0x2e4f('0x88')]({'documentId':_0x1c670b[a0_0x2e4f('0x86')]['id'],'resource':{'requests':requests}})[a0_0x2e4f('0x4')](function(_0x244cd4){dashContext[a0_0x2e4f('0x6')](_0x244cd4[a0_0x2e4f('0x86')]['id'],a0_0x2e4f('0xae')),evt_id=dashContext[a0_0x2e4f('0xa3')]()['id'],reports[_0x43e655][a0_0x2e4f('0x5a')][evt_id]=_0x1c670b[a0_0x2e4f('0x86')]['id'],_0xfd6497(_0x1c670b[a0_0x2e4f('0x86')]['id']);},function(_0x26504c){console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x95')),console['error'](_0x26504c),_0x5422e0(_0x26504c);},this);},function(_0x3b0dcc){console['error'](a0_0x2e4f('0x35')),console[a0_0x2e4f('0xa7')](_0x3b0dcc);});},function(_0x5c46ef){console['log'](_0x5c46ef);},this);},function(_0x544761){console['error'](_0x544761);},this);else M['toast']({'html':a0_0x2e4f('0x31'),'classes':a0_0x2e4f('0x42')}),dashContext[a0_0x2e4f('0x6')](_0x1372d9[a0_0x2e4f('0x86')][a0_0x2e4f('0xba')][0x0]['id'],'report'),evt_id=dashContext[a0_0x2e4f('0xa3')]()['id'],reports[_0x43e655][a0_0x2e4f('0x5a')][evt_id]=_0x1372d9[a0_0x2e4f('0x86')][a0_0x2e4f('0xba')][0x0]['id'],_0xfd6497(_0x1372d9[a0_0x2e4f('0x86')][a0_0x2e4f('0xba')][0x0]['id']);},function(_0x50ced8){console[a0_0x2e4f('0x5d')](_0x50ced8),_0x5422e0(_0x50ced8);},this);hideLoading();});}function openReport(_0x1cbb35){ensureReport(_0x1cbb35)[a0_0x2e4f('0x4')](function(_0x179642){var _0x372880=null,_0x2baf07=screen[a0_0x2e4f('0x12')]-0x258,_0x201404=screen[a0_0x2e4f('0xc')];M['toast']({'html':'abrindo\x20o\x20relatório','classes':a0_0x2e4f('0x42')}),reportWindow=window[a0_0x2e4f('0x5e')](a0_0x2e4f('0xb')+_0x179642,a0_0x2e4f('0x51')+_0x1cbb35,a0_0x2e4f('0x8f')+_0x2baf07+a0_0x2e4f('0x46')+_0x201404+a0_0x2e4f('0xb2'));},function(_0x4fc50d){console[a0_0x2e4f('0xa7')](_0x4fc50d);});}function getKeys(_0x3b8ca8,_0x4e4d31){var _0x38e91f=[],_0x3a0445=Object['keys'](_0x3b8ca8);for(var _0x44d54c in _0x3a0445){if(_0x3a0445[_0x44d54c]==_0x4e4d31)_0x38e91f['push'](_0x3b8ca8[_0x3a0445[_0x44d54c]]);else typeof _0x3b8ca8[_0x3a0445[_0x44d54c]]==='object'&&_0x3b8ca8[_0x3a0445[_0x44d54c]]!==null&&(res=getKeys(_0x3b8ca8[_0x3a0445[_0x44d54c]],_0x4e4d31),res[a0_0x2e4f('0xd')]>0x0&&(_0x38e91f=_0x38e91f[a0_0x2e4f('0x89')](res)));}return _0x38e91f;}function getReplaces(_0x3ade64){var _0xd35cdb=/\{\{\s?(.+)\s?\}\}/g,_0x11a9e7=/([^.]+)\.([^|]+)\|?(.*)/g,_0x5c5881={};for(i in _0x3ade64){var _0xfcd3f6=new RegExp(_0xd35cdb),_0x4d2b40=new RegExp(_0x11a9e7),_0x52a469='',_0x46e986='',_0x3c6dd6='',_0x4deec7=_0xfcd3f6[a0_0x2e4f('0x54')](String(_0x3ade64[i])),_0x2939b8='';console['debug'](a0_0x2e4f('0x59')+_0x3ade64[i]+'\x22');if(_0x4deec7){console['debug']('matched\x20var:\x20'+_0x4deec7);var _0x209462=_0x4d2b40['exec'](String(_0x4deec7[0x1]));if(_0x209462){_0x52a469=_0x209462[0x1],_0x46e986=_0x209462[0x2],_0x3c6dd6=_0x209462[0x3],evt=dashContext['getCurrentEvent']();if(_0x52a469==a0_0x2e4f('0x9'))tgt=evt[a0_0x2e4f('0x9')];else{if(_0x52a469==a0_0x2e4f('0x96'))tgt=evt['guest'];else{if(_0x52a469==a0_0x2e4f('0x7d'))tgt=evt;else _0x52a469==a0_0x2e4f('0x7b')&&(tgt=phrFolderManager[a0_0x2e4f('0x4b')]());}}console['debug'](a0_0x2e4f('0x7e')),console[a0_0x2e4f('0x1b')](tgt+'\x20=>\x20'+_0x46e986),elm=getDescendantProp(tgt,_0x46e986),console[a0_0x2e4f('0x1b')](elm),_0x2939b8=elm;if(_0x3c6dd6&&_0x3c6dd6!=''){var _0x56eae0=_0x3c6dd6[a0_0x2e4f('0x6f')]('.'),_0x2e006b=window['filter_'+_0x56eae0[0x0]];typeof _0x2e006b==a0_0x2e4f('0x11')&&(_0x56eae0[a0_0x2e4f('0xd')]>0x1?_0x2939b8=_0x2e006b(elm,_0x56eae0[0x1]):_0x2939b8=_0x2e006b(elm)),console['log'](res);}console['log'](_0x52a469+a0_0x2e4f('0x92')+_0x46e986+':\x20'+elm);}}else console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x21')+_0x4deec7);_0x5c5881[_0x3ade64[i]]=_0x2939b8;}return _0x5c5881;}function filter_format_date(_0x5e4f75,_0x376144){!_0x376144&&(_0x376144=a0_0x2e4f('0x2b'));m=moment(_0x5e4f75);if(m[a0_0x2e4f('0x67')]())return console[a0_0x2e4f('0x5d')](m),m[a0_0x2e4f('0x4a')](_0x376144);return'-';}function filter_format_sex(_0x272939){switch(_0x272939){case'1':case'M':ret=a0_0x2e4f('0x5b');break;case'2':case'F':ret='Feminino';break;default:ret=ret='';break;}return ret;}function filter_format_value(_0x3041f6,_0x2af2e8){if(_0x2af2e8){if(_0x2af2e8==a0_0x2e4f('0x2d'))return porExtenso(_0x3041f6,!![]);}return _0x3041f6;}function filter_endereco_cep(_0x16979a,_0x2db414){console[a0_0x2e4f('0x5d')](a0_0x2e4f('0x60'),_0x16979a),cep=_0x16979a[a0_0x2e4f('0xa')](/\D/g,'');let _0x199d5d=a0_0x2e4f('0x7c')+_0x16979a,_0xf5ae0f=get_cep_data(cep);return _0xf5ae0f&&(_0x2db414?_0x199d5d=_0xf5ae0f[_0x2db414]:_0x199d5d=[_0xf5ae0f['logradouro'],_0xf5ae0f[a0_0x2e4f('0x91')],_0xf5ae0f[a0_0x2e4f('0x28')],_0xf5ae0f['uf']]['join'](',\x20')),_0x199d5d;}