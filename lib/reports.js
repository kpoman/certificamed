const a0_0x2ba1=['.pdf','report','setFile','published_file_id','atob','getInfoDict','error\x20building','getWidth','format','Médico\x20Clínico','localidade','uploadPdf:','calendar_id','shit\x20happens\x20...','{\x22eventId\x22:\x22${evt.id}\x22,\x22guestEmail\x22:\x22${evt.guest.email}\x22,\x22hostEmail\x22:\x22${evt.host.email}\x22,\x22platform\x22:\x22${customer}\x22,\x22date\x22:\x22${evt.start.dateTime}\x22}','files','pdf_exported','/Empatizo/Templates','Profissional\x20da\x20Medicina:\x20','font','debug','signDoc\x20','profession_family','data','Content-Type:\x20application/json\x0d\x0a\x0d\x0a','png','split','?view=','cloud','open','PDFString','logradouro','requested','content','&report=','PDFDocument','pdf','/Empatizo/Drafts','buildDoc\x20','mdi:qrcode','docs','file_url:','function','https://docs.google.com/document/d/','recuperando\x20relatório\x20editado\x20préviamente','GET','error\x20exporting\x20to\x20pdf:','Safeweb\x20SafeID','buildQRCode','multipart/related;\x20boundary=\x22','getHeight','Masculino','then','request','cep\x20is\x20valid,\x20getting\x20information','drawImage','\x20a\x20partir\x20de\x20modelo\x20da\x20Empatizo','\x0d\x0aContent-Transfer-Encoding:\x20','14px\x20Arial','asking\x20for\x20report\x20','file_id',',height=','black','width','height','filename','stringify','raw_signature','consultation','join','publish:','fillStyle','metadata','keys','processor','client','Soluti\x20BirdID','pdf_base','create:','previews','result','getCurrentEvent','log','draft','carbon:document-pdf','abrindo\x20o\x20relatório','ajax','signature','https://drive.google.com/uc?export=download&id=','name','extenso','replace','filter_','-------314159265358979323846','\x20=>\x20','textRun','addQRCode:','media','error','qrcode',',top=0,left=600','png_qrcode','rounded','length','export','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','exec','uploadPdf\x20final:','embedPng','need\x20to\x20build\x20','toast','PDFName','shift','matched\x20var:\x20','raw_data','_base','bairro','remove','list','target\x20of\x20substitution:','pdf_qrcode','signing\x20result:','fillText','getPage','shit\x20happened:','concat','check\x20var:\x20\x22','application/pdf','get','gerando\x20PDF\x20de\x20','append','body','https://viacep.com.br/ws/','pdf_signed','copy','\x0d\x0a--','_qrcode','tags','\x20a\x20partir\x20de\x20modelo\x20próprio','getUser','iconify\x20min-icon','isValid','PATCH','<span/>','safewebsign\x20data:','folders','Content-Type:\x20','textAlign','_qrcode_signed','alert','Patinho-v0','professional_id','LLL','load','width=','contigo','display:none;','previewDoc:','empatizoReportWindow_','white','drive','saveAsBase64','updateInfoDict','toDataURL','ant-design:safety-certificate-outlined','exportReport\x20requested:','btoa','CEP\x20','batchUpdate','match','preenchendo\x20os\x20dados\x20automáticamente','added\x20qrcode\x20to\x20pdf:','editions','guest','base64','/upload/drive/v3/files/','ajaxSetup','push','<div/>','files(id,\x20name,\x20mimeType,\x20parents)','create','<canvas/>','/json/','gerando\x20relatório\x20','\x0d\x0a\x0d\x0a','base','provider'];(function(_0xfcd972,_0x2ba149){const _0x125487=function(_0x14ea9d){while(--_0x14ea9d){_0xfcd972['push'](_0xfcd972['shift']());}};_0x125487(++_0x2ba149);}(a0_0x2ba1,0xa6));const a0_0x1254=function(_0xfcd972,_0x2ba149){_0xfcd972=_0xfcd972-0x0;let _0x125487=a0_0x2ba1[_0xfcd972];return _0x125487;};var buildSequence=[{'name':a0_0x1254('0x6'),'processor':buildDoc},{'name':a0_0x1254('0x64'),'processor':previewDoc},{'name':'signings','processor':signDoc}];function getDescendantProp(_0x1ba924,_0x183449){var _0x45286c=_0x183449['split']('.');while(_0x45286c['length']&&(_0x1ba924=_0x1ba924[_0x45286c[a0_0x1254('0x85')]()]));return _0x1ba924||'';}function getReport(_0x1df903,_0x4b0ea5,_0x21fe91){console[a0_0x1254('0x29')](a0_0x1254('0x50')+_0x1df903+'\x20'+_0x4b0ea5+'\x20'+_0x21fe91);if(_0x1df903 in reports){if(_0x21fe91 in reports[_0x1df903]){if(_0x4b0ea5 in reports[_0x1df903][_0x21fe91])return reports[_0x1df903][_0x21fe91][_0x4b0ea5];}}return null;}function buildDoc(_0x31672a){return new Promise(function(_0x456245,_0x28e287){console[a0_0x1254('0x67')](a0_0x1254('0x3b')+_0x31672a),hideLoading(),_0x28e287('O\x20documento\x20deve\x20ser\x20editado\x20antes\x20de\x20poder\x20gerar\x20uma\x20previsualização.');});}function signDocument(_0x151f19){return new Promise(function(_0xa19d47,_0x32e6e5){certificate_session[a0_0x1254('0x14')]==a0_0x1254('0x44')?safewebSignPdf(_0x151f19)[a0_0x1254('0x49')](function(_0xc5312d){console[a0_0x1254('0x67')](a0_0x1254('0xa5'),_0xc5312d),_0xa19d47({'metadata':{'provider':certificate_session[a0_0x1254('0x14')],'identification':certificate_session['identification'],'requested':certificate_session[a0_0x1254('0x35')]},'raw_data':window[a0_0x1254('0x19')](_0xc5312d[a0_0x1254('0x6c')][a0_0x1254('0x58')])});},function(_0x730795){console[a0_0x1254('0x77')](_0x730795),_0x32e6e5(_0x730795);}):_0x32e6e5('no\x20certificate\x20to\x20use\x20for\x20signing\x20...');});}function signDoc(_0x11642c,_0x58e787){return new Promise(function(_0x39c172,_0x36bfce){console[a0_0x1254('0x67')](a0_0x1254('0x2a')+_0x11642c),x=files_data[_0x11642c],console[a0_0x1254('0x67')](x[a0_0x1254('0x7c')]);if(certificate_session[a0_0x1254('0x14')]=='Safeweb\x20SafeID')safewebSignPdf(x)[a0_0x1254('0x49')](function(_0x2d4094){console[a0_0x1254('0x67')](a0_0x1254('0x8e')),console['log'](_0x2d4094),uploadPdf(_0x58e787,phrFolderManager[a0_0x1254('0xa6')][a0_0x1254('0x3a')],_0x2d4094[a0_0x1254('0x6c')][a0_0x1254('0x58')])[a0_0x1254('0x49')](function(_0xb0494e){_0x39c172({'id':_0xb0494e[a0_0x1254('0x51')],'data':_0x2d4094[a0_0x1254('0x6c')]});},function(_0x59b774){console['error'](_0x59b774),_0x36bfce(_0x59b774);});},function(_0x1e45c5){console[a0_0x1254('0x77')]('error\x20in\x20safewebSignPdf:'),console['error'](_0x1e45c5);});else certificate_session['provider']==a0_0x1254('0x61')&&$[a0_0x1254('0xaa')]('A\x20assinatura\x20de\x20PDF\x20pela\x20SoluTI\x20está\x20sendo\x20integrada.\x20Tente\x20em\x20breve\x20!');});}function uploadPdf(_0xc7b7f4,_0x1516f4,_0xee87f9){return data_base64=window[a0_0x1254('0x0')](_0xee87f9),new Promise(function(_0x2bea0c,_0xae2a8b){let _0x20945e=a0_0x1254('0x72'),_0x251059=a0_0x1254('0x9c')+_0x20945e+'\x0d\x0a',_0x2f0076=a0_0x1254('0x9c')+_0x20945e+'--',_0x40c3ff=a0_0x1254('0x94'),_0x2dc28d=a0_0x1254('0x8'),_0x1dc416={'name':_0xc7b7f4+a0_0x1254('0x15'),'mimeType':_0x40c3ff,'parents':[_0x1516f4],'properties':{'hello':'world','empatizo':a0_0x1254('0xb0')}},_0x2502ca=_0x251059+'Content-Type:\x20application/json\x0d\x0a\x0d\x0a'+JSON[a0_0x1254('0x57')](_0x1dc416)+_0x251059+a0_0x1254('0xa7')+_0x40c3ff+a0_0x1254('0x4e')+_0x2dc28d+a0_0x1254('0x12')+data_base64+_0x2f0076,_0x1af7fd={'path':'/upload/drive/v3/files','method':'POST','params':{'uploadType':'multipart','fields':'id'},'headers':{'Content-Type':'multipart/related;\x20boundary=\x22'+_0x20945e+'\x22'},'body':_0x2502ca};gapi[a0_0x1254('0x60')][a0_0x1254('0x4a')](_0x1af7fd)[a0_0x1254('0x49')](function(_0x2e5844){upload={'file_id':_0x2e5844[a0_0x1254('0x65')]['id'],'file_name':_0xc7b7f4,'parent_id':_0x1516f4},console['log'](a0_0x1254('0x20'),upload),_0x2bea0c({'metadata':upload,'raw_data':_0xee87f9});},function(_0x526345){console['error']('error\x20in\x20upload\x20multipart:'),console[a0_0x1254('0x77')](_0x526345);});});}function patchPdf(_0x170205,_0x3cba16){return new Promise(function(_0x13a763,_0x464635){pdf_data=window[a0_0x1254('0x0')](_0x170205)[a0_0x1254('0x70')]('\x0a',''),PDFLib[a0_0x1254('0x38')][a0_0x1254('0xae')](pdf_data)['then'](function(_0x39ea7e){keys=Object[a0_0x1254('0x5e')](_0x3cba16);for(i in keys){_0x39ea7e[a0_0x1254('0x1a')]()['set'](PDFLib[a0_0x1254('0x84')]['of'](keys[i]),PDFLib[a0_0x1254('0x33')]['of'](_0x3cba16[keys[i]]));}_0x39ea7e[a0_0x1254('0xb7')](),_0x39ea7e['saveAsBase64']()[a0_0x1254('0x49')](function(_0xc602e5){_0x13a763(window[a0_0x1254('0x19')](_0xc602e5));},function(_0x24517f){console[a0_0x1254('0x77')]('error\x20in\x20saveasbase64:'),console[a0_0x1254('0x77')](_0x24517f);});},function(_0x18afb4){console[a0_0x1254('0x77')](_0x18afb4),_0x464635(_0x18afb4);});});}function buildMonkeyPatch(){evt=dashContext[a0_0x1254('0x66')](),patch={},profile=dashContext['getProfile']();if('profession_family'in profile&&profile[a0_0x1254('0x2b')]!=''){professions=profile[a0_0x1254('0x2b')]['split'](',');if(findOne(br_medicina,professions))return console[a0_0x1254('0x67')](a0_0x1254('0x27')+professions),creds=profile[a0_0x1254('0xac')][a0_0x1254('0x2f')]('\x20'),crm_number='',crm_uf='',crm_speciality=a0_0x1254('0x1e'),creds[a0_0x1254('0x7c')]>=0x2&&(crm_number=creds[0x0],crm_uf=creds[0x1]),{'CreationDate':'D:'+moment()[a0_0x1254('0x1d')]('YYYYMMDDHHmmss')+'Z','MonkeyPatch':a0_0x1254('0xab'),'Keywords':a0_0x1254('0x23'),'2.16.76.1.4.2.2.1':crm_number,'2.16.76.1.4.2.2.2':crm_uf,'2.16.76.1.4.2.2.3':crm_speciality,'2.16.76.1.12.1.1':'','2.16.76.1.4.2.3.1':'','2.16.76.1.4.2.3.2':'','2.16.76.1.4.2.3.3':''};}return patch,console[a0_0x1254('0x67')](evt);}function previewDoc(_0x21cc8c,_0x20fc70){return new Promise(function(_0x285999,_0x5432ae){gapi[a0_0x1254('0x60')][a0_0x1254('0xb5')][a0_0x1254('0x24')][a0_0x1254('0x7d')]({'fileId':_0x21cc8c,'mimeType':a0_0x1254('0x94')})['then'](function(_0xf4ebba){let _0x26124e=buildMonkeyPatch();patchPdf(_0xf4ebba['body'],_0x26124e)['then'](function(_0x36e061){uploadPdf(_0x20fc70,phrFolderManager[a0_0x1254('0xa6')][a0_0x1254('0x3a')],_0x36e061)[a0_0x1254('0x49')](function(_0x324c25){console[a0_0x1254('0x67')]('result:',_0x324c25),_0x285999(_0x324c25);},function(_0x119657){console[a0_0x1254('0x67')](a0_0x1254('0x91')),console[a0_0x1254('0x67')](_0x119657),_0x5432ae(_0x119657);});},function(_0x194ff9){console[a0_0x1254('0x77')]('error\x20in\x20patchPdf:'),console[a0_0x1254('0x77')](_0x194ff9);});},function(_0x145409){console[a0_0x1254('0x77')](a0_0x1254('0x43')),console['error'](_0x145409);});});}function buildQRCode(_0x4d8531,_0x100fd9,_0x3ae46f){tgt_width=0x12c,tgt_height=0x12c,ori_width=0x100,ori_height=0x100,dif_width=tgt_width-ori_width,dif_height=tgt_height-ori_height,qrcode=$(a0_0x1254('0xc'),{'id':a0_0x1254('0x78'),'style':a0_0x1254('0xb1')}),$(a0_0x1254('0x98'))[a0_0x1254('0x97')](qrcode),qrcode[a0_0x1254('0x78')](_0x4d8531),qrcode_canvas=$('#qrcode\x20>\x20canvas')[0x0],buffer_canvas=$(a0_0x1254('0xf')),ctx=buffer_canvas[0x0]['getContext']('2d'),buffer_canvas[0x0][a0_0x1254('0x54')]=tgt_width,buffer_canvas[0x0][a0_0x1254('0x55')]=tgt_height,ctx[a0_0x1254('0x54')]=tgt_width,ctx[a0_0x1254('0x55')]=tgt_height,ctx[a0_0x1254('0x5c')]=a0_0x1254('0xb4'),ctx['fillRect'](0x0,0x0,ctx[a0_0x1254('0x54')],ctx['height']),ctx[a0_0x1254('0x4c')](qrcode_canvas,dif_width/0x2,dif_height/0x2);!_0x100fd9&&(_0x100fd9='');ctx[a0_0x1254('0x28')]=a0_0x1254('0x4f'),ctx[a0_0x1254('0xa8')]='center',ctx[a0_0x1254('0x5c')]=a0_0x1254('0x53'),ctx[a0_0x1254('0x8f')](_0x100fd9,tgt_width/0x2,ori_height+dif_height/0x2+0x12),s=buffer_canvas[0x0][a0_0x1254('0xb8')](),qrcode[a0_0x1254('0x8a')]();if(_0x3ae46f)return x=s['split'](','),window[a0_0x1254('0x19')](x[0x1]);return s;}function addQRCode(_0x410776,_0x9ced5f,_0x39bc3e){let _0x375560=window['btoa'](_0x410776)['replace']('\x0a',''),_0x41618a=buildQRCode(_0x9ced5f,_0x39bc3e,![]);return new Promise(function(_0x4443fc,_0x1ea69a){PDFLib[a0_0x1254('0x38')][a0_0x1254('0xae')](_0x375560)[a0_0x1254('0x49')](function(_0x1b4670){_0x1b4670[a0_0x1254('0x81')](_0x41618a)[a0_0x1254('0x49')](function(_0x1802c3){let _0x19d26f=_0x1b4670[a0_0x1254('0x90')](0x0),_0x28d594=_0x19d26f[a0_0x1254('0x47')](),_0x296a05=_0x19d26f[a0_0x1254('0x1c')]();_0x19d26f[a0_0x1254('0x4c')](_0x1802c3,{'x':0x28,'y':0x28,'width':0x50,'height':0x50}),_0x1b4670[a0_0x1254('0xb6')]()['then'](function(_0x242f2b){console['log'](a0_0x1254('0x5')),console[a0_0x1254('0x67')](_0x242f2b[a0_0x1254('0x7c')],'bytes'),_0x4443fc({'metadata':{'function':a0_0x1254('0x45'),'params':[_0x9ced5f,_0x39bc3e,![]]},'raw_data':window[a0_0x1254('0x19')](_0x242f2b),'png':_0x41618a});},function(_0x540c2d){console[a0_0x1254('0x77')]('error\x20in\x20saveasbase64:'),console[a0_0x1254('0x77')](_0x540c2d);});});},function(_0xe513d1){console[a0_0x1254('0x77')](a0_0x1254('0x22')),console[a0_0x1254('0x77')](_0xe513d1);});});}function buildUpdateRequest(_0x2f194f,_0x50a87d){let _0x1666a6=a0_0x1254('0x72'),_0x4fbb82='\x0d\x0a--'+_0x1666a6+'\x0d\x0a',_0x198d4f=a0_0x1254('0x9c')+_0x1666a6+'--',_0x19419d=a0_0x1254('0x94'),_0x262713=a0_0x1254('0x8'),_0x146ab7={'mimeType':_0x19419d},_0x46b391=_0x4fbb82+a0_0x1254('0x2d')+JSON[a0_0x1254('0x57')](_0x146ab7)+_0x4fbb82+a0_0x1254('0xa7')+_0x19419d+a0_0x1254('0x4e')+_0x262713+a0_0x1254('0x12')+window[a0_0x1254('0x0')](_0x50a87d)+_0x198d4f,_0x2360b2={'path':a0_0x1254('0x9')+_0x2f194f,'method':a0_0x1254('0xa3'),'params':{'uploadType':'multipart','fields':'id'},'headers':{'Content-Type':a0_0x1254('0x46')+_0x1666a6+'\x22'},'body':_0x46b391};return _0x2360b2;}function exportReport(_0xf0bb45,_0x368d70,_0x4942cc,_0x471cd2){console[a0_0x1254('0x67')](a0_0x1254('0xba')),console[a0_0x1254('0x67')](_0x368d70,_0xf0bb45,_0x4942cc,_0x471cd2);let _0x4c5dbf,_0x2ba3c0=phrFolderManager[a0_0x1254('0xa6')][a0_0x1254('0x3a')];_0x4942cc?_0x4c5dbf=_0x4942cc:_0x4c5dbf=_0x2ba3c0;let _0x363cfa={'owner':dashContext[a0_0x1254('0xa0')](),'calendar_event':_0xf0bb45,'report':_0x368d70,'filename':reports[_0x368d70][a0_0x1254('0x56')],'tags':[],'raw_data':{}};return new Promise(function(_0xc49df8,_0x45a759){let _0x4727a4=reports[_0x368d70][a0_0x1254('0x6')][_0xf0bb45],_0x392ead=_0xf0bb45+'_'+_0x368d70+'_'+a0_0x1254('0x88'),_0x2c1f04=_0xf0bb45+'_'+_0x368d70+'_'+a0_0x1254('0x9d'),_0x12a37d=_0xf0bb45+'_'+_0x368d70+'_'+a0_0x1254('0xa9');_0x363cfa[a0_0x1254('0x68')]=_0x4727a4,gapi[a0_0x1254('0x60')][a0_0x1254('0xb5')]['files'][a0_0x1254('0xe')]({'uploadType':'media','name':_0x363cfa['filename']+'.pdf','parents':[_0x4c5dbf],'body':{'mimeType':a0_0x1254('0x94')}})[a0_0x1254('0x49')](function(_0x116b62){console[a0_0x1254('0x29')](a0_0x1254('0x63'),_0x116b62),_0x363cfa[a0_0x1254('0x18')]=_0x116b62[a0_0x1254('0x65')]['id'];let _0x25089b=a0_0x1254('0x6d')+_0x363cfa[a0_0x1254('0x18')],_0x4872dc=base_url+a0_0x1254('0x30')+_0xf0bb45+a0_0x1254('0x37')+_0x368d70;console['log']('qrcode_url:',_0x4872dc),console[a0_0x1254('0x67')](a0_0x1254('0x3e'),_0x25089b),previewDoc(_0x4727a4,_0x392ead)[a0_0x1254('0x49')](function(_0x441abf){console[a0_0x1254('0x29')](a0_0x1254('0xb2'),_0x441abf),_0x363cfa[a0_0x1254('0x9e')][a0_0x1254('0xb')](a0_0x1254('0x39')),_0x363cfa[a0_0x1254('0x62')]=_0x441abf[a0_0x1254('0x5d')],_0x363cfa[a0_0x1254('0x87')][a0_0x1254('0x13')]=_0x441abf[a0_0x1254('0x87')];if(_0x471cd2)_0x471cd2[a0_0x1254('0x97')]($(a0_0x1254('0xa4'),{'class':a0_0x1254('0xa1'),'data-icon':a0_0x1254('0x69')}));addQRCode(_0x441abf[a0_0x1254('0x87')],_0x4872dc,_0x363cfa['filename'])[a0_0x1254('0x49')](function(_0x1ff0d3){console[a0_0x1254('0x29')](a0_0x1254('0x75'),_0x1ff0d3),_0x363cfa['tags'][a0_0x1254('0xb')](a0_0x1254('0x78'));if(_0x471cd2)_0x471cd2[a0_0x1254('0x97')]($(a0_0x1254('0xa4'),{'class':a0_0x1254('0xa1'),'data-icon':a0_0x1254('0x3c')}));_0x363cfa[a0_0x1254('0x8d')]=_0x1ff0d3[a0_0x1254('0x5d')],_0x363cfa['public_url']=_0x25089b,_0x363cfa[a0_0x1254('0x87')][a0_0x1254('0x7a')]=_0x1ff0d3[a0_0x1254('0x2e')],_0x363cfa[a0_0x1254('0x87')][a0_0x1254('0x8d')]=_0x1ff0d3[a0_0x1254('0x87')],signDocument(_0x1ff0d3[a0_0x1254('0x87')])['then'](function(_0x37bcd0){console[a0_0x1254('0x29')]('signDocument:',_0x37bcd0);if(_0x471cd2)_0x471cd2[a0_0x1254('0x97')]($('<span/>',{'class':a0_0x1254('0xa1'),'data-icon':a0_0x1254('0xb9')}));_0x363cfa[a0_0x1254('0x9a')]=_0x37bcd0[a0_0x1254('0x5d')],_0x363cfa[a0_0x1254('0x87')][a0_0x1254('0x25')]=_0x37bcd0[a0_0x1254('0x87')],_0x363cfa[a0_0x1254('0x9e')][a0_0x1254('0xb')]('signed'),uploadPdf(_0x12a37d,_0x2ba3c0,_0x37bcd0[a0_0x1254('0x87')])[a0_0x1254('0x49')](function(_0x4fbcdb){console[a0_0x1254('0x29')](a0_0x1254('0x80'),_0x4fbcdb);let _0x44b411=buildUpdateRequest(_0x363cfa['published_file_id'],_0x37bcd0['raw_data']);gapi['client']['request'](_0x44b411)[a0_0x1254('0x49')](function(_0x181317){console[a0_0x1254('0x29')](a0_0x1254('0x5b'),_0x181317),_0x363cfa[a0_0x1254('0x9e')][a0_0x1254('0xb')](a0_0x1254('0x31'));if(_0x471cd2)_0x471cd2[a0_0x1254('0x97')]($('<span/>',{'class':a0_0x1254('0xa1'),'data-icon':'mdi:cloud-upload-outline'}));_0x363cfa[a0_0x1254('0x25')]=_0x4fbcdb[a0_0x1254('0x5d')],_0xc49df8(_0x363cfa);},_0x758caa=>{console['error'](_0x758caa),_0x45a759(_0x758caa);});},_0x4d7fa7=>{console[a0_0x1254('0x77')](_0x4d7fa7),_0x45a759(_0x4d7fa7);});},function(_0x1ba28c){console['debug']('failed\x20signing:',_0x1ba28c),_0x363cfa[a0_0x1254('0x87')][a0_0x1254('0x25')]=_0x1ff0d3[a0_0x1254('0x87')],uploadPdf(_0x2c1f04,_0x2ba3c0,_0x1ff0d3['raw_data'])[a0_0x1254('0x49')](function(_0x235458){console[a0_0x1254('0x29')](a0_0x1254('0x80'),_0x235458);let _0x3354a9=buildUpdateRequest(_0x363cfa[a0_0x1254('0x18')],_0x1ff0d3[a0_0x1254('0x87')]);gapi['client'][a0_0x1254('0x4a')](_0x3354a9)[a0_0x1254('0x49')](function(_0x22eb89){console[a0_0x1254('0x29')](a0_0x1254('0x5b'),_0x22eb89),_0x363cfa[a0_0x1254('0x9e')]['push'](a0_0x1254('0x31'));if(_0x471cd2)_0x471cd2[a0_0x1254('0x97')]($(a0_0x1254('0xa4'),{'class':a0_0x1254('0xa1'),'data-icon':'mdi:cloud-upload-outline'}));_0x363cfa[a0_0x1254('0x25')]=_0x235458[a0_0x1254('0x5d')],_0xc49df8(_0x363cfa);},_0x3875fe=>{console[a0_0x1254('0x77')](_0x3875fe),_0x45a759(_0x3875fe);});},_0x58038c=>{console[a0_0x1254('0x77')](_0x58038c),_0x45a759(_0x58038c);});});},_0x54bf8d=>{console[a0_0x1254('0x77')](_0x54bf8d);});},_0x3a9bde=>{console[a0_0x1254('0x77')](a0_0x1254('0x1b'),_0x392ead);});},_0xf81c41=>{console['error'](_0xf81c41);});});}function buildReport(_0x307cab,_0x43e617,_0x4165e6,_0x17100b){showLoading(),console[a0_0x1254('0x67')]('buildReport\x20'+_0x307cab+',\x20'+_0x43e617+',\x20'+_0x4165e6+',\x20'+_0x17100b),prev_report=null;for(i in buildSequence){rep=getReport(_0x307cab,_0x43e617,buildSequence[i]['name']);if(!rep){_0x4165e6==buildSequence[i][a0_0x1254('0x6e')]&&M['toast']({'html':a0_0x1254('0x96')+reports[_0x307cab]['filename'],'classes':'rounded'});console[a0_0x1254('0x67')](a0_0x1254('0x82')+buildSequence[i][a0_0x1254('0x6e')]);var _0x34bea1=_0x43e617+'_'+_0x307cab+'_'+'_'+buildSequence[i]['name'];buildSequence[i][a0_0x1254('0x5f')](prev_report,_0x34bea1)[a0_0x1254('0x49')](function(_0x140e66){reports[_0x307cab][_0x4165e6][_0x43e617]=_0x140e66['id'],files_data[_0x140e66['id']]=_0x140e66[a0_0x1254('0x2c')],buildReport(_0x307cab,_0x43e617,_0x4165e6,_0x17100b);},function(_0x402562){console[a0_0x1254('0x77')]('error\x20in\x20step\x20'+buildSequence[i][a0_0x1254('0x6e')]+':'),console['error'](_0x402562),$[a0_0x1254('0xaa')](_0x402562);});break;}else{prev_report=rep,console[a0_0x1254('0x67')](buildSequence[i][a0_0x1254('0x6e')]+':\x20'+rep);if(buildSequence[i][a0_0x1254('0x6e')]==_0x4165e6){_0x17100b(rep);break;}}}}function ensureReport(_0xc0a8e6){return new Promise(function(_0x55b094,_0x504b9a){evt=dashContext[a0_0x1254('0x66')](),templates_dir=phrFolderManager[a0_0x1254('0xa6')][a0_0x1254('0x26')],drafts_dir=phrFolderManager[a0_0x1254('0xa6')][a0_0x1254('0x3a')];var _0x551aa6={'pageSize':0x1,'fields':a0_0x1254('0xd'),'q':'\x27'+drafts_dir+'\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27'+evt[a0_0x1254('0x21')]+'_'+_0xc0a8e6+'\x27'};showLoading();var _0x59d4ad=gapi['client'][a0_0x1254('0xb5')][a0_0x1254('0x24')]['list'](_0x551aa6)[a0_0x1254('0x49')](function(_0x3c68ea){if(_0x3c68ea['result'][a0_0x1254('0x24')][a0_0x1254('0x7c')]==0x0)var _0x17c3db={'pageSize':0x1,'fields':a0_0x1254('0xd'),'q':'\x27'+templates_dir+a0_0x1254('0x7e')+reports[_0xc0a8e6][a0_0x1254('0x56')]+'\x27'},_0x15f5ae=gapi[a0_0x1254('0x60')][a0_0x1254('0xb5')]['files'][a0_0x1254('0x8b')](_0x17c3db)['then'](function(_0x1f7a1d){if(_0x1f7a1d[a0_0x1254('0x65')][a0_0x1254('0x24')][a0_0x1254('0x7c')]==0x1)M[a0_0x1254('0x83')]({'html':a0_0x1254('0x11')+_0xc0a8e6+a0_0x1254('0x9f'),'classes':a0_0x1254('0x7b')}),original=_0x1f7a1d[a0_0x1254('0x65')][a0_0x1254('0x24')][0x0]['id'];else _0x1f7a1d[a0_0x1254('0x65')][a0_0x1254('0x24')][a0_0x1254('0x7c')]==0x0&&(original=reports[_0xc0a8e6]['default_id'],M['toast']({'html':'gerando\x20relatório\x20'+_0xc0a8e6+a0_0x1254('0x4d'),'classes':a0_0x1254('0x7b')}));copy_data={'fileId':original,'name':evt[a0_0x1254('0x21')]+'_'+_0xc0a8e6,'supportsAllDrives':!![],'parents':[drafts_dir]};var _0x26bb50=gapi[a0_0x1254('0x60')]['drive'][a0_0x1254('0x24')][a0_0x1254('0x9b')](copy_data)[a0_0x1254('0x49')](function(_0x13b332){gapi[a0_0x1254('0x60')][a0_0x1254('0x3d')]['documents'][a0_0x1254('0x95')]({'documentId':_0x13b332[a0_0x1254('0x65')]['id']})['then'](function(_0x2aebd7){texts=getKeys(_0x2aebd7,a0_0x1254('0x74')),M[a0_0x1254('0x83')]({'html':a0_0x1254('0x4'),'classes':a0_0x1254('0x7b')});var _0x379b30=[];for(i in texts){t=texts[i],content=t[a0_0x1254('0x36')],matchs=String(content)[a0_0x1254('0x3')](/(\{\{[a-zA-Z\. \|_\-]+\}\})+/g),matchs&&(_0x379b30=_0x379b30[a0_0x1254('0x92')](matchs));}replaces=getReplaces(_0x379b30),requests=[],keys=Object[a0_0x1254('0x5e')](replaces);for(i in keys){stuff=keys[i],requests[a0_0x1254('0xb')]({'replaceAllText':{'containsText':{'text':stuff,'matchCase':!![]},'replaceText':String(replaces[keys[i]])}});}gapi[a0_0x1254('0x60')][a0_0x1254('0x3d')]['documents'][a0_0x1254('0x2')]({'documentId':_0x13b332[a0_0x1254('0x65')]['id'],'resource':{'requests':requests}})[a0_0x1254('0x49')](function(_0x2883d0){dashContext[a0_0x1254('0x17')](_0x2883d0[a0_0x1254('0x65')]['id'],a0_0x1254('0x16')),evt_id=dashContext[a0_0x1254('0x66')]()['id'],reports[_0xc0a8e6][a0_0x1254('0x6')][evt_id]=_0x13b332[a0_0x1254('0x65')]['id'],_0x55b094(_0x13b332[a0_0x1254('0x65')]['id']);},function(_0x98c637){console[a0_0x1254('0x67')]('error\x20updating\x20template\x20variables:'),console[a0_0x1254('0x77')](_0x98c637),_0x504b9a(_0x98c637);},this);},function(_0x463d6f){console[a0_0x1254('0x77')]('error\x20editing\x20report\x20template:'),console[a0_0x1254('0x77')](_0x463d6f);});},function(_0x100d3e){console[a0_0x1254('0x67')](_0x100d3e);},this);},function(_0x461645){console['error'](_0x461645);},this);else M[a0_0x1254('0x83')]({'html':a0_0x1254('0x41'),'classes':a0_0x1254('0x7b')}),dashContext[a0_0x1254('0x17')](_0x3c68ea[a0_0x1254('0x65')][a0_0x1254('0x24')][0x0]['id'],a0_0x1254('0x16')),evt_id=dashContext[a0_0x1254('0x66')]()['id'],reports[_0xc0a8e6][a0_0x1254('0x6')][evt_id]=_0x3c68ea[a0_0x1254('0x65')][a0_0x1254('0x24')][0x0]['id'],_0x55b094(_0x3c68ea[a0_0x1254('0x65')][a0_0x1254('0x24')][0x0]['id']);},function(_0x3d0a8f){console[a0_0x1254('0x67')](_0x3d0a8f),_0x504b9a(_0x3d0a8f);},this);hideLoading();});}function openReport(_0x4a5016){ensureReport(_0x4a5016)['then'](function(_0x2e574f){var _0x444001=null,_0x507a53=screen[a0_0x1254('0x54')]-0x258,_0x24608f=screen['height'];M[a0_0x1254('0x83')]({'html':a0_0x1254('0x6a'),'classes':a0_0x1254('0x7b')}),reportWindow=window[a0_0x1254('0x32')](a0_0x1254('0x40')+_0x2e574f,a0_0x1254('0xb3')+_0x4a5016,a0_0x1254('0xaf')+_0x507a53+a0_0x1254('0x52')+_0x24608f+a0_0x1254('0x79'));},function(_0x49d34b){console['error'](_0x49d34b);});}function getKeys(_0x33fa62,_0x34b222){var _0x425abf=[],_0x1cb722=Object[a0_0x1254('0x5e')](_0x33fa62);for(var _0x179fc9 in _0x1cb722){if(_0x1cb722[_0x179fc9]==_0x34b222)_0x425abf[a0_0x1254('0xb')](_0x33fa62[_0x1cb722[_0x179fc9]]);else typeof _0x33fa62[_0x1cb722[_0x179fc9]]==='object'&&_0x33fa62[_0x1cb722[_0x179fc9]]!==null&&(res=getKeys(_0x33fa62[_0x1cb722[_0x179fc9]],_0x34b222),res[a0_0x1254('0x7c')]>0x0&&(_0x425abf=_0x425abf[a0_0x1254('0x92')](res)));}return _0x425abf;}function getReplaces(_0x27b3c0){var _0x21790a=/\{\{\s?(.+)\s?\}\}/g,_0x1c718d=/([^.]+)\.([^|]+)\|?(.*)/g,_0x3ae171={};for(i in _0x27b3c0){var _0x24e86f=new RegExp(_0x21790a),_0x534fa7=new RegExp(_0x1c718d),_0x4deb11='',_0x5adc68='',_0x42ac09='',_0x3a2511=_0x24e86f[a0_0x1254('0x7f')](String(_0x27b3c0[i])),_0x3274a3='';console[a0_0x1254('0x29')](a0_0x1254('0x93')+_0x27b3c0[i]+'\x22');if(_0x3a2511){console['debug'](a0_0x1254('0x86')+_0x3a2511);var _0x57956b=_0x534fa7[a0_0x1254('0x7f')](String(_0x3a2511[0x1]));if(_0x57956b){_0x4deb11=_0x57956b[0x1],_0x5adc68=_0x57956b[0x2],_0x42ac09=_0x57956b[0x3],evt=dashContext[a0_0x1254('0x66')]();if(_0x4deb11=='host')tgt=evt['host'];else{if(_0x4deb11=='guest')tgt=evt[a0_0x1254('0x7')];else{if(_0x4deb11==a0_0x1254('0x59'))tgt=evt;else _0x4deb11==a0_0x1254('0x76')&&(tgt=phrFolderManager['mediaDir']());}}console[a0_0x1254('0x29')](a0_0x1254('0x8c')),console['debug'](tgt+'\x20=>\x20'+_0x5adc68),elm=getDescendantProp(tgt,_0x5adc68),console[a0_0x1254('0x29')](elm),_0x3274a3=elm;if(_0x42ac09&&_0x42ac09!=''){var _0x560115=_0x42ac09['split']('.'),_0x207f7d=window[a0_0x1254('0x71')+_0x560115[0x0]];typeof _0x207f7d==a0_0x1254('0x3f')&&(_0x560115[a0_0x1254('0x7c')]>0x1?_0x3274a3=_0x207f7d(elm,_0x560115[0x1]):_0x3274a3=_0x207f7d(elm)),console[a0_0x1254('0x67')](res);}console['log'](_0x4deb11+a0_0x1254('0x73')+_0x5adc68+':\x20'+elm);}}else console[a0_0x1254('0x67')]('no\x20match\x20for:\x20'+_0x3a2511);_0x3ae171[_0x27b3c0[i]]=_0x3274a3;}return _0x3ae171;}function filter_format_date(_0x1b58ec,_0x16ddaa){!_0x16ddaa&&(_0x16ddaa=a0_0x1254('0xad'));m=moment(_0x1b58ec);if(m[a0_0x1254('0xa2')]())return console[a0_0x1254('0x67')](m),m[a0_0x1254('0x1d')](_0x16ddaa);return'-';}function filter_format_sex(_0x25433b){switch(_0x25433b){case'1':case'M':ret=a0_0x1254('0x48');break;case'2':case'F':ret='Feminino';break;default:ret=ret='';break;}return ret;}function filter_format_value(_0x6424b2,_0x19f1bb){if(_0x19f1bb){if(_0x19f1bb==a0_0x1254('0x6f'))return porExtenso(_0x6424b2,!![]);}return _0x6424b2;}function filter_endereco_cep(_0x414eda){return dados=get_cep_data(_0x414eda),dados?[dados['logradouro'],dados[a0_0x1254('0x89')],dados[a0_0x1254('0x1f')],dados['uf']][a0_0x1254('0x5a')](',\x20'):a0_0x1254('0x1')+_0x414eda;}function filter_endereco_cep(_0xde9326){cep=_0xde9326[a0_0x1254('0x70')](/\D/g,'');var _0x10f6a7='CEP\x20'+_0xde9326;return/^[0-9]{8}$/['test'](cep)&&(console[a0_0x1254('0x29')](a0_0x1254('0x4b')),$[a0_0x1254('0xa')]({'async':![]}),$[a0_0x1254('0x6b')]({'type':a0_0x1254('0x42'),'async':![],'timeout':0xa,'url':a0_0x1254('0x99')+cep+a0_0x1254('0x10'),'success':function(_0x44abcf){console[a0_0x1254('0x29')](_0x44abcf),_0x10f6a7=[_0x44abcf[a0_0x1254('0x34')],_0x44abcf[a0_0x1254('0x89')],_0x44abcf['localidade'],_0x44abcf['uf']][a0_0x1254('0x5a')](',\x20'),console[a0_0x1254('0x29')](_0x10f6a7);},'error':function(_0x2a1281){console[a0_0x1254('0x67')]('error\x20ajaxing:'),console[a0_0x1254('0x67')](_0x2a1281);}}),$['ajaxSetup']({'async':!![]})),_0x10f6a7;}