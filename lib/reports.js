const a0_0x4a90=['buildReport\x20','atob','carbon:document-pdf','pdf_exported','request','create:','png','shift','no\x20match\x20for:\x20','bairro','added\x20qrcode\x20to\x20pdf:','folders','raw_signature','toast','failed\x20signing:','batchUpdate','center','Masculino','signing\x20result:','fillStyle','length','logradouro','Safeweb\x20SafeID','.pdf','gerando\x20relatório\x20','error\x20in\x20patchPdf:','getProfile','pdf','error\x20building','shit\x20happened:','/json/','keys','<div/>','requested','mediaDir','append','alert','raw_data','ajax','PDFDocument','O\x20documento\x20deve\x20ser\x20editado\x20antes\x20de\x20poder\x20gerar\x20uma\x20previsualização.','Profissional\x20da\x20Medicina:\x20','files(id,\x20name,\x20mimeType,\x20parents)','identification','\x0d\x0aContent-Transfer-Encoding:\x20','load','join','_qrcode_signed','\x0d\x0a--','-------314159265358979323846','YYYYMMDDHHmmss','POST','remove','soluti\x20data:','Feminino','published_file_id','list','getContext','publish:','media','metadata','stringify','error\x20in\x20safewebSignPdf:','toDataURL','target\x20of\x20substitution:','https://drive.google.com/uc?export=download&id=','pdf_base','file_url:','multipart','<span/>','preenchendo\x20os\x20dados\x20automáticamente','Content-Type:\x20','PDFString','documents','debug','{\x22eventId\x22:\x22${evt.id}\x22,\x22guestEmail\x22:\x22${evt.guest.email}\x22,\x22hostEmail\x22:\x22${evt.host.email}\x22,\x22platform\x22:\x22${customer}\x22,\x22date\x22:\x22${evt.start.dateTime}\x22}','file_id','getPage','saveAsBase64','drive','signDocument:','body','getInfoDict','_base','A\x20assinatura\x20de\x20PDF\x20pela\x20SoluTI\x20está\x20sendo\x20integrada.\x20Tente\x20em\x20breve\x20!','asking\x20for\x20report\x20','textRun','signature',',height=','copy','error\x20in\x20step\x20','profession_family','PDFName','mdi:qrcode','uploadPdf\x20final:','qrcode','previews','ajaxSetup','function','professional_id','rounded','base64','https://viacep.com.br/ws/','buildDoc\x20','white','btoa','getCurrentEvent','mdi:cloud-upload-outline','files','pdf_qrcode','isValid','name','CEP\x20','\x20=>\x20','abrindo\x20o\x20relatório','/Empatizo/Drafts','error','exportReport\x20requested:','replace','tags','editions','Patinho-v0','png_qrcode','object','empatizoReportWindow_','drawImage','result','extenso','calendar_id','provider','<canvas/>','report','cep\x20is\x20valid,\x20getting\x20information','result:','base','/upload/drive/v3/files/','PATCH','getWidth','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','no\x20certificate\x20to\x20use\x20for\x20signing\x20...','error\x20in\x20upload\x20multipart:','iconify\x20min-icon','localidade','\x27\x20in\x20parents\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20name\x20=\x20\x27','concat','14px\x20Arial','data','guest','textAlign','width','public_url','Médico\x20Clínico','filename','setFile','fillText','?view=','Content-Type:\x20application/json\x0d\x0a\x0d\x0a','open','embedPng','sign\x20with\x20SoluTI','exec','getHeight','Soluti\x20BirdID','get','buildQRCode','error\x20exporting\x20to\x20pdf:','client','height','push','#qrcode\x20>\x20canvas','split','signed','then','format','cloud','/Empatizo/Templates','application/pdf','check\x20var:\x20\x22','bytes','consultation',',top=0,left=600','getUser','multipart/related;\x20boundary=\x22','log','\x0d\x0a\x0d\x0a'];(function(_0x4c1ea6,_0x4a90d5){const _0x324401=function(_0x1c0a4c){while(--_0x1c0a4c){_0x4c1ea6['push'](_0x4c1ea6['shift']());}};_0x324401(++_0x4a90d5);}(a0_0x4a90,0x1a4));const a0_0x3244=function(_0x4c1ea6,_0x4a90d5){_0x4c1ea6=_0x4c1ea6-0x0;let _0x324401=a0_0x4a90[_0x4c1ea6];return _0x324401;};var buildSequence=[{'name':a0_0x3244('0x46'),'processor':buildDoc},{'name':a0_0x3244('0x2e'),'processor':previewDoc},{'name':'signings','processor':signDoc}];function getDescendantProp(_0x3bad99,_0x4d56a2){var _0x30dc69=_0x4d56a2[a0_0x3244('0x78')]('.');while(_0x30dc69[a0_0x3244('0x9b')]&&(_0x3bad99=_0x3bad99[_0x30dc69[a0_0x3244('0x8e')]()]));return _0x3bad99||'';}function getReport(_0x2614a6,_0xabd36b,_0x5d9e9b){console[a0_0x3244('0x18')](a0_0x3244('0x23')+_0x2614a6+'\x20'+_0xabd36b+'\x20'+_0x5d9e9b);if(_0x2614a6 in reports){if(_0x5d9e9b in reports[_0x2614a6]){if(_0xabd36b in reports[_0x2614a6][_0x5d9e9b])return reports[_0x2614a6][_0x5d9e9b][_0xabd36b];}}return null;}function buildDoc(_0x825aff){return new Promise(function(_0x1477ee,_0x323a4c){console[a0_0x3244('0x85')](a0_0x3244('0x35')+_0x825aff),hideLoading(),_0x323a4c(a0_0x3244('0xaf'));});}function signDocument(_0x136661){return new Promise(function(_0xfa256b,_0x2f9eb6){if(certificate_session['provider']==a0_0x3244('0x9d'))safewebSignPdf(_0x136661)[a0_0x3244('0x7a')](function(_0x4f5ae1){console[a0_0x3244('0x85')]('safewebsign\x20data:',_0x4f5ae1),_0xfa256b({'metadata':{'provider':certificate_session[a0_0x3244('0x4f')],'identification':certificate_session[a0_0x3244('0xb2')],'requested':certificate_session[a0_0x3244('0xa8')]},'raw_data':window['atob'](_0x4f5ae1['signature'][a0_0x3244('0x93')])});},function(_0x5c7d40){console[a0_0x3244('0x42')](_0x5c7d40),_0x2f9eb6(_0x5c7d40);});else certificate_session['provider']==a0_0x3244('0x70')?(console['log'](a0_0x3244('0x6d')),solutiSignPdf(_0x136661)[a0_0x3244('0x7a')](function(_0x15607b){console[a0_0x3244('0x85')](a0_0x3244('0x3'),_0x15607b),_0xfa256b({'metadata':{'provider':certificate_session['provider'],'identification':certificate_session[a0_0x3244('0xb2')],'requested':certificate_session['requested']},'raw_data':_0x15607b});},_0x2f3183=>console[a0_0x3244('0x42')](_0x2f3183))):_0x2f9eb6(a0_0x3244('0x59'));});}function signDoc(_0x569a70,_0x48a917){return new Promise(function(_0x21fab2,_0x31e2a4){console[a0_0x3244('0x85')]('signDoc\x20'+_0x569a70),x=files_data[_0x569a70],console[a0_0x3244('0x85')](x[a0_0x3244('0x9b')]);if(certificate_session['provider']==a0_0x3244('0x9d'))safewebSignPdf(x)[a0_0x3244('0x7a')](function(_0x9f6252){console['log'](a0_0x3244('0x99')),console['log'](_0x9f6252),uploadPdf(_0x48a917,phrFolderManager[a0_0x3244('0x92')][a0_0x3244('0x41')],_0x9f6252[a0_0x3244('0x25')][a0_0x3244('0x93')])[a0_0x3244('0x7a')](function(_0x529949){_0x21fab2({'id':_0x529949[a0_0x3244('0x1a')],'data':_0x9f6252[a0_0x3244('0x25')]});},function(_0x557497){console['error'](_0x557497),_0x31e2a4(_0x557497);});},function(_0x2930ee){console[a0_0x3244('0x42')](a0_0x3244('0xc')),console[a0_0x3244('0x42')](_0x2930ee);});else certificate_session[a0_0x3244('0x4f')]=='Soluti\x20BirdID'&&$[a0_0x3244('0xab')](a0_0x3244('0x22'));});}function uploadPdf(_0x51f4f6,_0x54fce5,_0x5a79ea){return data_base64=window[a0_0x3244('0x37')](_0x5a79ea),new Promise(function(_0x3271b0,_0x1eb729){let _0x213456=a0_0x3244('0xb8'),_0x53e6ee=a0_0x3244('0xb7')+_0x213456+'\x0d\x0a',_0xe37b0e=a0_0x3244('0xb7')+_0x213456+'--',_0x166152=a0_0x3244('0x7e'),_0x22fb5b=a0_0x3244('0x33'),_0x7efaa1={'name':_0x51f4f6+a0_0x3244('0x9e'),'mimeType':_0x166152,'parents':[_0x54fce5],'properties':{'hello':'world','empatizo':'contigo'}},_0x17855b=_0x53e6ee+a0_0x3244('0x6a')+JSON[a0_0x3244('0xb')](_0x7efaa1)+_0x53e6ee+a0_0x3244('0x15')+_0x166152+a0_0x3244('0xb3')+_0x22fb5b+a0_0x3244('0x86')+data_base64+_0xe37b0e,_0x4d9a64={'path':'/upload/drive/v3/files','method':a0_0x3244('0x1'),'params':{'uploadType':a0_0x3244('0x12'),'fields':'id'},'headers':{'Content-Type':a0_0x3244('0x84')+_0x213456+'\x22'},'body':_0x17855b};gapi[a0_0x3244('0x74')][a0_0x3244('0x8b')](_0x4d9a64)[a0_0x3244('0x7a')](function(_0x4adbf2){upload={'file_id':_0x4adbf2[a0_0x3244('0x4c')]['id'],'file_name':_0x51f4f6,'parent_id':_0x54fce5},console['log']('uploadPdf:',upload),_0x3271b0({'metadata':upload,'raw_data':_0x5a79ea});},function(_0x1295ca){console[a0_0x3244('0x42')](a0_0x3244('0x5a')),console[a0_0x3244('0x42')](_0x1295ca);});});}function patchPdf(_0x70bb0a,_0x174b96){return new Promise(function(_0x36aebd,_0x5e8fe8){pdf_data=window[a0_0x3244('0x37')](_0x70bb0a)[a0_0x3244('0x44')]('\x0a',''),PDFLib[a0_0x3244('0xae')][a0_0x3244('0xb4')](pdf_data)[a0_0x3244('0x7a')](function(_0xb49d02){keys=Object[a0_0x3244('0xa6')](_0x174b96);for(i in keys){_0xb49d02[a0_0x3244('0x20')]()['set'](PDFLib[a0_0x3244('0x2a')]['of'](keys[i]),PDFLib[a0_0x3244('0x16')]['of'](_0x174b96[keys[i]]));}_0xb49d02['updateInfoDict'](),_0xb49d02[a0_0x3244('0x1c')]()['then'](function(_0x55bfd8){_0x36aebd(window['atob'](_0x55bfd8));},function(_0x49a8b1){console[a0_0x3244('0x42')]('error\x20in\x20saveasbase64:'),console['error'](_0x49a8b1);});},function(_0x52a57c){console[a0_0x3244('0x42')](_0x52a57c),_0x5e8fe8(_0x52a57c);});});}function buildMonkeyPatch(){evt=dashContext['getCurrentEvent'](),patch={},profile=dashContext[a0_0x3244('0xa1')]();if(a0_0x3244('0x29')in profile&&profile['profession_family']!=''){professions=profile['profession_family'][a0_0x3244('0x78')](',');if(findOne(br_medicina,professions))return console[a0_0x3244('0x85')](a0_0x3244('0xb0')+professions),creds=profile[a0_0x3244('0x31')][a0_0x3244('0x78')]('\x20'),crm_number='',crm_uf='',crm_speciality=a0_0x3244('0x65'),creds[a0_0x3244('0x9b')]>=0x2&&(crm_number=creds[0x0],crm_uf=creds[0x1]),{'CreationDate':'D:'+moment()[a0_0x3244('0x7b')](a0_0x3244('0x0'))+'Z','MonkeyPatch':a0_0x3244('0x47'),'Keywords':a0_0x3244('0x19'),'2.16.76.1.4.2.2.1':crm_number,'2.16.76.1.4.2.2.2':crm_uf,'2.16.76.1.4.2.2.3':crm_speciality,'2.16.76.1.12.1.1':'','2.16.76.1.4.2.3.1':'','2.16.76.1.4.2.3.2':'','2.16.76.1.4.2.3.3':''};}return patch,console['log'](evt);}function previewDoc(_0x448fd6,_0x3aa9de){return new Promise(function(_0x3d11eb,_0x2102b5){gapi[a0_0x3244('0x74')]['drive'][a0_0x3244('0x3a')]['export']({'fileId':_0x448fd6,'mimeType':a0_0x3244('0x7e')})[a0_0x3244('0x7a')](function(_0x542573){let _0x49aec0=buildMonkeyPatch();patchPdf(_0x542573[a0_0x3244('0x1f')],_0x49aec0)[a0_0x3244('0x7a')](function(_0x21f971){uploadPdf(_0x3aa9de,phrFolderManager['folders'][a0_0x3244('0x41')],_0x21f971)['then'](function(_0x3ce8b8){console[a0_0x3244('0x85')](a0_0x3244('0x53'),_0x3ce8b8),_0x3d11eb(_0x3ce8b8);},function(_0x1dad86){console['log'](a0_0x3244('0xa4')),console['log'](_0x1dad86),_0x2102b5(_0x1dad86);});},function(_0x348c41){console[a0_0x3244('0x42')](a0_0x3244('0xa0')),console[a0_0x3244('0x42')](_0x348c41);});},function(_0x2829ae){console['error'](a0_0x3244('0x73')),console[a0_0x3244('0x42')](_0x2829ae);});});}function buildQRCode(_0x4b7e30,_0x42a6b9,_0x143fb8){tgt_width=0x12c,tgt_height=0x12c,ori_width=0x100,ori_height=0x100,dif_width=tgt_width-ori_width,dif_height=tgt_height-ori_height,qrcode=$(a0_0x3244('0xa7'),{'id':a0_0x3244('0x2d'),'style':'display:none;'}),$(a0_0x3244('0x1f'))[a0_0x3244('0xaa')](qrcode),qrcode[a0_0x3244('0x2d')](_0x4b7e30),qrcode_canvas=$(a0_0x3244('0x77'))[0x0],buffer_canvas=$(a0_0x3244('0x50')),ctx=buffer_canvas[0x0][a0_0x3244('0x7')]('2d'),buffer_canvas[0x0][a0_0x3244('0x63')]=tgt_width,buffer_canvas[0x0][a0_0x3244('0x75')]=tgt_height,ctx[a0_0x3244('0x63')]=tgt_width,ctx[a0_0x3244('0x75')]=tgt_height,ctx[a0_0x3244('0x9a')]=a0_0x3244('0x36'),ctx['fillRect'](0x0,0x0,ctx['width'],ctx[a0_0x3244('0x75')]),ctx[a0_0x3244('0x4b')](qrcode_canvas,dif_width/0x2,dif_height/0x2);!_0x42a6b9&&(_0x42a6b9='');ctx['font']=a0_0x3244('0x5f'),ctx[a0_0x3244('0x62')]=a0_0x3244('0x97'),ctx[a0_0x3244('0x9a')]='black',ctx[a0_0x3244('0x68')](_0x42a6b9,tgt_width/0x2,ori_height+dif_height/0x2+0x12),s=buffer_canvas[0x0][a0_0x3244('0xd')](),qrcode[a0_0x3244('0x2')]();if(_0x143fb8)return x=s['split'](','),window[a0_0x3244('0x88')](x[0x1]);return s;}function addQRCode(_0x2c08c0,_0x14fcef,_0x2e85b6){let _0x56030=window[a0_0x3244('0x37')](_0x2c08c0)['replace']('\x0a',''),_0x433907=buildQRCode(_0x14fcef,_0x2e85b6,![]);return new Promise(function(_0x574101,_0x33c3d6){PDFLib[a0_0x3244('0xae')][a0_0x3244('0xb4')](_0x56030)[a0_0x3244('0x7a')](function(_0x43f90d){_0x43f90d[a0_0x3244('0x6c')](_0x433907)[a0_0x3244('0x7a')](function(_0x5cd301){let _0x5d5377=_0x43f90d[a0_0x3244('0x1b')](0x0),_0x3fab2c=_0x5d5377[a0_0x3244('0x6f')](),_0x1e221f=_0x5d5377[a0_0x3244('0x57')]();_0x5d5377['drawImage'](_0x5cd301,{'x':0x28,'y':0x28,'width':0x50,'height':0x50}),_0x43f90d['saveAsBase64']()['then'](function(_0x1d738a){console[a0_0x3244('0x85')](a0_0x3244('0x91')),console[a0_0x3244('0x85')](_0x1d738a['length'],a0_0x3244('0x80')),_0x574101({'metadata':{'function':a0_0x3244('0x72'),'params':[_0x14fcef,_0x2e85b6,![]]},'raw_data':window[a0_0x3244('0x88')](_0x1d738a),'png':_0x433907});},function(_0xd9b0a0){console[a0_0x3244('0x42')]('error\x20in\x20saveasbase64:'),console[a0_0x3244('0x42')](_0xd9b0a0);});});},function(_0x89bf9f){console[a0_0x3244('0x42')]('shit\x20happens\x20...'),console[a0_0x3244('0x42')](_0x89bf9f);});});}function buildUpdateRequest(_0x5453f1,_0x53a075){let _0x173a63='-------314159265358979323846',_0x25d9ed=a0_0x3244('0xb7')+_0x173a63+'\x0d\x0a',_0x5762f4=a0_0x3244('0xb7')+_0x173a63+'--',_0x8019d1='application/pdf',_0x194724=a0_0x3244('0x33'),_0x3d33a7={'mimeType':_0x8019d1},_0x26ce29=_0x25d9ed+a0_0x3244('0x6a')+JSON[a0_0x3244('0xb')](_0x3d33a7)+_0x25d9ed+a0_0x3244('0x15')+_0x8019d1+'\x0d\x0aContent-Transfer-Encoding:\x20'+_0x194724+a0_0x3244('0x86')+window[a0_0x3244('0x37')](_0x53a075)+_0x5762f4,_0x2abd2b={'path':a0_0x3244('0x55')+_0x5453f1,'method':a0_0x3244('0x56'),'params':{'uploadType':a0_0x3244('0x12'),'fields':'id'},'headers':{'Content-Type':'multipart/related;\x20boundary=\x22'+_0x173a63+'\x22'},'body':_0x26ce29};return _0x2abd2b;}function exportReport(_0x34fcc0,_0x5a61e9,_0x3e9d6f,_0x3c9849){console[a0_0x3244('0x85')](a0_0x3244('0x43')),console[a0_0x3244('0x85')](_0x5a61e9,_0x34fcc0,_0x3e9d6f,_0x3c9849);let _0x2c4386,_0x3f0a01=phrFolderManager[a0_0x3244('0x92')][a0_0x3244('0x41')];_0x3e9d6f?_0x2c4386=_0x3e9d6f:_0x2c4386=_0x3f0a01;let _0x21b69e={'owner':dashContext[a0_0x3244('0x83')](),'calendar_event':_0x34fcc0,'report':_0x5a61e9,'filename':reports[_0x5a61e9][a0_0x3244('0x66')],'tags':[],'raw_data':{}};return new Promise(function(_0x544cd4,_0x2faa21){let _0x40bb9e=reports[_0x5a61e9]['editions'][_0x34fcc0],_0x5713fe=_0x34fcc0+'_'+_0x5a61e9+'_'+a0_0x3244('0x21'),_0x206f4a=_0x34fcc0+'_'+_0x5a61e9+'_'+'_qrcode',_0x34ff04=_0x34fcc0+'_'+_0x5a61e9+'_'+a0_0x3244('0xb6');_0x21b69e['draft']=_0x40bb9e,gapi['client'][a0_0x3244('0x1d')][a0_0x3244('0x3a')]['create']({'uploadType':'media','name':_0x21b69e[a0_0x3244('0x66')]+a0_0x3244('0x9e'),'parents':[_0x2c4386],'body':{'mimeType':a0_0x3244('0x7e')}})[a0_0x3244('0x7a')](function(_0x3cdbfb){console[a0_0x3244('0x18')](a0_0x3244('0x8c'),_0x3cdbfb),_0x21b69e[a0_0x3244('0x5')]=_0x3cdbfb[a0_0x3244('0x4c')]['id'];let _0x36cc34=a0_0x3244('0xf')+_0x21b69e[a0_0x3244('0x5')],_0x4b076c=base_url+a0_0x3244('0x69')+_0x34fcc0+'&report='+_0x5a61e9;console[a0_0x3244('0x85')]('qrcode_url:',_0x4b076c),console[a0_0x3244('0x85')](a0_0x3244('0x11'),_0x36cc34),previewDoc(_0x40bb9e,_0x5713fe)['then'](function(_0xa471c1){console[a0_0x3244('0x18')]('previewDoc:',_0xa471c1),_0x21b69e[a0_0x3244('0x45')][a0_0x3244('0x76')](a0_0x3244('0xa2')),_0x21b69e[a0_0x3244('0x10')]=_0xa471c1[a0_0x3244('0xa')],_0x21b69e[a0_0x3244('0xac')][a0_0x3244('0x54')]=_0xa471c1[a0_0x3244('0xac')];if(_0x3c9849)_0x3c9849['append']($('<span/>',{'class':a0_0x3244('0x5b'),'data-icon':a0_0x3244('0x89')}));addQRCode(_0xa471c1[a0_0x3244('0xac')],_0x4b076c,_0x21b69e[a0_0x3244('0x66')])[a0_0x3244('0x7a')](function(_0x456769){console['debug']('addQRCode:',_0x456769),_0x21b69e['tags'][a0_0x3244('0x76')](a0_0x3244('0x2d'));if(_0x3c9849)_0x3c9849[a0_0x3244('0xaa')]($(a0_0x3244('0x13'),{'class':a0_0x3244('0x5b'),'data-icon':a0_0x3244('0x2b')}));_0x21b69e[a0_0x3244('0x3b')]=_0x456769[a0_0x3244('0xa')],_0x21b69e[a0_0x3244('0x64')]=_0x36cc34,_0x21b69e[a0_0x3244('0xac')][a0_0x3244('0x48')]=_0x456769[a0_0x3244('0x8d')],_0x21b69e[a0_0x3244('0xac')][a0_0x3244('0x3b')]=_0x456769[a0_0x3244('0xac')],signDocument(_0x456769['raw_data'])[a0_0x3244('0x7a')](function(_0x9a9792){console['debug'](a0_0x3244('0x1e'),_0x9a9792);if(_0x3c9849)_0x3c9849[a0_0x3244('0xaa')]($(a0_0x3244('0x13'),{'class':a0_0x3244('0x5b'),'data-icon':'ant-design:safety-certificate-outlined'}));_0x21b69e['pdf_signed']=_0x9a9792[a0_0x3244('0xa')],_0x21b69e[a0_0x3244('0xac')][a0_0x3244('0x8a')]=_0x9a9792['raw_data'],_0x21b69e[a0_0x3244('0x45')][a0_0x3244('0x76')](a0_0x3244('0x79')),uploadPdf(_0x34ff04,_0x3f0a01,_0x9a9792[a0_0x3244('0xac')])['then'](function(_0x4d207e){console[a0_0x3244('0x18')]('uploadPdf\x20final:',_0x4d207e);let _0x41910a=buildUpdateRequest(_0x21b69e[a0_0x3244('0x5')],_0x9a9792[a0_0x3244('0xac')]);gapi[a0_0x3244('0x74')][a0_0x3244('0x8b')](_0x41910a)[a0_0x3244('0x7a')](function(_0x48df68){console[a0_0x3244('0x18')](a0_0x3244('0x8'),_0x48df68),_0x21b69e[a0_0x3244('0x45')][a0_0x3244('0x76')](a0_0x3244('0x7c'));if(_0x3c9849)_0x3c9849[a0_0x3244('0xaa')]($(a0_0x3244('0x13'),{'class':a0_0x3244('0x5b'),'data-icon':a0_0x3244('0x39')}));_0x21b69e[a0_0x3244('0x8a')]=_0x4d207e[a0_0x3244('0xa')],_0x544cd4(_0x21b69e);},_0xed5483=>{console[a0_0x3244('0x42')](_0xed5483),_0x2faa21(_0xed5483);});},_0x23efce=>{console['error'](_0x23efce),_0x2faa21(_0x23efce);});},function(_0x306bf4){console['debug'](a0_0x3244('0x95'),_0x306bf4),_0x21b69e['raw_data'][a0_0x3244('0x8a')]=_0x456769[a0_0x3244('0xac')],uploadPdf(_0x206f4a,_0x3f0a01,_0x456769['raw_data'])[a0_0x3244('0x7a')](function(_0x379873){console[a0_0x3244('0x18')](a0_0x3244('0x2c'),_0x379873);let _0x165ace=buildUpdateRequest(_0x21b69e['published_file_id'],_0x456769[a0_0x3244('0xac')]);gapi[a0_0x3244('0x74')]['request'](_0x165ace)['then'](function(_0x48e435){console[a0_0x3244('0x18')](a0_0x3244('0x8'),_0x48e435),_0x21b69e['tags'][a0_0x3244('0x76')](a0_0x3244('0x7c'));if(_0x3c9849)_0x3c9849[a0_0x3244('0xaa')]($('<span/>',{'class':a0_0x3244('0x5b'),'data-icon':'mdi:cloud-upload-outline'}));_0x21b69e[a0_0x3244('0x8a')]=_0x379873[a0_0x3244('0xa')],_0x544cd4(_0x21b69e);},_0x1adc4b=>{console['error'](_0x1adc4b),_0x2faa21(_0x1adc4b);});},_0x24bbbf=>{console[a0_0x3244('0x42')](_0x24bbbf),_0x2faa21(_0x24bbbf);});});},_0x374e5a=>{console[a0_0x3244('0x42')](_0x374e5a);});},_0x5902ba=>{console[a0_0x3244('0x42')](a0_0x3244('0xa3'),_0x5713fe);});},_0x19afb9=>{console[a0_0x3244('0x42')](_0x19afb9);});});}function buildReport(_0x586ab8,_0x49ae56,_0x2eba61,_0x1688a0){showLoading(),console[a0_0x3244('0x85')](a0_0x3244('0x87')+_0x586ab8+',\x20'+_0x49ae56+',\x20'+_0x2eba61+',\x20'+_0x1688a0),prev_report=null;for(i in buildSequence){rep=getReport(_0x586ab8,_0x49ae56,buildSequence[i][a0_0x3244('0x3d')]);if(!rep){_0x2eba61==buildSequence[i][a0_0x3244('0x3d')]&&M[a0_0x3244('0x94')]({'html':'gerando\x20PDF\x20de\x20'+reports[_0x586ab8]['filename'],'classes':a0_0x3244('0x32')});console['log']('need\x20to\x20build\x20'+buildSequence[i][a0_0x3244('0x3d')]);var _0x34d24c=_0x49ae56+'_'+_0x586ab8+'_'+'_'+buildSequence[i][a0_0x3244('0x3d')];buildSequence[i]['processor'](prev_report,_0x34d24c)[a0_0x3244('0x7a')](function(_0x3b5d2b){reports[_0x586ab8][_0x2eba61][_0x49ae56]=_0x3b5d2b['id'],files_data[_0x3b5d2b['id']]=_0x3b5d2b[a0_0x3244('0x60')],buildReport(_0x586ab8,_0x49ae56,_0x2eba61,_0x1688a0);},function(_0x4448e8){console[a0_0x3244('0x42')](a0_0x3244('0x28')+buildSequence[i]['name']+':'),console[a0_0x3244('0x42')](_0x4448e8),$[a0_0x3244('0xab')](_0x4448e8);});break;}else{prev_report=rep,console['log'](buildSequence[i][a0_0x3244('0x3d')]+':\x20'+rep);if(buildSequence[i][a0_0x3244('0x3d')]==_0x2eba61){_0x1688a0(rep);break;}}}}function ensureReport(_0x3239cb){return new Promise(function(_0x3fb538,_0x49586f){evt=dashContext[a0_0x3244('0x38')](),templates_dir=phrFolderManager[a0_0x3244('0x92')][a0_0x3244('0x7d')],drafts_dir=phrFolderManager[a0_0x3244('0x92')][a0_0x3244('0x41')];var _0x3beb1b={'pageSize':0x1,'fields':'files(id,\x20name,\x20mimeType,\x20parents)','q':'\x27'+drafts_dir+a0_0x3244('0x5d')+evt['calendar_id']+'_'+_0x3239cb+'\x27'};showLoading();var _0x23a84a=gapi['client']['drive'][a0_0x3244('0x3a')][a0_0x3244('0x6')](_0x3beb1b)[a0_0x3244('0x7a')](function(_0x2a1ad8){if(_0x2a1ad8[a0_0x3244('0x4c')][a0_0x3244('0x3a')][a0_0x3244('0x9b')]==0x0)var _0x1d172f={'pageSize':0x1,'fields':a0_0x3244('0xb1'),'q':'\x27'+templates_dir+a0_0x3244('0x58')+reports[_0x3239cb][a0_0x3244('0x66')]+'\x27'},_0x19b3d8=gapi['client'][a0_0x3244('0x1d')][a0_0x3244('0x3a')][a0_0x3244('0x6')](_0x1d172f)['then'](function(_0x3302c1){if(_0x3302c1[a0_0x3244('0x4c')]['files'][a0_0x3244('0x9b')]==0x1)M[a0_0x3244('0x94')]({'html':'gerando\x20relatório\x20'+_0x3239cb+'\x20a\x20partir\x20de\x20modelo\x20próprio','classes':a0_0x3244('0x32')}),original=_0x3302c1[a0_0x3244('0x4c')][a0_0x3244('0x3a')][0x0]['id'];else _0x3302c1[a0_0x3244('0x4c')][a0_0x3244('0x3a')][a0_0x3244('0x9b')]==0x0&&(original=reports[_0x3239cb]['default_id'],M['toast']({'html':a0_0x3244('0x9f')+_0x3239cb+'\x20a\x20partir\x20de\x20modelo\x20da\x20Empatizo','classes':'rounded'}));copy_data={'fileId':original,'name':evt[a0_0x3244('0x4e')]+'_'+_0x3239cb,'supportsAllDrives':!![],'parents':[drafts_dir]};var _0x3e2036=gapi[a0_0x3244('0x74')][a0_0x3244('0x1d')][a0_0x3244('0x3a')][a0_0x3244('0x27')](copy_data)[a0_0x3244('0x7a')](function(_0x269551){gapi['client']['docs'][a0_0x3244('0x17')][a0_0x3244('0x71')]({'documentId':_0x269551[a0_0x3244('0x4c')]['id']})[a0_0x3244('0x7a')](function(_0x2282b6){texts=getKeys(_0x2282b6,a0_0x3244('0x24')),M[a0_0x3244('0x94')]({'html':a0_0x3244('0x14'),'classes':a0_0x3244('0x32')});var _0x20e9c7=[];for(i in texts){t=texts[i],content=t['content'],matchs=String(content)['match'](/(\{\{[a-zA-Z\. \|_\-]+\}\})+/g),matchs&&(_0x20e9c7=_0x20e9c7[a0_0x3244('0x5e')](matchs));}replaces=getReplaces(_0x20e9c7),requests=[],keys=Object['keys'](replaces);for(i in keys){stuff=keys[i],requests[a0_0x3244('0x76')]({'replaceAllText':{'containsText':{'text':stuff,'matchCase':!![]},'replaceText':String(replaces[keys[i]])}});}gapi['client']['docs'][a0_0x3244('0x17')][a0_0x3244('0x96')]({'documentId':_0x269551[a0_0x3244('0x4c')]['id'],'resource':{'requests':requests}})[a0_0x3244('0x7a')](function(_0x4adef2){dashContext[a0_0x3244('0x67')](_0x4adef2[a0_0x3244('0x4c')]['id'],'report'),evt_id=dashContext['getCurrentEvent']()['id'],reports[_0x3239cb][a0_0x3244('0x46')][evt_id]=_0x269551[a0_0x3244('0x4c')]['id'],_0x3fb538(_0x269551[a0_0x3244('0x4c')]['id']);},function(_0x405b85){console[a0_0x3244('0x85')]('error\x20updating\x20template\x20variables:'),console[a0_0x3244('0x42')](_0x405b85),_0x49586f(_0x405b85);},this);},function(_0x31b0b2){console[a0_0x3244('0x42')]('error\x20editing\x20report\x20template:'),console[a0_0x3244('0x42')](_0x31b0b2);});},function(_0x14819c){console[a0_0x3244('0x85')](_0x14819c);},this);},function(_0x59e12a){console[a0_0x3244('0x42')](_0x59e12a);},this);else M['toast']({'html':'recuperando\x20relatório\x20editado\x20préviamente','classes':'rounded'}),dashContext[a0_0x3244('0x67')](_0x2a1ad8[a0_0x3244('0x4c')][a0_0x3244('0x3a')][0x0]['id'],a0_0x3244('0x51')),evt_id=dashContext[a0_0x3244('0x38')]()['id'],reports[_0x3239cb]['editions'][evt_id]=_0x2a1ad8['result'][a0_0x3244('0x3a')][0x0]['id'],_0x3fb538(_0x2a1ad8[a0_0x3244('0x4c')]['files'][0x0]['id']);},function(_0x20018f){console['log'](_0x20018f),_0x49586f(_0x20018f);},this);hideLoading();});}function openReport(_0x171cc2){ensureReport(_0x171cc2)[a0_0x3244('0x7a')](function(_0x35d09c){var _0xdc0d87=null,_0x24d1ac=screen[a0_0x3244('0x63')]-0x258,_0x5b374b=screen[a0_0x3244('0x75')];M[a0_0x3244('0x94')]({'html':a0_0x3244('0x40'),'classes':a0_0x3244('0x32')}),reportWindow=window[a0_0x3244('0x6b')]('https://docs.google.com/document/d/'+_0x35d09c,a0_0x3244('0x4a')+_0x171cc2,'width='+_0x24d1ac+a0_0x3244('0x26')+_0x5b374b+a0_0x3244('0x82'));},function(_0x2b6570){console['error'](_0x2b6570);});}function getKeys(_0xd3cc0b,_0x3bd8fd){var _0xf6fb94=[],_0x2af471=Object['keys'](_0xd3cc0b);for(var _0x2a984a in _0x2af471){if(_0x2af471[_0x2a984a]==_0x3bd8fd)_0xf6fb94[a0_0x3244('0x76')](_0xd3cc0b[_0x2af471[_0x2a984a]]);else typeof _0xd3cc0b[_0x2af471[_0x2a984a]]===a0_0x3244('0x49')&&_0xd3cc0b[_0x2af471[_0x2a984a]]!==null&&(res=getKeys(_0xd3cc0b[_0x2af471[_0x2a984a]],_0x3bd8fd),res['length']>0x0&&(_0xf6fb94=_0xf6fb94['concat'](res)));}return _0xf6fb94;}function getReplaces(_0x393e12){var _0x2f1531=/\{\{\s?(.+)\s?\}\}/g,_0x5d45c5=/([^.]+)\.([^|]+)\|?(.*)/g,_0x5333ac={};for(i in _0x393e12){var _0x4e5a15=new RegExp(_0x2f1531),_0x49d300=new RegExp(_0x5d45c5),_0x7ea21f='',_0x20b6e2='',_0x1f2253='',_0x456d45=_0x4e5a15[a0_0x3244('0x6e')](String(_0x393e12[i])),_0x594198='';console[a0_0x3244('0x18')](a0_0x3244('0x7f')+_0x393e12[i]+'\x22');if(_0x456d45){console[a0_0x3244('0x18')]('matched\x20var:\x20'+_0x456d45);var _0x41da2e=_0x49d300['exec'](String(_0x456d45[0x1]));if(_0x41da2e){_0x7ea21f=_0x41da2e[0x1],_0x20b6e2=_0x41da2e[0x2],_0x1f2253=_0x41da2e[0x3],evt=dashContext[a0_0x3244('0x38')]();if(_0x7ea21f=='host')tgt=evt['host'];else{if(_0x7ea21f==a0_0x3244('0x61'))tgt=evt['guest'];else{if(_0x7ea21f==a0_0x3244('0x81'))tgt=evt;else _0x7ea21f==a0_0x3244('0x9')&&(tgt=phrFolderManager[a0_0x3244('0xa9')]());}}console[a0_0x3244('0x18')](a0_0x3244('0xe')),console['debug'](tgt+'\x20=>\x20'+_0x20b6e2),elm=getDescendantProp(tgt,_0x20b6e2),console[a0_0x3244('0x18')](elm),_0x594198=elm;if(_0x1f2253&&_0x1f2253!=''){var _0x17e4be=_0x1f2253[a0_0x3244('0x78')]('.'),_0x2e2b34=window['filter_'+_0x17e4be[0x0]];typeof _0x2e2b34==a0_0x3244('0x30')&&(_0x17e4be[a0_0x3244('0x9b')]>0x1?_0x594198=_0x2e2b34(elm,_0x17e4be[0x1]):_0x594198=_0x2e2b34(elm)),console[a0_0x3244('0x85')](res);}console[a0_0x3244('0x85')](_0x7ea21f+a0_0x3244('0x3f')+_0x20b6e2+':\x20'+elm);}}else console[a0_0x3244('0x85')](a0_0x3244('0x8f')+_0x456d45);_0x5333ac[_0x393e12[i]]=_0x594198;}return _0x5333ac;}function filter_format_date(_0x235155,_0x230a05){!_0x230a05&&(_0x230a05='LLL');m=moment(_0x235155);if(m[a0_0x3244('0x3c')]())return console[a0_0x3244('0x85')](m),m[a0_0x3244('0x7b')](_0x230a05);return'-';}function filter_format_sex(_0x56ecf1){switch(_0x56ecf1){case'1':case'M':ret=a0_0x3244('0x98');break;case'2':case'F':ret=a0_0x3244('0x4');break;default:ret=ret='';break;}return ret;}function filter_format_value(_0x54375d,_0x311d51){if(_0x311d51){if(_0x311d51==a0_0x3244('0x4d'))return porExtenso(_0x54375d,!![]);}return _0x54375d;}function filter_endereco_cep(_0x42c945){return dados=get_cep_data(_0x42c945),dados?[dados[a0_0x3244('0x9c')],dados['bairro'],dados[a0_0x3244('0x5c')],dados['uf']][a0_0x3244('0xb5')](',\x20'):a0_0x3244('0x3e')+_0x42c945;}function filter_endereco_cep(_0x5d48d9){cep=_0x5d48d9[a0_0x3244('0x44')](/\D/g,'');var _0x5580e2=a0_0x3244('0x3e')+_0x5d48d9;return/^[0-9]{8}$/['test'](cep)&&(console[a0_0x3244('0x18')](a0_0x3244('0x52')),$[a0_0x3244('0x2f')]({'async':![]}),$[a0_0x3244('0xad')]({'type':'GET','async':![],'timeout':0xa,'url':a0_0x3244('0x34')+cep+a0_0x3244('0xa5'),'success':function(_0x46f7ea){console[a0_0x3244('0x18')](_0x46f7ea),_0x5580e2=[_0x46f7ea[a0_0x3244('0x9c')],_0x46f7ea[a0_0x3244('0x90')],_0x46f7ea[a0_0x3244('0x5c')],_0x46f7ea['uf']][a0_0x3244('0xb5')](',\x20'),console[a0_0x3244('0x18')](_0x5580e2);},'error':function(_0x489045){console['log']('error\x20ajaxing:'),console[a0_0x3244('0x85')](_0x489045);}}),$[a0_0x3244('0x2f')]({'async':!![]})),_0x5580e2;}