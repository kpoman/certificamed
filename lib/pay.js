var a0_0x1fc7=['alert','substring','customer_data.Nome','disabled','holder','Valor\x20de\x20\x22','extendedProperties.shared.cost','pay_data','replace','product_data','date_birth','btn-blue','val','creditCard','card_data.cvv','card_data.holder','customer_data.Sobrenome','cc_cvv','card_data.number','<input\x20id=\x22','test','(Pagador/Cartão)','customer_data.CPF','year','guest','tooltip','description','default','card_data.month','updateTextFields','cc_month','0.00','.fields','dataChecker\x20form\x20submit','indexOf','event_id','customer_data.Complemento','brand','month','customer_data','#payment_value','length','log','expiry','product_data.method','$content','find','$$formSubmit','pay_data.payment_value','value','cc_year','dataChecker:','product_data.Email\x20do\x20comprador','name','product_data.default','attr','<div\x20class=\x22row\x22>','#payment_method','dataObj:','addClass','i\x20at\x20the\x20end:\x20','\x22\x20type=\x22text\x22\x20class=\x22validate\x20fields\x22\x20required\x20/>','each','concat','amount','keys','#payment_validation','readonly','postal_code','(Paciente)','</form>','host','#obj_payment_validation','customer_data.CEP\x20domicílio','</label>','product_data.event_id','600px','0001','cc_number','card_data.year','0.82','prop','(Consulta)','mode','first_name','form','#payment_comments','last_name','creditcard_form','customer_data.Email','substr','customer_data.Celular','setEventPayment','\x22\x20faltante\x20!','method','product_data.notification_url','product_data.item_description','set','product_data.Sobrenome\x20do\x20comprador','#payment_ref','</div>','payment_validation','debug','cc_holder','\x22\x20name=\x22','<div\x20class=\x22input-field\x20col\x20s6\x22>','email','split_pubkey','profile_extras.med_monetize.pagseguro.pubkey','split','\x22\x20tooltip=\x22','card_data','cpf','toUpperCase','BRL','#payment_date','Missing\x20keys:','preventDefault','cvv','notification','hide','product_data.amount','number'];(function(_0x3017b9,_0x1fc701){var _0x36a51f=function(_0x1fd451){while(--_0x1fd451){_0x3017b9['push'](_0x3017b9['shift']());}};_0x36a51f(++_0x1fc701);}(a0_0x1fc7,0x12e));var a0_0x36a5=function(_0x3017b9,_0x1fc701){_0x3017b9=_0x3017b9-0x0;var _0x36a51f=a0_0x1fc7[_0x3017b9];return _0x36a51f;};var card_data={'holder':a0_0x36a5('0x52'),'number':a0_0x36a5('0x55'),'brand':'card_data.brand','month':a0_0x36a5('0x5f'),'year':a0_0x36a5('0x17'),'cvv':a0_0x36a5('0x51')},customer_data={'email':a0_0x36a5('0x21'),'first_name':a0_0x36a5('0x45'),'last_name':a0_0x36a5('0x53'),'phone':a0_0x36a5('0x23'),'cpf':a0_0x36a5('0x59'),'date_birth':'customer_data.Nascimento\x20(dd/mm/aaaa)','postal_code':a0_0x36a5('0x11'),'street':'customer_data.Rua','number':'customer_data.Número\x20rua','complement':a0_0x36a5('0x67')},product_data={'email':a0_0x36a5('0x77'),'first_name':'product_data.Nome\x20do\x20comprador','last_name':a0_0x36a5('0x2a'),'mode':a0_0x36a5('0x79'),'method':a0_0x36a5('0x6f'),'currency':a0_0x36a5('0x3a'),'extra_amount':a0_0x36a5('0x62'),'item_id':a0_0x36a5('0x15'),'description':a0_0x36a5('0x28'),'amount':a0_0x36a5('0x41'),'quantity':'1','notification':a0_0x36a5('0x27'),'event_id':a0_0x36a5('0x13'),'split_pubkey':'product_data.split_pubkey','split_percentage':a0_0x36a5('0x18')},checkout_data=null;function buildCheckoutData(){console[a0_0x36a5('0x2e')]('Building\x20checkout\x20data\x20...');if(!checkout_data){checkout_data={'card_data':card_data,'customer_data':customer_data,'product_data':product_data},host=evt['host'],guest=evt[a0_0x36a5('0x5b')];var _0x1d90f8=getCreditCardInfo(a0_0x36a5('0x20'));checkout_data[a0_0x36a5('0x37')][a0_0x36a5('0x47')]=_0x1d90f8[a0_0x36a5('0x2f')]||checkout_data[a0_0x36a5('0x37')]['holder'],checkout_data[a0_0x36a5('0x37')]['number']=_0x1d90f8[a0_0x36a5('0x16')]||checkout_data[a0_0x36a5('0x37')][a0_0x36a5('0x42')],checkout_data[a0_0x36a5('0x37')][a0_0x36a5('0x68')]=_0x1d90f8['cc_brand']||checkout_data['card_data']['brand'],checkout_data[a0_0x36a5('0x37')]['month']=_0x1d90f8[a0_0x36a5('0x61')]||checkout_data['card_data'][a0_0x36a5('0x69')],checkout_data[a0_0x36a5('0x37')]['year']=_0x1d90f8[a0_0x36a5('0x75')]||checkout_data[a0_0x36a5('0x37')][a0_0x36a5('0x5a')],checkout_data[a0_0x36a5('0x37')]['cvv']=_0x1d90f8[a0_0x36a5('0x54')]||checkout_data['card_data'][a0_0x36a5('0x3e')],checkout_data['product_data'][a0_0x36a5('0x32')]=host[a0_0x36a5('0x32')]||checkout_data['product_data'][a0_0x36a5('0x32')],checkout_data['product_data'][a0_0x36a5('0x1c')]=host[a0_0x36a5('0x1c')]||checkout_data['product_data'][a0_0x36a5('0x1c')],checkout_data[a0_0x36a5('0x4c')][a0_0x36a5('0x1f')]=host[a0_0x36a5('0x1f')]||checkout_data[a0_0x36a5('0x4c')][a0_0x36a5('0x1f')],checkout_data[a0_0x36a5('0x4c')][a0_0x36a5('0x1b')]=a0_0x36a5('0x5e'),checkout_data['product_data'][a0_0x36a5('0x26')]=a0_0x36a5('0x50'),checkout_data[a0_0x36a5('0x4c')][a0_0x36a5('0x5d')]='Consulta\x20Online\x20com\x20'+host[a0_0x36a5('0x1c')]+'\x20'+host['last_name']+'\x20(ref:\x20'+evt['id']+')',checkout_data[a0_0x36a5('0x4c')][a0_0x36a5('0x8')]=checkValueInput(getNested(evt,a0_0x36a5('0x73'))),checkout_data['product_data'][a0_0x36a5('0x3f')]=platform_notifications,checkout_data[a0_0x36a5('0x4c')][a0_0x36a5('0x66')]=evt['id'],checkout_data['product_data'][a0_0x36a5('0x33')]=getNested(host,a0_0x36a5('0x34'))||'',checkout_data[a0_0x36a5('0x6a')]['email']=guest[a0_0x36a5('0x32')]||checkout_data['customer_data'][a0_0x36a5('0x32')],checkout_data[a0_0x36a5('0x6a')][a0_0x36a5('0x1c')]=guest['first_name']||checkout_data[a0_0x36a5('0x6a')][a0_0x36a5('0x1c')],checkout_data['customer_data']['last_name']=guest['last_name']||checkout_data[a0_0x36a5('0x6a')][a0_0x36a5('0x1f')],checkout_data[a0_0x36a5('0x6a')]['phone']=guest['phone']||checkout_data[a0_0x36a5('0x6a')]['phone'],checkout_data[a0_0x36a5('0x6a')][a0_0x36a5('0x38')]=guest[a0_0x36a5('0x38')]||checkout_data[a0_0x36a5('0x6a')][a0_0x36a5('0x38')],checkout_data['customer_data'][a0_0x36a5('0x4d')]=guest[a0_0x36a5('0x4d')]||checkout_data[a0_0x36a5('0x6a')][a0_0x36a5('0x4d')],checkout_data[a0_0x36a5('0x6a')][a0_0x36a5('0xc')]=guest[a0_0x36a5('0xc')]||checkout_data['customer_data'][a0_0x36a5('0xc')];}return console['log'](checkout_data),checkout_data;}function dataChecker(_0xcbd5a4){return new Promise(function(_0x4628ee,_0x2e37ee){parts=Object['keys'](_0xcbd5a4),missing_keys=[],console['debug'](a0_0x36a5('0x76'));for(p in parts){var _0x5adfe7=parts[p],_0x4bd232=_0xcbd5a4[_0x5adfe7];keys=Object[a0_0x36a5('0x9')](_0x4bd232),missed={},prefix=_0x5adfe7+'.';for(k in keys){miss=_0x4bd232[keys[k]][a0_0x36a5('0x65')](prefix),miss>=0x0&&(data=_0x4bd232[keys[k]][a0_0x36a5('0x44')](prefix['length']),missed[prefix+keys[k]]=data);}missing_keys=missing_keys[a0_0x36a5('0x7')](Object[a0_0x36a5('0x9')](missed));}console['debug'](a0_0x36a5('0x3c')),console['debug'](missing_keys);if(missing_keys[a0_0x36a5('0x6c')]>0x0){form_data='<form\x20action=\x22\x22\x20class=\x22formName\x22>',i=0x0;for(k in missing_keys){m=missing_keys[k],p=m[a0_0x36a5('0x35')]('.'),d=p[0x0],v=p[0x1],domain='';d==a0_0x36a5('0x6a')&&(domain=a0_0x36a5('0xd'));d==a0_0x36a5('0x4c')&&(domain=a0_0x36a5('0x1a'));d==a0_0x36a5('0x37')&&(domain=a0_0x36a5('0x58'));label=_0xcbd5a4[d][v][a0_0x36a5('0x22')](d[a0_0x36a5('0x6c')]+0x1);if(i%0x2==0x0)form_data+=a0_0x36a5('0x0');form_data+=a0_0x36a5('0x31'),form_data+=a0_0x36a5('0x56')+m+a0_0x36a5('0x30')+m+a0_0x36a5('0x36')+label+a0_0x36a5('0x5'),form_data+='<label\x20for=\x22'+m+'\x22>'+domain+'\x20'+label+a0_0x36a5('0x12'),form_data+=a0_0x36a5('0x2c');if(i%0x2==0x1)form_data+='</div>';i++;}if(i%0x2==0x1)form_data+=a0_0x36a5('0x2c');console[a0_0x36a5('0x6d')](form_data),console[a0_0x36a5('0x6d')](a0_0x36a5('0x4'),i),form_data+=a0_0x36a5('0xe'),$['confirm']({'title':'Preencha\x20os\x20dados\x20faltantes','boxWidth':a0_0x36a5('0x14'),'content':form_data,'buttons':{'formSubmit':{'text':'Submit','btnClass':a0_0x36a5('0x4e'),'action':function(){console[a0_0x36a5('0x6d')](a0_0x36a5('0x64'));var _0x66fab0=this[a0_0x36a5('0x70')]['find'](a0_0x36a5('0x63'));_0x66fab0[a0_0x36a5('0x6')](function(_0x28d954,_0x4db1f6){id=$(_0x4db1f6)['attr']('id'),val=$(_0x4db1f6)['val'](),lbl=$(_0x4db1f6)['attr'](a0_0x36a5('0x5c')),console['log'](id,val,lbl);if(!val)return $[a0_0x36a5('0x43')](a0_0x36a5('0x48')+lbl+a0_0x36a5('0x25')),_0x2e37ee(),![];console[a0_0x36a5('0x6d')](a0_0x36a5('0x29'),id,'to',val),m=id,p=m[a0_0x36a5('0x35')]('.'),d=p[0x0],v=p[0x1],_0xcbd5a4[d][v]=val;}),_0x4628ee(_0xcbd5a4);}},'cancel':function(){}},'onContentReady':function(){var _0x4cbc51=this;this[a0_0x36a5('0x70')][a0_0x36a5('0x71')](a0_0x36a5('0x1d'))['on']('submit',function(_0x117fc0){_0x117fc0[a0_0x36a5('0x3d')](),_0x4cbc51[a0_0x36a5('0x72')]['trigger']('click');});}}),M[a0_0x36a5('0x60')]();}else _0x4628ee(_0xcbd5a4);});}function setConsultationPayment(_0x3946d0){dashContext[a0_0x36a5('0x24')](_0x3946d0,closeModal,'#modal-payment');}function updatePayment(){console[a0_0x36a5('0x2e')]('update\x20modal_payment\x20with\x20payment\x20information');var _0x382d98=dashContext['getCurrentEvent']();fixed_price=getNested(_0x382d98,a0_0x36a5('0x49')),pay_data=getNested(_0x382d98,a0_0x36a5('0x4a'));pay_data?payment_info=pay_data:payment_info={};restoreForm('payment_form',payment_info),validated=getNested(payment_info,a0_0x36a5('0x2d')),console[a0_0x36a5('0x6d')](fixed_price),console[a0_0x36a5('0x6d')](payment_info),console[a0_0x36a5('0x6d')](dashType);fixed_price&&($(a0_0x36a5('0x6b'))[a0_0x36a5('0x4f')](fixed_price),$(a0_0x36a5('0x6b'))[a0_0x36a5('0x19')]('readonly',!![]));if(dashType==a0_0x36a5('0xf'))$(a0_0x36a5('0x1'))[a0_0x36a5('0x7a')](a0_0x36a5('0x46'),!![]),$(a0_0x36a5('0x2b'))['prop'](a0_0x36a5('0xb'),!![]),$(a0_0x36a5('0x3b'))[a0_0x36a5('0x19')](a0_0x36a5('0xb'),!![]),$(a0_0x36a5('0x1e'))[a0_0x36a5('0x19')]('readonly',!![]);else dashType=='guest'&&(console[a0_0x36a5('0x6d')]('payment\x20validation\x20to\x20readonly'),$(a0_0x36a5('0xa'))[a0_0x36a5('0x19')](a0_0x36a5('0xb'),!![]),$(a0_0x36a5('0x10'))[a0_0x36a5('0x3')](a0_0x36a5('0x40')),validated&&($(a0_0x36a5('0x1'))[a0_0x36a5('0x7a')]('disabled',!![]),$(a0_0x36a5('0x2b'))['prop']('readonly',!![]),$('#payment_date')[a0_0x36a5('0x19')](a0_0x36a5('0xb'),!![]),$(a0_0x36a5('0x1e'))['prop'](a0_0x36a5('0xb'),!![])));M['updateTextFields']();}function closePayment(){}function detectCardType(_0x132ee7){var _0x2b922f={'electron':/^(4026|417500|4405|4508|4844|4913|4917)\d+$/,'maestro':/^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\d+$/,'dankort':/^(5019)\d+$/,'interpayment':/^(636)\d+$/,'unionpay':/^(62|88)\d+$/,'visa':/^4[0-9]{12}(?:[0-9]{3})?$/,'mastercard':/^5[1-5][0-9]{14}$/,'amex':/^3[47][0-9]{13}$/,'diners':/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,'discover':/^6(?:011|5[0-9]{2})[0-9]{12}$/,'jcb':/^(?:2131|1800|35\d{3})\d{11}$/};for(var _0x18bed7 in _0x2b922f){if(_0x2b922f[_0x18bed7][a0_0x36a5('0x57')](_0x132ee7))return _0x18bed7;}}function detectCardNumber(_0x39c162){var _0x4cf0c5=_0x39c162[a0_0x36a5('0x4b')](/[^0-9]/g,'');if(_0x4cf0c5[a0_0x36a5('0x6c')]==0x10)return _0x4cf0c5;return null;}function detectCardMonth(_0x57ebf7){var _0x10bb12=_0x57ebf7[a0_0x36a5('0x4b')](/ /g,'')[a0_0x36a5('0x35')]('/'),_0x37b1b2=_0x10bb12[0x0][a0_0x36a5('0x4b')](/[^0-9]/g,'');return _0x37b1b2;}function detectCardYear(_0x38007d){var _0x1399d8=_0x38007d['replace'](/ /g,'')['split']('/'),_0x1b38a3=_0x1399d8[0x1][a0_0x36a5('0x4b')](/[^0-9]/g,'');return _0x1b38a3[a0_0x36a5('0x6c')]==0x4?_0x1b38a3:'20'+_0x1b38a3;}function detectCardCVV(_0x3740ed){var _0x7220a=_0x3740ed[a0_0x36a5('0x4b')](/[^0-9]/g,'');if(_0x7220a['length']==0x3||_0x7220a[a0_0x36a5('0x6c')]==0x4)return _0x7220a;return null;}function detectCardOwner(_0x17d0d0){return _0x17d0d0[a0_0x36a5('0x39')]();}function getCreditCardInfo(_0x3e9837){var _0x5c037d=$('#'+_0x3e9837)['serializeArray'](),_0x1a855b={};return $(_0x5c037d)[a0_0x36a5('0x6')](function(_0x32194f,_0x2966fb){_0x1a855b[_0x2966fb[a0_0x36a5('0x78')]]=_0x2966fb[a0_0x36a5('0x74')];}),console[a0_0x36a5('0x6d')](a0_0x36a5('0x2')),console[a0_0x36a5('0x6d')](_0x1a855b),creditcard_info={'cc_holder':detectCardOwner(_0x1a855b['name']),'cc_number':detectCardNumber(_0x1a855b[a0_0x36a5('0x42')]),'cc_brand':detectCardType(detectCardNumber(_0x1a855b[a0_0x36a5('0x42')])),'cc_month':detectCardMonth(_0x1a855b[a0_0x36a5('0x6e')]),'cc_year':detectCardYear(_0x1a855b[a0_0x36a5('0x6e')]),'cc_cvv':detectCardCVV(_0x1a855b['cvc'])},creditcard_info;}