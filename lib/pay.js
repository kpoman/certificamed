var a0_0x299a=['update\x20modal_payment\x20with\x20payment\x20information','amount','confirm','card_data.brand','#payment_value','\x22\x20tooltip=\x22','keys','brand','test','customer_data.CPF','dataChecker:','trigger','(Paciente)','card_data.month','</label>','0.00','mode','form','substr','split_pubkey','length','profile_extras.med_monetize.pagseguro.pubkey','customer_data.Complemento','dataObj:','year','cc_number','Missing\x20keys:','find','submit','payment_validation','last_name','btn-blue','replace','<label\x20for=\x22','value','#obj_payment_validation','product_data.amount','preventDefault','expiry','customer_data.Nascimento\x20(dd/mm/aaaa)','serializeArray','cc_month','product_data.event_id','readonly','cvv','indexOf','card_data.cvv','customer_data.Email','#payment_validation','creditcard_form','BRL','cc_cvv','number','description','event_id','#payment_date','$content','<div\x20class=\x22row\x22>','hide','name','notification','log','i\x20at\x20the\x20end:\x20','email','customer_data.Sobrenome','$$formSubmit','prop','updateTextFields','</div>','customer_data','product_data.notification_url','customer_data.Rua','customer_data.Celular','click','product_data.Nome\x20do\x20comprador','customer_data.CEP\x20domicílio','pay_data','phone','customer_data.Número\x20rua','postal_code','<div\x20class=\x22row\x22><div\x20class=\x22col\x20s12\x22><form\x20action=\x22\x22\x20class=\x22formName\x22>','payment_form','0.82','#payment_comments','disabled','\x22\x20faltante\x20!','each','</form></div></div>','<input\x20id=\x22','.fields','card_data','#payment_method','tooltip','extendedProperties.shared.cost','400px','product_data.item_description','Valor\x20de\x20\x22','first_name','guest','Preencha\x20os\x20dados\x20faltantes','payment\x20validation\x20to\x20readonly','setEventPayment','alert','product_data.default','method','val','customer_data.Nome','product_data','month','(Pagador/Cartão)','cc_year','card_data.holder','date_birth','creditCard','#modal-payment','#payment_ref','holder','split','dataChecker\x20form\x20submit','cc_holder','default','cpf','toUpperCase','substring','debug','host','attr'];(function(_0x4e9623,_0x299a1c){var _0x50c086=function(_0x2a08fe){while(--_0x2a08fe){_0x4e9623['push'](_0x4e9623['shift']());}};_0x50c086(++_0x299a1c);}(a0_0x299a,0x1ae));var a0_0x50c0=function(_0x4e9623,_0x299a1c){_0x4e9623=_0x4e9623-0x0;var _0x50c086=a0_0x299a[_0x4e9623];return _0x50c086;};var card_data={'holder':a0_0x50c0('0x3e'),'number':'card_data.number','brand':a0_0x50c0('0x51'),'month':a0_0x50c0('0x5b'),'year':'card_data.year','cvv':a0_0x50c0('0x7c')},customer_data={'email':a0_0x50c0('0x7d'),'first_name':a0_0x50c0('0x39'),'last_name':a0_0x50c0('0xf'),'phone':a0_0x50c0('0x17'),'cpf':a0_0x50c0('0x57'),'date_birth':a0_0x50c0('0x75'),'postal_code':a0_0x50c0('0x1a'),'street':a0_0x50c0('0x16'),'number':a0_0x50c0('0x1d'),'complement':a0_0x50c0('0x64')},product_data={'email':'product_data.Email\x20do\x20comprador','first_name':a0_0x50c0('0x19'),'last_name':'product_data.Sobrenome\x20do\x20comprador','mode':a0_0x50c0('0x36'),'method':'product_data.method','currency':a0_0x50c0('0x1'),'extra_amount':a0_0x50c0('0x5d'),'item_id':'0001','description':a0_0x50c0('0x2e'),'amount':a0_0x50c0('0x72'),'quantity':'1','notification':a0_0x50c0('0x15'),'event_id':a0_0x50c0('0x78'),'split_pubkey':'product_data.split_pubkey','split_percentage':a0_0x50c0('0x21')},checkout_data=null;function buildCheckoutData(){console[a0_0x50c0('0x4b')]('Building\x20checkout\x20data\x20...');if(!checkout_data){checkout_data={'card_data':card_data,'customer_data':customer_data,'product_data':product_data},host=evt['host'],guest=evt[a0_0x50c0('0x31')];var _0x21e151=getCreditCardInfo(a0_0x50c0('0x0'));checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x43')]=_0x21e151[a0_0x50c0('0x46')]||checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x43')],checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x3')]=_0x21e151[a0_0x50c0('0x67')]||checkout_data['card_data']['number'],checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x55')]=_0x21e151['cc_brand']||checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x55')],checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x3b')]=_0x21e151[a0_0x50c0('0x77')]||checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x3b')],checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x66')]=_0x21e151[a0_0x50c0('0x3d')]||checkout_data[a0_0x50c0('0x29')]['year'],checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x7a')]=_0x21e151[a0_0x50c0('0x2')]||checkout_data[a0_0x50c0('0x29')][a0_0x50c0('0x7a')],checkout_data[a0_0x50c0('0x3a')]['email']=host[a0_0x50c0('0xe')]||checkout_data[a0_0x50c0('0x3a')]['email'],checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0x30')]=host[a0_0x50c0('0x30')]||checkout_data[a0_0x50c0('0x3a')]['first_name'],checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0x6c')]=host['last_name']||checkout_data['product_data'][a0_0x50c0('0x6c')],checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0x5e')]=a0_0x50c0('0x47'),checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0x37')]=a0_0x50c0('0x40'),checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0x4')]='Consulta\x20Online\x20com\x20'+host[a0_0x50c0('0x30')]+'\x20'+host[a0_0x50c0('0x6c')]+'\x20(ref:\x20'+evt['id']+')',checkout_data['product_data'][a0_0x50c0('0x4f')]=checkValueInput(getNested(evt,'pay_data.payment_value')),checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0xb')]=platform_notifications,checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0x5')]=evt['id'],checkout_data[a0_0x50c0('0x3a')][a0_0x50c0('0x61')]=getNested(host,a0_0x50c0('0x63'))||'',checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0xe')]=guest[a0_0x50c0('0xe')]||checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0xe')],checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0x30')]=guest[a0_0x50c0('0x30')]||checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0x30')],checkout_data[a0_0x50c0('0x14')]['last_name']=guest['last_name']||checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0x6c')],checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0x1c')]=guest[a0_0x50c0('0x1c')]||checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0x1c')],checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0x48')]=guest[a0_0x50c0('0x48')]||checkout_data['customer_data'][a0_0x50c0('0x48')],checkout_data[a0_0x50c0('0x14')][a0_0x50c0('0x3f')]=guest[a0_0x50c0('0x3f')]||checkout_data[a0_0x50c0('0x14')]['date_birth'],checkout_data[a0_0x50c0('0x14')]['postal_code']=guest[a0_0x50c0('0x1e')]||checkout_data['customer_data']['postal_code'];}return console[a0_0x50c0('0xc')](checkout_data),checkout_data;}function dataChecker(_0x4b0261){return new Promise(function(_0x3263da,_0xb0165f){parts=Object[a0_0x50c0('0x54')](_0x4b0261),missing_keys=[],console[a0_0x50c0('0x4b')](a0_0x50c0('0x58'));for(p in parts){var _0x4b3a3c=parts[p],_0xbf575c=_0x4b0261[_0x4b3a3c];keys=Object[a0_0x50c0('0x54')](_0xbf575c),missed={},prefix=_0x4b3a3c+'.';for(k in keys){miss=_0xbf575c[keys[k]][a0_0x50c0('0x7b')](prefix),miss>=0x0&&(data=_0xbf575c[keys[k]][a0_0x50c0('0x4a')](prefix['length']),missed[prefix+keys[k]]=data);}missing_keys=missing_keys['concat'](Object[a0_0x50c0('0x54')](missed));}console[a0_0x50c0('0x4b')](a0_0x50c0('0x68')),console[a0_0x50c0('0x4b')](missing_keys);if(missing_keys[a0_0x50c0('0x62')]>0x0){form_data=a0_0x50c0('0x1f'),i=0x0;for(k in missing_keys){m=missing_keys[k],p=m[a0_0x50c0('0x44')]('.'),d=p[0x0],v=p[0x1],domain='',d==a0_0x50c0('0x14')&&(domain=a0_0x50c0('0x5a')),d==a0_0x50c0('0x3a')&&(domain='(Consulta)'),d==a0_0x50c0('0x29')&&(domain=a0_0x50c0('0x3c')),label=_0x4b0261[d][v][a0_0x50c0('0x60')](d['length']+0x1),form_data+=a0_0x50c0('0x8'),form_data+='<div\x20class=\x22input-field\x20col\x20s12\x22>',form_data+=a0_0x50c0('0x27')+m+'\x22\x20name=\x22'+m+a0_0x50c0('0x53')+label+'\x22\x20type=\x22text\x22\x20class=\x22validate\x20fields\x22\x20required\x20/>',form_data+=a0_0x50c0('0x6f')+m+'\x22>'+domain+'\x20'+label+a0_0x50c0('0x5c'),form_data+=a0_0x50c0('0x13'),form_data+=a0_0x50c0('0x13'),i++;}if(i%0x2==0x1)form_data+=a0_0x50c0('0x13');console[a0_0x50c0('0xc')](form_data),console['log'](a0_0x50c0('0xd'),i),form_data+=a0_0x50c0('0x26'),$[a0_0x50c0('0x50')]({'title':a0_0x50c0('0x32'),'boxWidth':a0_0x50c0('0x2d'),'content':form_data,'buttons':{'cancel':function(){_0x477756:'Cancelar';},'formSubmit':{'text':'Enviar','btnClass':a0_0x50c0('0x6d'),'action':function(){console[a0_0x50c0('0xc')](a0_0x50c0('0x45'));var _0x4ae852=this[a0_0x50c0('0x7')]['find'](a0_0x50c0('0x28'));_0x4ae852[a0_0x50c0('0x25')](function(_0x47da24,_0x5973c8){id=$(_0x5973c8)[a0_0x50c0('0x4d')]('id'),val=$(_0x5973c8)[a0_0x50c0('0x38')](),lbl=$(_0x5973c8)[a0_0x50c0('0x4d')](a0_0x50c0('0x2b')),console[a0_0x50c0('0xc')](id,val,lbl);if(!val)return $[a0_0x50c0('0x35')](a0_0x50c0('0x2f')+lbl+a0_0x50c0('0x24')),_0xb0165f(),![];console[a0_0x50c0('0xc')]('set',id,'to',val),m=id,p=m['split']('.'),d=p[0x0],v=p[0x1],_0x4b0261[d][v]=val;}),_0x3263da(_0x4b0261);}}},'onContentReady':function(){var _0x1bf7fd=this;this[a0_0x50c0('0x7')][a0_0x50c0('0x69')](a0_0x50c0('0x5f'))['on'](a0_0x50c0('0x6a'),function(_0x16d5e9){_0x16d5e9[a0_0x50c0('0x73')](),_0x1bf7fd[a0_0x50c0('0x10')][a0_0x50c0('0x59')](a0_0x50c0('0x18'));});}}),M[a0_0x50c0('0x12')]();}else _0x3263da(_0x4b0261);});}function setConsultationPayment(_0x4b2cf2){dashContext[a0_0x50c0('0x34')](_0x4b2cf2,closeModal,a0_0x50c0('0x41'));}function updatePayment(){console['debug'](a0_0x50c0('0x4e'));var _0x161e72=dashContext['getCurrentEvent']();fixed_price=getNested(_0x161e72,a0_0x50c0('0x2c')),pay_data=getNested(_0x161e72,a0_0x50c0('0x1b'));pay_data?payment_info=pay_data:payment_info={};restoreForm(a0_0x50c0('0x20'),payment_info),validated=getNested(payment_info,a0_0x50c0('0x6b')),console['log'](fixed_price),console[a0_0x50c0('0xc')](payment_info),console['log'](dashType);fixed_price&&($('#payment_value')[a0_0x50c0('0x38')](fixed_price),$(a0_0x50c0('0x52'))[a0_0x50c0('0x11')]('readonly',!![]));if(dashType==a0_0x50c0('0x4c'))$('#payment_method')[a0_0x50c0('0x4d')](a0_0x50c0('0x23'),!![]),$('#payment_ref')[a0_0x50c0('0x11')](a0_0x50c0('0x79'),!![]),$(a0_0x50c0('0x6'))[a0_0x50c0('0x11')](a0_0x50c0('0x79'),!![]),$(a0_0x50c0('0x22'))['prop'](a0_0x50c0('0x79'),!![]);else dashType==a0_0x50c0('0x31')&&(console['log'](a0_0x50c0('0x33')),$(a0_0x50c0('0x7e'))[a0_0x50c0('0x11')]('readonly',!![]),$(a0_0x50c0('0x71'))['addClass'](a0_0x50c0('0x9')),validated&&($(a0_0x50c0('0x2a'))[a0_0x50c0('0x4d')](a0_0x50c0('0x23'),!![]),$(a0_0x50c0('0x42'))[a0_0x50c0('0x11')](a0_0x50c0('0x79'),!![]),$(a0_0x50c0('0x6'))[a0_0x50c0('0x11')]('readonly',!![]),$(a0_0x50c0('0x22'))[a0_0x50c0('0x11')](a0_0x50c0('0x79'),!![])));M[a0_0x50c0('0x12')]();}function closePayment(){}function detectCardType(_0x54b322){var _0x368c8d={'electron':/^(4026|417500|4405|4508|4844|4913|4917)\d+$/,'maestro':/^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\d+$/,'dankort':/^(5019)\d+$/,'interpayment':/^(636)\d+$/,'unionpay':/^(62|88)\d+$/,'visa':/^4[0-9]{12}(?:[0-9]{3})?$/,'mastercard':/^5[1-5][0-9]{14}$/,'amex':/^3[47][0-9]{13}$/,'diners':/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,'discover':/^6(?:011|5[0-9]{2})[0-9]{12}$/,'jcb':/^(?:2131|1800|35\d{3})\d{11}$/};for(var _0x9b03cc in _0x368c8d){if(_0x368c8d[_0x9b03cc][a0_0x50c0('0x56')](_0x54b322))return _0x9b03cc;}}function detectCardNumber(_0x592e59){var _0x38462d=_0x592e59['replace'](/[^0-9]/g,'');if(_0x38462d[a0_0x50c0('0x62')]==0x10)return _0x38462d;return null;}function detectCardMonth(_0x5a3c7d){var _0x13d80f=_0x5a3c7d[a0_0x50c0('0x6e')](/ /g,'')[a0_0x50c0('0x44')]('/'),_0x28e013=_0x13d80f[0x0][a0_0x50c0('0x6e')](/[^0-9]/g,'');return _0x28e013;}function detectCardYear(_0x5ea339){var _0x399f22=_0x5ea339[a0_0x50c0('0x6e')](/ /g,'')['split']('/'),_0x1f11ed=_0x399f22[0x1][a0_0x50c0('0x6e')](/[^0-9]/g,'');return _0x1f11ed[a0_0x50c0('0x62')]==0x4?_0x1f11ed:'20'+_0x1f11ed;}function detectCardCVV(_0x1c35d8){var _0x4d5eb5=_0x1c35d8[a0_0x50c0('0x6e')](/[^0-9]/g,'');if(_0x4d5eb5[a0_0x50c0('0x62')]==0x3||_0x4d5eb5[a0_0x50c0('0x62')]==0x4)return _0x4d5eb5;return null;}function detectCardOwner(_0x5adf9e){return _0x5adf9e[a0_0x50c0('0x49')]();}function getCreditCardInfo(_0x5c1e84){var _0x4deee7=$('#'+_0x5c1e84)[a0_0x50c0('0x76')](),_0x483047={};return $(_0x4deee7)[a0_0x50c0('0x25')](function(_0x4bd6db,_0x288c99){_0x483047[_0x288c99[a0_0x50c0('0xa')]]=_0x288c99[a0_0x50c0('0x70')];}),console[a0_0x50c0('0xc')](a0_0x50c0('0x65')),console[a0_0x50c0('0xc')](_0x483047),creditcard_info={'cc_holder':detectCardOwner(_0x483047[a0_0x50c0('0xa')]),'cc_number':detectCardNumber(_0x483047[a0_0x50c0('0x3')]),'cc_brand':detectCardType(detectCardNumber(_0x483047['number'])),'cc_month':detectCardMonth(_0x483047[a0_0x50c0('0x74')]),'cc_year':detectCardYear(_0x483047[a0_0x50c0('0x74')]),'cc_cvv':detectCardCVV(_0x483047['cvc'])},creditcard_info;}