var a0_0x2fc8=['$content','#payment_ref','product_data.default','#modal-payment','<label\x20for=\x22','profile_extras.med_monetize.pagseguro.pubkey','year','product_data.Nome\x20do\x20comprador','customer_data.Nascimento\x20(dd/mm/aaaa)','customer_data.Rua','concat','Consulta\x20Online\x20com\x20','replace','cvv','indexOf','card_data','first_name','i\x20at\x20the\x20end:\x20','creditcard_form','guest','name','val','last_name','0.00','cc_month','Enviar','\x22\x20tooltip=\x22','customer_data.Sobrenome','\x22\x20name=\x22','brand','400px','customer_data.Email','serializeArray','extendedProperties.shared.cost','keys','card_data.year','product_data.event_id','Building\x20checkout\x20data\x20...','product_data.method','find','card_data.number','btn-blue','\x20(ref:\x20','payment_form','(Pagador/Cartão)','dataChecker:','updateTextFields','customer_data.CPF','<form\x20action=\x22\x22\x20class=\x22formName\x22>','Missing\x20keys:','pay_data.payment_value','method','hide','product_data.split_pubkey','date_birth','prop','pay_data','month','email','#obj_payment_validation','</label>','amount','split','alert','preventDefault','length','card_data.cvv','split_pubkey','attr','cpf','cc_cvv','form','click','log','tooltip','0001','description','card_data.month','customer_data.Número\x20rua','holder','substring','card_data.brand','payment_validation','update\x20modal_payment\x20with\x20payment\x20information','creditCard','BRL','customer_data','dataObj:','product_data.notification_url','cvc','debug','#payment_date','product_data','<input\x20id=\x22','<div\x20class=\x22row\x22>','#payment_value','readonly','addClass','submit','setEventPayment','toUpperCase','trigger','postal_code','customer_data.Complemento','disabled','expiry','#payment_comments','set','host','#payment_method','(Consulta)','Cancelar','number','</div>','customer_data.CEP\x20domicílio','substr','phone','</form>','cc_year','product_data.Email\x20do\x20comprador','Valor\x20de\x20\x22'];(function(_0x40ff89,_0x2fc8ee){var _0x34f8cf=function(_0x1d0370){while(--_0x1d0370){_0x40ff89['push'](_0x40ff89['shift']());}};_0x34f8cf(++_0x2fc8ee);}(a0_0x2fc8,0x175));var a0_0x34f8=function(_0x40ff89,_0x2fc8ee){_0x40ff89=_0x40ff89-0x0;var _0x34f8cf=a0_0x2fc8[_0x40ff89];return _0x34f8cf;};var card_data={'holder':'card_data.holder','number':a0_0x34f8('0x1e'),'brand':a0_0x34f8('0x47'),'month':a0_0x34f8('0x43'),'year':a0_0x34f8('0x19'),'cvv':a0_0x34f8('0x38')},customer_data={'email':a0_0x34f8('0x15'),'first_name':'customer_data.Nome','last_name':a0_0x34f8('0x11'),'phone':'customer_data.Celular','cpf':a0_0x34f8('0x25'),'date_birth':a0_0x34f8('0x77'),'postal_code':a0_0x34f8('0x68'),'street':a0_0x34f8('0x78'),'number':a0_0x34f8('0x44'),'complement':a0_0x34f8('0x5d')},product_data={'email':a0_0x34f8('0x6d'),'first_name':a0_0x34f8('0x76'),'last_name':'product_data.Sobrenome\x20do\x20comprador','mode':a0_0x34f8('0x71'),'method':a0_0x34f8('0x1c'),'currency':a0_0x34f8('0x4b'),'extra_amount':a0_0x34f8('0xd'),'item_id':a0_0x34f8('0x41'),'description':'product_data.item_description','amount':'product_data.amount','quantity':'1','notification':a0_0x34f8('0x4e'),'event_id':a0_0x34f8('0x1a'),'split_pubkey':a0_0x34f8('0x2b'),'split_percentage':'0.82'},checkout_data=null;function buildCheckoutData(){console[a0_0x34f8('0x50')](a0_0x34f8('0x1b'));if(!checkout_data){checkout_data={'card_data':card_data,'customer_data':customer_data,'product_data':product_data},host=evt[a0_0x34f8('0x62')],guest=evt['guest'];var _0x335d00=getCreditCardInfo(a0_0x34f8('0x8'));checkout_data[a0_0x34f8('0x5')][a0_0x34f8('0x45')]=_0x335d00['cc_holder']||checkout_data[a0_0x34f8('0x5')]['holder'],checkout_data['card_data'][a0_0x34f8('0x66')]=_0x335d00['cc_number']||checkout_data[a0_0x34f8('0x5')]['number'],checkout_data['card_data'][a0_0x34f8('0x13')]=_0x335d00['cc_brand']||checkout_data[a0_0x34f8('0x5')][a0_0x34f8('0x13')],checkout_data[a0_0x34f8('0x5')][a0_0x34f8('0x2f')]=_0x335d00[a0_0x34f8('0xe')]||checkout_data[a0_0x34f8('0x5')][a0_0x34f8('0x2f')],checkout_data[a0_0x34f8('0x5')][a0_0x34f8('0x75')]=_0x335d00[a0_0x34f8('0x6c')]||checkout_data[a0_0x34f8('0x5')]['year'],checkout_data[a0_0x34f8('0x5')][a0_0x34f8('0x3')]=_0x335d00[a0_0x34f8('0x3c')]||checkout_data[a0_0x34f8('0x5')][a0_0x34f8('0x3')],checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0x30')]=host['email']||checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0x30')],checkout_data['product_data'][a0_0x34f8('0x6')]=host[a0_0x34f8('0x6')]||checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0x6')],checkout_data[a0_0x34f8('0x52')]['last_name']=host[a0_0x34f8('0xc')]||checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0xc')],checkout_data[a0_0x34f8('0x52')]['mode']='default',checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0x29')]=a0_0x34f8('0x4a'),checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0x42')]=a0_0x34f8('0x1')+host[a0_0x34f8('0x6')]+'\x20'+host[a0_0x34f8('0xc')]+a0_0x34f8('0x20')+evt['id']+')',checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0x33')]=checkValueInput(getNested(evt,a0_0x34f8('0x28'))),checkout_data['product_data']['notification']=platform_notifications,checkout_data[a0_0x34f8('0x52')]['event_id']=evt['id'],checkout_data[a0_0x34f8('0x52')][a0_0x34f8('0x39')]=getNested(host,a0_0x34f8('0x74'))||'',checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x30')]=guest[a0_0x34f8('0x30')]||checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x30')],checkout_data['customer_data'][a0_0x34f8('0x6')]=guest[a0_0x34f8('0x6')]||checkout_data[a0_0x34f8('0x4c')]['first_name'],checkout_data[a0_0x34f8('0x4c')]['last_name']=guest[a0_0x34f8('0xc')]||checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0xc')],checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x6a')]=guest[a0_0x34f8('0x6a')]||checkout_data['customer_data'][a0_0x34f8('0x6a')],checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x3b')]=guest[a0_0x34f8('0x3b')]||checkout_data['customer_data']['cpf'],checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x2c')]=guest[a0_0x34f8('0x2c')]||checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x2c')],checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x5c')]=guest['postal_code']||checkout_data[a0_0x34f8('0x4c')][a0_0x34f8('0x5c')];}return console['log'](checkout_data),checkout_data;}function dataChecker(_0x296d2b){return new Promise(function(_0x1ad1e6,_0x5b9562){parts=Object[a0_0x34f8('0x18')](_0x296d2b),missing_keys=[],console[a0_0x34f8('0x50')](a0_0x34f8('0x23'));for(p in parts){var _0x5a762c=parts[p],_0x4ae29c=_0x296d2b[_0x5a762c];keys=Object[a0_0x34f8('0x18')](_0x4ae29c),missed={},prefix=_0x5a762c+'.';for(k in keys){miss=_0x4ae29c[keys[k]][a0_0x34f8('0x4')](prefix),miss>=0x0&&(data=_0x4ae29c[keys[k]][a0_0x34f8('0x46')](prefix[a0_0x34f8('0x37')]),missed[prefix+keys[k]]=data);}missing_keys=missing_keys[a0_0x34f8('0x0')](Object[a0_0x34f8('0x18')](missed));}console[a0_0x34f8('0x50')](a0_0x34f8('0x27')),console[a0_0x34f8('0x50')](missing_keys);if(missing_keys['length']>0x0){form_data=a0_0x34f8('0x26'),i=0x0;for(k in missing_keys){m=missing_keys[k],p=m['split']('.'),d=p[0x0],v=p[0x1],domain='',d==a0_0x34f8('0x4c')&&(domain='(Paciente)'),d==a0_0x34f8('0x52')&&(domain=a0_0x34f8('0x64')),d==a0_0x34f8('0x5')&&(domain=a0_0x34f8('0x22')),label=_0x296d2b[d][v][a0_0x34f8('0x69')](d['length']+0x1),form_data+=a0_0x34f8('0x54'),form_data+='<div\x20class=\x22input-field\x20col\x20s12\x22>',form_data+=a0_0x34f8('0x53')+m+a0_0x34f8('0x12')+m+a0_0x34f8('0x10')+label+'\x22\x20type=\x22text\x22\x20class=\x22validate\x20fields\x22\x20required\x20/>',form_data+=a0_0x34f8('0x73')+m+'\x22>'+domain+'\x20'+label+a0_0x34f8('0x32'),form_data+=a0_0x34f8('0x67'),form_data+='</div>',i++;}if(i%0x2==0x1)form_data+=a0_0x34f8('0x67');console['log'](form_data),console['log'](a0_0x34f8('0x7'),i),form_data+=a0_0x34f8('0x6b'),$['confirm']({'title':'Preencha\x20os\x20dados\x20faltantes','boxWidth':a0_0x34f8('0x14'),'content':form_data,'buttons':{'cancel':function(){_0x394871:a0_0x34f8('0x65');},'formSubmit':{'text':a0_0x34f8('0xf'),'btnClass':a0_0x34f8('0x1f'),'action':function(){console[a0_0x34f8('0x3f')]('dataChecker\x20form\x20submit');var _0x35b3c4=this[a0_0x34f8('0x6f')][a0_0x34f8('0x1d')]('.fields');_0x35b3c4['each'](function(_0x39b268,_0x29c40a){id=$(_0x29c40a)[a0_0x34f8('0x3a')]('id'),val=$(_0x29c40a)[a0_0x34f8('0xb')](),lbl=$(_0x29c40a)[a0_0x34f8('0x3a')](a0_0x34f8('0x40')),console[a0_0x34f8('0x3f')](id,val,lbl);if(!val)return $[a0_0x34f8('0x35')](a0_0x34f8('0x6e')+lbl+'\x22\x20faltante\x20!'),_0x5b9562(),![];console[a0_0x34f8('0x3f')](a0_0x34f8('0x61'),id,'to',val),m=id,p=m[a0_0x34f8('0x34')]('.'),d=p[0x0],v=p[0x1],_0x296d2b[d][v]=val;}),_0x1ad1e6(_0x296d2b);}}},'onContentReady':function(){var _0x16b89a=this;this['$content']['find'](a0_0x34f8('0x3d'))['on'](a0_0x34f8('0x58'),function(_0x14aaf9){_0x14aaf9[a0_0x34f8('0x36')](),_0x16b89a['$$formSubmit'][a0_0x34f8('0x5b')](a0_0x34f8('0x3e'));});}}),M[a0_0x34f8('0x24')]();}else _0x1ad1e6(_0x296d2b);});}function setConsultationPayment(_0x4f3c71){dashContext[a0_0x34f8('0x59')](_0x4f3c71,closeModal,a0_0x34f8('0x72'));}function updatePayment(){console[a0_0x34f8('0x50')](a0_0x34f8('0x49'));var _0xcd0110=dashContext['getCurrentEvent']();fixed_price=getNested(_0xcd0110,a0_0x34f8('0x17')),pay_data=getNested(_0xcd0110,a0_0x34f8('0x2e'));pay_data?payment_info=pay_data:payment_info={};restoreForm(a0_0x34f8('0x21'),payment_info),validated=getNested(payment_info,a0_0x34f8('0x48')),console['log'](fixed_price),console[a0_0x34f8('0x3f')](payment_info),console[a0_0x34f8('0x3f')](dashType);fixed_price&&($(a0_0x34f8('0x55'))[a0_0x34f8('0xb')](fixed_price),$(a0_0x34f8('0x55'))[a0_0x34f8('0x2d')](a0_0x34f8('0x56'),!![]));if(dashType==a0_0x34f8('0x62'))$(a0_0x34f8('0x63'))[a0_0x34f8('0x3a')](a0_0x34f8('0x5e'),!![]),$(a0_0x34f8('0x70'))[a0_0x34f8('0x2d')](a0_0x34f8('0x56'),!![]),$(a0_0x34f8('0x51'))[a0_0x34f8('0x2d')](a0_0x34f8('0x56'),!![]),$(a0_0x34f8('0x60'))[a0_0x34f8('0x2d')](a0_0x34f8('0x56'),!![]);else dashType==a0_0x34f8('0x9')&&(console['log']('payment\x20validation\x20to\x20readonly'),$('#payment_validation')[a0_0x34f8('0x2d')](a0_0x34f8('0x56'),!![]),$(a0_0x34f8('0x31'))[a0_0x34f8('0x57')](a0_0x34f8('0x2a')),validated&&($(a0_0x34f8('0x63'))[a0_0x34f8('0x3a')](a0_0x34f8('0x5e'),!![]),$(a0_0x34f8('0x70'))['prop']('readonly',!![]),$(a0_0x34f8('0x51'))['prop'](a0_0x34f8('0x56'),!![]),$(a0_0x34f8('0x60'))[a0_0x34f8('0x2d')](a0_0x34f8('0x56'),!![])));M[a0_0x34f8('0x24')]();}function closePayment(){}function detectCardType(_0x3e3e62){var _0x17795a={'electron':/^(4026|417500|4405|4508|4844|4913|4917)\d+$/,'maestro':/^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\d+$/,'dankort':/^(5019)\d+$/,'interpayment':/^(636)\d+$/,'unionpay':/^(62|88)\d+$/,'visa':/^4[0-9]{12}(?:[0-9]{3})?$/,'mastercard':/^5[1-5][0-9]{14}$/,'amex':/^3[47][0-9]{13}$/,'diners':/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,'discover':/^6(?:011|5[0-9]{2})[0-9]{12}$/,'jcb':/^(?:2131|1800|35\d{3})\d{11}$/};for(var _0x1393c8 in _0x17795a){if(_0x17795a[_0x1393c8]['test'](_0x3e3e62))return _0x1393c8;}}function detectCardNumber(_0x146189){var _0x131709=_0x146189[a0_0x34f8('0x2')](/[^0-9]/g,'');if(_0x131709[a0_0x34f8('0x37')]==0x10)return _0x131709;return null;}function detectCardMonth(_0x533bba){var _0xd56961=_0x533bba[a0_0x34f8('0x2')](/ /g,'')[a0_0x34f8('0x34')]('/'),_0x561cad=_0xd56961[0x0]['replace'](/[^0-9]/g,'');return _0x561cad;}function detectCardYear(_0x3bab12){var _0x102da6=_0x3bab12['replace'](/ /g,'')[a0_0x34f8('0x34')]('/'),_0x1f557c=_0x102da6[0x1][a0_0x34f8('0x2')](/[^0-9]/g,'');return _0x1f557c[a0_0x34f8('0x37')]==0x4?_0x1f557c:'20'+_0x1f557c;}function detectCardCVV(_0x3a8fe2){var _0x56298c=_0x3a8fe2[a0_0x34f8('0x2')](/[^0-9]/g,'');if(_0x56298c['length']==0x3||_0x56298c[a0_0x34f8('0x37')]==0x4)return _0x56298c;return null;}function detectCardOwner(_0x5ef180){return _0x5ef180[a0_0x34f8('0x5a')]();}function getCreditCardInfo(_0x34ce19){var _0x9b03f=$('#'+_0x34ce19)[a0_0x34f8('0x16')](),_0x2451f2={};return $(_0x9b03f)['each'](function(_0x5c8f3c,_0x4a2f88){_0x2451f2[_0x4a2f88[a0_0x34f8('0xa')]]=_0x4a2f88['value'];}),console['log'](a0_0x34f8('0x4d')),console[a0_0x34f8('0x3f')](_0x2451f2),creditcard_info={'cc_holder':detectCardOwner(_0x2451f2[a0_0x34f8('0xa')]),'cc_number':detectCardNumber(_0x2451f2['number']),'cc_brand':detectCardType(detectCardNumber(_0x2451f2[a0_0x34f8('0x66')])),'cc_month':detectCardMonth(_0x2451f2[a0_0x34f8('0x5f')]),'cc_year':detectCardYear(_0x2451f2['expiry']),'cc_cvv':detectCardCVV(_0x2451f2[a0_0x34f8('0x4f')])},creditcard_info;}